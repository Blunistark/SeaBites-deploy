var W4=Object.defineProperty;var hw=e=>{throw TypeError(e)};var H4=(e,t,r)=>t in e?W4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zo=(e,t,r)=>H4(e,typeof t!="symbol"?t+"":t,r),Qp=(e,t,r)=>t.has(e)||hw("Cannot "+r);var $=(e,t,r)=>(Qp(e,t,"read from private field"),r?r.call(e):t.get(e)),De=(e,t,r)=>t.has(e)?hw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),we=(e,t,r,n)=>(Qp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),et=(e,t,r)=>(Qp(e,t,"access private method"),r);var ch=(e,t,r,n)=>({set _(i){we(e,t,i,r)},get _(){return $(e,t,n)}});function q4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var w1={exports:{}},pm={},b1={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),K4=Symbol.for("react.portal"),G4=Symbol.for("react.fragment"),Q4=Symbol.for("react.strict_mode"),Y4=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),eA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),rA=Symbol.for("react.memo"),nA=Symbol.for("react.lazy"),fw=Symbol.iterator;function sA(e){return e===null||typeof e!="object"?null:(e=fw&&e[fw]||e["@@iterator"],typeof e=="function"?e:null)}var j1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N1=Object.assign,S1={};function dc(e,t,r){this.props=e,this.context=t,this.refs=S1,this.updater=r||j1}dc.prototype.isReactComponent={};dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C1(){}C1.prototype=dc.prototype;function qx(e,t,r){this.props=e,this.context=t,this.refs=S1,this.updater=r||j1}var Zx=qx.prototype=new C1;Zx.constructor=qx;N1(Zx,dc.prototype);Zx.isPureReactComponent=!0;var mw=Array.isArray,k1=Object.prototype.hasOwnProperty,Kx={current:null},P1={key:!0,ref:!0,__self:!0,__source:!0};function E1(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)k1.call(t,n)&&!P1.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:wu,type:e,key:a,ref:l,props:i,_owner:Kx.current}}function iA(e,t){return{$$typeof:wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gx(e){return typeof e=="object"&&e!==null&&e.$$typeof===wu}function aA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pw=/\/+/g;function Yp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aA(""+e.key):t.toString(36)}function Uh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case wu:case K4:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Yp(l,0):n,mw(i)?(r="",e!=null&&(r=e.replace(pw,"$&/")+"/"),Uh(i,t,r,"",function(h){return h})):i!=null&&(Gx(i)&&(i=iA(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(pw,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",mw(e))for(var c=0;c<e.length;c++){a=e[c];var u=n+Yp(a,c);l+=Uh(a,t,r,u,i)}else if(u=sA(e),typeof u=="function")for(e=u.call(e),c=0;!(a=e.next()).done;)a=a.value,u=n+Yp(a,c++),l+=Uh(a,t,r,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function dh(e,t,r){if(e==null)return e;var n=[],i=0;return Uh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function oA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},Vh={transition:null},lA={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:Kx};function T1(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:dh,forEach:function(e,t,r){dh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dh(e,function(){t++}),t},toArray:function(e){return dh(e,function(t){return t})||[]},only:function(e){if(!Gx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=dc;st.Fragment=G4;st.Profiler=Y4;st.PureComponent=qx;st.StrictMode=Q4;st.Suspense=tA;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;st.act=T1;st.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=N1({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Kx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k1.call(t,u)&&!P1.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];n.children=c}return{$$typeof:wu,type:e.type,key:i,ref:a,props:n,_owner:l}};st.createContext=function(e){return e={$$typeof:J4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X4,_context:e},e.Consumer=e};st.createElement=E1;st.createFactory=function(e){var t=E1.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:eA,render:e}};st.isValidElement=Gx;st.lazy=function(e){return{$$typeof:nA,_payload:{_status:-1,_result:e},_init:oA}};st.memo=function(e,t){return{$$typeof:rA,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Vh.transition;Vh.transition={};try{e()}finally{Vh.transition=t}};st.unstable_act=T1;st.useCallback=function(e,t){return Zr.current.useCallback(e,t)};st.useContext=function(e){return Zr.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)};st.useEffect=function(e,t){return Zr.current.useEffect(e,t)};st.useId=function(){return Zr.current.useId()};st.useImperativeHandle=function(e,t,r){return Zr.current.useImperativeHandle(e,t,r)};st.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Zr.current.useMemo(e,t)};st.useReducer=function(e,t,r){return Zr.current.useReducer(e,t,r)};st.useRef=function(e){return Zr.current.useRef(e)};st.useState=function(e){return Zr.current.useState(e)};st.useSyncExternalStore=function(e,t,r){return Zr.current.useSyncExternalStore(e,t,r)};st.useTransition=function(){return Zr.current.useTransition()};st.version="18.3.1";b1.exports=st;var v=b1.exports;const te=_1(v),R1=q4({__proto__:null,default:te},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=v,dA=Symbol.for("react.element"),uA=Symbol.for("react.fragment"),hA=Object.prototype.hasOwnProperty,fA=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mA={key:!0,ref:!0,__self:!0,__source:!0};function A1(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)hA.call(t,n)&&!mA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:dA,type:e,key:a,ref:l,props:i,_owner:fA.current}}pm.Fragment=uA;pm.jsx=A1;pm.jsxs=A1;w1.exports=pm;var s=w1.exports,M1={exports:{}},En={},O1={exports:{}},L1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var W=E.length;E.push(A);e:for(;0<W;){var J=W-1>>>1,de=E[J];if(0<i(de,A))E[J]=A,E[W]=de,W=J;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var A=E[0],W=E.pop();if(W!==A){E[0]=W;e:for(var J=0,de=E.length,Ne=de>>>1;J<Ne;){var ke=2*(J+1)-1,Pe=E[ke],he=ke+1,ve=E[he];if(0>i(Pe,W))he<de&&0>i(ve,Pe)?(E[J]=ve,E[he]=W,J=he):(E[J]=Pe,E[ke]=W,J=ke);else if(he<de&&0>i(ve,W))E[J]=ve,E[he]=W,J=he;else break e}}return A}function i(E,A){var W=E.sortIndex-A.sortIndex;return W!==0?W:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],h=[],p=1,m=null,g=3,_=!1,N=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(E){for(var A=r(h);A!==null;){if(A.callback===null)n(h);else if(A.startTime<=E)n(h),A.sortIndex=A.expirationTime,t(u,A);else break;A=r(h)}}function k(E){if(x=!1,j(E),!N)if(r(u)!==null)N=!0,K(T);else{var A=r(h);A!==null&&Q(k,A.startTime-E)}}function T(E,A){N=!1,x&&(x=!1,w(R),R=-1),_=!0;var W=g;try{for(j(A),m=r(u);m!==null&&(!(m.expirationTime>A)||E&&!G());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var de=J(m.expirationTime<=A);A=e.unstable_now(),typeof de=="function"?m.callback=de:m===r(u)&&n(u),j(A)}else n(u);m=r(u)}if(m!==null)var Ne=!0;else{var ke=r(h);ke!==null&&Q(k,ke.startTime-A),Ne=!1}return Ne}finally{m=null,g=W,_=!1}}var I=!1,M=null,R=-1,O=5,z=-1;function G(){return!(e.unstable_now()-z<O)}function U(){if(M!==null){var E=e.unstable_now();z=E;var A=!0;try{A=M(!0,E)}finally{A?Z():(I=!1,M=null)}}else I=!1}var Z;if(typeof b=="function")Z=function(){b(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ie=q.port2;q.port1.onmessage=U,Z=function(){ie.postMessage(null)}}else Z=function(){S(U,0)};function K(E){M=E,I||(I=!0,Z())}function Q(E,A){R=S(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){N||_||(N=!0,K(T))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var W=g;g=A;try{return E()}finally{g=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var W=g;g=E;try{return A()}finally{g=W}},e.unstable_scheduleCallback=function(E,A,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,E){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=W+de,E={id:p++,callback:A,priorityLevel:E,startTime:W,expirationTime:de,sortIndex:-1},W>J?(E.sortIndex=W,t(h,E),r(u)===null&&E===r(h)&&(x?(w(R),R=-1):x=!0,Q(k,W-J))):(E.sortIndex=de,t(u,E),N||_||(N=!0,K(T))),E},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(E){var A=g;return function(){var W=g;g=A;try{return E.apply(this,arguments)}finally{g=W}}}})(L1);O1.exports=L1;var pA=O1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=v,Pn=pA;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I1=new Set,Cd={};function Po(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(Cd[e]=t,e=0;e<t.length;e++)I1.add(t[e])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gw={},vw={};function xA(e){return Xg.call(vw,e)?!0:Xg.call(gw,e)?!1:vA.test(e)?vw[e]=!0:(gw[e]=!0,!1)}function yA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _A(e,t,r,n){if(t===null||typeof t>"u"||yA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kr(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sr[e]=new Kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sr[t]=new Kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sr[e]=new Kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sr[e]=new Kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sr[e]=new Kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sr[e]=new Kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sr[e]=new Kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sr[e]=new Kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sr[e]=new Kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qx=/[\-:]([a-z])/g;function Yx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qx,Yx);Sr[t]=new Kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qx,Yx);Sr[t]=new Kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qx,Yx);Sr[t]=new Kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sr[e]=new Kr(e,1,!1,e.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sr[e]=new Kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xx(e,t,r,n){var i=Sr.hasOwnProperty(t)?Sr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_A(t,r,i,n)&&(r=null),n||i===null?xA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uh=Symbol.for("react.element"),il=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),$1=Symbol.for("react.offscreen"),xw=Symbol.iterator;function $c(e){return e===null||typeof e!="object"?null:(e=xw&&e[xw]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,Xp;function ed(e){if(Xp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xp=t&&t[1]||""}return`
`+Xp+e}var Jp=!1;function eg(e,t){if(!e||Jp)return"";Jp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,c=a.length-1;1<=l&&0<=c&&i[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==a[c]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=c);break}}}finally{Jp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ed(e):""}function wA(e){switch(e.tag){case 5:return ed(e.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return e=eg(e.type,!1),e;case 11:return e=eg(e.type.render,!1),e;case 1:return e=eg(e.type,!0),e;default:return""}}function rv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case al:return"Fragment";case il:return"Portal";case Jg:return"Profiler";case Jx:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F1:return(e.displayName||"Context")+".Consumer";case D1:return(e._context.displayName||"Context")+".Provider";case ey:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ty:return t=e.displayName||null,t!==null?t:rv(e.type)||"Memo";case zi:t=e._payload,e=e._init;try{return rv(e(t))}catch{}}return null}function bA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rv(t);case 8:return t===Jx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ga(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jA(e){var t=z1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hh(e){e._valueTracker||(e._valueTracker=jA(e))}function B1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=z1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nv(e,t){var r=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ga(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U1(e,t){t=t.checked,t!=null&&Xx(e,"checked",t,!1)}function sv(e,t){U1(e,t);var r=ga(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iv(e,t.type,r):t.hasOwnProperty("defaultValue")&&iv(e,t.type,ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _w(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iv(e,t,r){(t!=="number"||cf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var td=Array.isArray;function xl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ga(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function av(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ww(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(td(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ga(r)}}function V1(e,t){var r=ga(t.value),n=ga(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fh,H1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fh=fh||document.createElement("div"),fh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NA=["Webkit","ms","Moz","O"];Object.keys(ud).forEach(function(e){NA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ud[t]=ud[e]})});function q1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ud.hasOwnProperty(e)&&ud[e]?(""+t).trim():t+"px"}function Z1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=q1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var SA=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(e,t){if(t){if(SA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function cv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=null;function ry(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uv=null,yl=null,_l=null;function jw(e){if(e=Nu(e)){if(typeof uv!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=_m(t),uv(e.stateNode,e.type,t))}}function K1(e){yl?_l?_l.push(e):_l=[e]:yl=e}function G1(){if(yl){var e=yl,t=_l;if(_l=yl=null,jw(e),t)for(e=0;e<t.length;e++)jw(t[e])}}function Q1(e,t){return e(t)}function Y1(){}var tg=!1;function X1(e,t,r){if(tg)return e(t,r);tg=!0;try{return Q1(e,t,r)}finally{tg=!1,(yl!==null||_l!==null)&&(Y1(),G1())}}function Pd(e,t){var r=e.stateNode;if(r===null)return null;var n=_m(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var hv=!1;if(pi)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){hv=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{hv=!1}function CA(e,t,r,n,i,a,l,c,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(p){this.onError(p)}}var hd=!1,df=null,uf=!1,fv=null,kA={onError:function(e){hd=!0,df=e}};function PA(e,t,r,n,i,a,l,c,u){hd=!1,df=null,CA.apply(kA,arguments)}function EA(e,t,r,n,i,a,l,c,u){if(PA.apply(this,arguments),hd){if(hd){var h=df;hd=!1,df=null}else throw Error(oe(198));uf||(uf=!0,fv=h)}}function Eo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function J1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nw(e){if(Eo(e)!==e)throw Error(oe(188))}function TA(e){var t=e.alternate;if(!t){if(t=Eo(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Nw(i),e;if(a===n)return Nw(i),t;a=a.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=a;break}if(c===n){l=!0,n=i,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=i;break}if(c===n){l=!0,n=a,r=i;break}c=c.sibling}if(!l)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function eN(e){return e=TA(e),e!==null?tN(e):null}function tN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tN(e);if(t!==null)return t;e=e.sibling}return null}var rN=Pn.unstable_scheduleCallback,Sw=Pn.unstable_cancelCallback,RA=Pn.unstable_shouldYield,AA=Pn.unstable_requestPaint,qt=Pn.unstable_now,MA=Pn.unstable_getCurrentPriorityLevel,ny=Pn.unstable_ImmediatePriority,nN=Pn.unstable_UserBlockingPriority,hf=Pn.unstable_NormalPriority,OA=Pn.unstable_LowPriority,sN=Pn.unstable_IdlePriority,gm=null,Ds=null;function LA(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(gm,e,void 0,(e.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:FA,IA=Math.log,DA=Math.LN2;function FA(e){return e>>>=0,e===0?32:31-(IA(e)/DA|0)|0}var mh=64,ph=4194304;function rd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ff(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=rd(c):(a&=l,a!==0&&(n=rd(a)))}else l=r&~i,l!==0?n=rd(l):a!==0&&(n=rd(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-us(t),i=1<<r,n|=e[r],t&=~i;return n}function $A(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-us(a),c=1<<l,u=i[l];u===-1?(!(c&r)||c&n)&&(i[l]=$A(c,t)):u<=t&&(e.expiredLanes|=c),a&=~c}}function mv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iN(){var e=mh;return mh<<=1,!(mh&4194240)&&(mh=64),e}function rg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-us(t),e[t]=r}function BA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-us(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function sy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-us(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _t=0;function aN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oN,iy,lN,cN,dN,pv=!1,gh=[],aa=null,oa=null,la=null,Ed=new Map,Td=new Map,Vi=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cw(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ed.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(t.pointerId)}}function Bc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Nu(t),t!==null&&iy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VA(e,t,r,n,i){switch(t){case"focusin":return aa=Bc(aa,e,t,r,n,i),!0;case"dragenter":return oa=Bc(oa,e,t,r,n,i),!0;case"mouseover":return la=Bc(la,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ed.set(a,Bc(Ed.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Td.set(a,Bc(Td.get(a)||null,e,t,r,n,i)),!0}return!1}function uN(e){var t=qa(e.target);if(t!==null){var r=Eo(t);if(r!==null){if(t=r.tag,t===13){if(t=J1(r),t!==null){e.blockedOn=t,dN(e.priority,function(){lN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dv=n,r.target.dispatchEvent(n),dv=null}else return t=Nu(r),t!==null&&iy(t),e.blockedOn=r,!1;t.shift()}return!0}function kw(e,t,r){Wh(e)&&r.delete(t)}function WA(){pv=!1,aa!==null&&Wh(aa)&&(aa=null),oa!==null&&Wh(oa)&&(oa=null),la!==null&&Wh(la)&&(la=null),Ed.forEach(kw),Td.forEach(kw)}function Uc(e,t){e.blockedOn===t&&(e.blockedOn=null,pv||(pv=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,WA)))}function Rd(e){function t(i){return Uc(i,e)}if(0<gh.length){Uc(gh[0],e);for(var r=1;r<gh.length;r++){var n=gh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(aa!==null&&Uc(aa,e),oa!==null&&Uc(oa,e),la!==null&&Uc(la,e),Ed.forEach(t),Td.forEach(t),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)uN(r),r.blockedOn===null&&Vi.shift()}var wl=Si.ReactCurrentBatchConfig,mf=!0;function HA(e,t,r,n){var i=_t,a=wl.transition;wl.transition=null;try{_t=1,ay(e,t,r,n)}finally{_t=i,wl.transition=a}}function qA(e,t,r,n){var i=_t,a=wl.transition;wl.transition=null;try{_t=4,ay(e,t,r,n)}finally{_t=i,wl.transition=a}}function ay(e,t,r,n){if(mf){var i=gv(e,t,r,n);if(i===null)hg(e,t,n,pf,r),Cw(e,n);else if(VA(i,e,t,r,n))n.stopPropagation();else if(Cw(e,n),t&4&&-1<UA.indexOf(e)){for(;i!==null;){var a=Nu(i);if(a!==null&&oN(a),a=gv(e,t,r,n),a===null&&hg(e,t,n,pf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else hg(e,t,n,null,r)}}var pf=null;function gv(e,t,r,n){if(pf=null,e=ry(n),e=qa(e),e!==null)if(t=Eo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=J1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pf=e,null}function hN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MA()){case ny:return 1;case nN:return 4;case hf:case OA:return 16;case sN:return 536870912;default:return 16}default:return 16}}var na=null,oy=null,Hh=null;function fN(){if(Hh)return Hh;var e,t=oy,r=t.length,n,i="value"in na?na.value:na.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Hh=i.slice(e,1<n?1-n:void 0)}function qh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vh(){return!0}function Pw(){return!1}function Tn(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vh:Pw,this.isPropagationStopped=Pw,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),t}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ly=Tn(uc),ju=zt({},uc,{view:0,detail:0}),ZA=Tn(ju),ng,sg,Vc,vm=zt({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vc&&(Vc&&e.type==="mousemove"?(ng=e.screenX-Vc.screenX,sg=e.screenY-Vc.screenY):sg=ng=0,Vc=e),ng)},movementY:function(e){return"movementY"in e?e.movementY:sg}}),Ew=Tn(vm),KA=zt({},vm,{dataTransfer:0}),GA=Tn(KA),QA=zt({},ju,{relatedTarget:0}),ig=Tn(QA),YA=zt({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),XA=Tn(YA),JA=zt({},uc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eM=Tn(JA),tM=zt({},uc,{data:0}),Tw=Tn(tM),rM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sM[e])?!!t[e]:!1}function cy(){return iM}var aM=zt({},ju,{key:function(e){if(e.key){var t=rM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cy,charCode:function(e){return e.type==="keypress"?qh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oM=Tn(aM),lM=zt({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rw=Tn(lM),cM=zt({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cy}),dM=Tn(cM),uM=zt({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hM=Tn(uM),fM=zt({},vm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mM=Tn(fM),pM=[9,13,27,32],dy=pi&&"CompositionEvent"in window,fd=null;pi&&"documentMode"in document&&(fd=document.documentMode);var gM=pi&&"TextEvent"in window&&!fd,mN=pi&&(!dy||fd&&8<fd&&11>=fd),Aw=" ",Mw=!1;function pN(e,t){switch(e){case"keyup":return pM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ol=!1;function vM(e,t){switch(e){case"compositionend":return gN(t);case"keypress":return t.which!==32?null:(Mw=!0,Aw);case"textInput":return e=t.data,e===Aw&&Mw?null:e;default:return null}}function xM(e,t){if(ol)return e==="compositionend"||!dy&&pN(e,t)?(e=fN(),Hh=oy=na=null,ol=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mN&&t.locale!=="ko"?null:t.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yM[e.type]:t==="textarea"}function vN(e,t,r,n){K1(n),t=gf(t,"onChange"),0<t.length&&(r=new ly("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var md=null,Ad=null;function _M(e){PN(e,0)}function xm(e){var t=dl(e);if(B1(t))return e}function wM(e,t){if(e==="change")return t}var xN=!1;if(pi){var ag;if(pi){var og="oninput"in document;if(!og){var Lw=document.createElement("div");Lw.setAttribute("oninput","return;"),og=typeof Lw.oninput=="function"}ag=og}else ag=!1;xN=ag&&(!document.documentMode||9<document.documentMode)}function Iw(){md&&(md.detachEvent("onpropertychange",yN),Ad=md=null)}function yN(e){if(e.propertyName==="value"&&xm(Ad)){var t=[];vN(t,Ad,e,ry(e)),X1(_M,t)}}function bM(e,t,r){e==="focusin"?(Iw(),md=t,Ad=r,md.attachEvent("onpropertychange",yN)):e==="focusout"&&Iw()}function jM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xm(Ad)}function NM(e,t){if(e==="click")return xm(t)}function SM(e,t){if(e==="input"||e==="change")return xm(t)}function CM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gs=typeof Object.is=="function"?Object.is:CM;function Md(e,t){if(gs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Xg.call(t,i)||!gs(e[i],t[i]))return!1}return!0}function Dw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fw(e,t){var r=Dw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dw(r)}}function _N(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_N(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wN(){for(var e=window,t=cf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=cf(e.document)}return t}function uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kM(e){var t=wN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_N(r.ownerDocument.documentElement,r)){if(n!==null&&uy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Fw(r,a);var l=Fw(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PM=pi&&"documentMode"in document&&11>=document.documentMode,ll=null,vv=null,pd=null,xv=!1;function $w(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xv||ll==null||ll!==cf(n)||(n=ll,"selectionStart"in n&&uy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pd&&Md(pd,n)||(pd=n,n=gf(vv,"onSelect"),0<n.length&&(t=new ly("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ll)))}function xh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cl={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},lg={},bN={};pi&&(bN=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function ym(e){if(lg[e])return lg[e];if(!cl[e])return e;var t=cl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bN)return lg[e]=t[r];return e}var jN=ym("animationend"),NN=ym("animationiteration"),SN=ym("animationstart"),CN=ym("transitionend"),kN=new Map,zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){kN.set(e,t),Po(t,[e])}for(var cg=0;cg<zw.length;cg++){var dg=zw[cg],EM=dg.toLowerCase(),TM=dg[0].toUpperCase()+dg.slice(1);Pa(EM,"on"+TM)}Pa(jN,"onAnimationEnd");Pa(NN,"onAnimationIteration");Pa(SN,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(CN,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RM=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function Bw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,EA(n,t,void 0,e),e.currentTarget=null}function PN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==a&&i.isPropagationStopped())break e;Bw(i,c,h),a=u}else for(l=0;l<n.length;l++){if(c=n[l],u=c.instance,h=c.currentTarget,c=c.listener,u!==a&&i.isPropagationStopped())break e;Bw(i,c,h),a=u}}}if(uf)throw e=fv,uf=!1,fv=null,e}function Tt(e,t){var r=t[jv];r===void 0&&(r=t[jv]=new Set);var n=e+"__bubble";r.has(n)||(EN(t,e,2,!1),r.add(n))}function ug(e,t,r){var n=0;t&&(n|=4),EN(r,e,n,t)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[yh]){e[yh]=!0,I1.forEach(function(r){r!=="selectionchange"&&(RM.has(r)||ug(r,!1,e),ug(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yh]||(t[yh]=!0,ug("selectionchange",!1,t))}}function EN(e,t,r,n){switch(hN(t)){case 1:var i=HA;break;case 4:i=qA;break;default:i=ay}r=i.bind(null,t,r,e),i=void 0,!hv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hg(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;c!==null;){if(l=qa(c),l===null)return;if(u=l.tag,u===5||u===6){n=a=l;continue e}c=c.parentNode}}n=n.return}X1(function(){var h=a,p=ry(r),m=[];e:{var g=kN.get(e);if(g!==void 0){var _=ly,N=e;switch(e){case"keypress":if(qh(r)===0)break e;case"keydown":case"keyup":_=oM;break;case"focusin":N="focus",_=ig;break;case"focusout":N="blur",_=ig;break;case"beforeblur":case"afterblur":_=ig;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=GA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=dM;break;case jN:case NN:case SN:_=XA;break;case CN:_=hM;break;case"scroll":_=ZA;break;case"wheel":_=mM;break;case"copy":case"cut":case"paste":_=eM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Rw}var x=(t&4)!==0,S=!x&&e==="scroll",w=x?g!==null?g+"Capture":null:g;x=[];for(var b=h,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,w!==null&&(k=Pd(b,w),k!=null&&x.push(Ld(b,k,j)))),S)break;b=b.return}0<x.length&&(g=new _(g,N,null,r,p),m.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&r!==dv&&(N=r.relatedTarget||r.fromElement)&&(qa(N)||N[gi]))break e;if((_||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,_?(N=r.relatedTarget||r.toElement,_=h,N=N?qa(N):null,N!==null&&(S=Eo(N),N!==S||N.tag!==5&&N.tag!==6)&&(N=null)):(_=null,N=h),_!==N)){if(x=Ew,k="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=Rw,k="onPointerLeave",w="onPointerEnter",b="pointer"),S=_==null?g:dl(_),j=N==null?g:dl(N),g=new x(k,b+"leave",_,r,p),g.target=S,g.relatedTarget=j,k=null,qa(p)===h&&(x=new x(w,b+"enter",N,r,p),x.target=j,x.relatedTarget=S,k=x),S=k,_&&N)t:{for(x=_,w=N,b=0,j=x;j;j=Ko(j))b++;for(j=0,k=w;k;k=Ko(k))j++;for(;0<b-j;)x=Ko(x),b--;for(;0<j-b;)w=Ko(w),j--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ko(x),w=Ko(w)}x=null}else x=null;_!==null&&Uw(m,g,_,x,!1),N!==null&&S!==null&&Uw(m,S,N,x,!0)}}e:{if(g=h?dl(h):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var T=wM;else if(Ow(g))if(xN)T=SM;else{T=jM;var I=bM}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(T=NM);if(T&&(T=T(e,h))){vN(m,T,r,p);break e}I&&I(e,g,h),e==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&iv(g,"number",g.value)}switch(I=h?dl(h):window,e){case"focusin":(Ow(I)||I.contentEditable==="true")&&(ll=I,vv=h,pd=null);break;case"focusout":pd=vv=ll=null;break;case"mousedown":xv=!0;break;case"contextmenu":case"mouseup":case"dragend":xv=!1,$w(m,r,p);break;case"selectionchange":if(PM)break;case"keydown":case"keyup":$w(m,r,p)}var M;if(dy)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ol?pN(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(mN&&r.locale!=="ko"&&(ol||R!=="onCompositionStart"?R==="onCompositionEnd"&&ol&&(M=fN()):(na=p,oy="value"in na?na.value:na.textContent,ol=!0)),I=gf(h,R),0<I.length&&(R=new Tw(R,e,null,r,p),m.push({event:R,listeners:I}),M?R.data=M:(M=gN(r),M!==null&&(R.data=M)))),(M=gM?vM(e,r):xM(e,r))&&(h=gf(h,"onBeforeInput"),0<h.length&&(p=new Tw("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:h}),p.data=M))}PN(m,t)})}function Ld(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pd(e,r),a!=null&&n.unshift(Ld(e,a,i)),a=Pd(e,t),a!=null&&n.push(Ld(e,a,i))),e=e.return}return n}function Ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uw(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var c=r,u=c.alternate,h=c.stateNode;if(u!==null&&u===n)break;c.tag===5&&h!==null&&(c=h,i?(u=Pd(r,a),u!=null&&l.unshift(Ld(r,u,c))):i||(u=Pd(r,a),u!=null&&l.push(Ld(r,u,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var AM=/\r\n?/g,MM=/\u0000|\uFFFD/g;function Vw(e){return(typeof e=="string"?e:""+e).replace(AM,`
`).replace(MM,"")}function _h(e,t,r){if(t=Vw(t),Vw(e)!==t&&r)throw Error(oe(425))}function vf(){}var yv=null,_v=null;function wv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,LM=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(e){return Ww.resolve(null).then(e).catch(IM)}:bv;function IM(e){setTimeout(function(){throw e})}function fg(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rd(t)}function ca(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hc=Math.random().toString(36).slice(2),Os="__reactFiber$"+hc,Id="__reactProps$"+hc,gi="__reactContainer$"+hc,jv="__reactEvents$"+hc,DM="__reactListeners$"+hc,FM="__reactHandles$"+hc;function qa(e){var t=e[Os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gi]||r[Os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hw(e);e!==null;){if(r=e[Os])return r;e=Hw(e)}return t}e=r,r=e.parentNode}return null}function Nu(e){return e=e[Os]||e[gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function _m(e){return e[Id]||null}var Nv=[],ul=-1;function Ea(e){return{current:e}}function Rt(e){0>ul||(e.current=Nv[ul],Nv[ul]=null,ul--)}function Ct(e,t){ul++,Nv[ul]=e.current,e.current=t}var va={},Lr=Ea(va),dn=Ea(!1),oo=va;function ql(e,t){var r=e.type.contextTypes;if(!r)return va;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function un(e){return e=e.childContextTypes,e!=null}function xf(){Rt(dn),Rt(Lr)}function qw(e,t,r){if(Lr.current!==va)throw Error(oe(168));Ct(Lr,t),Ct(dn,r)}function TN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(oe(108,bA(e)||"Unknown",i));return zt({},r,n)}function yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||va,oo=Lr.current,Ct(Lr,e),Ct(dn,dn.current),!0}function Zw(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=TN(e,t,oo),n.__reactInternalMemoizedMergedChildContext=e,Rt(dn),Rt(Lr),Ct(Lr,e)):Rt(dn),Ct(dn,r)}var oi=null,wm=!1,mg=!1;function RN(e){oi===null?oi=[e]:oi.push(e)}function $M(e){wm=!0,RN(e)}function Ta(){if(!mg&&oi!==null){mg=!0;var e=0,t=_t;try{var r=oi;for(_t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}oi=null,wm=!1}catch(i){throw oi!==null&&(oi=oi.slice(e+1)),rN(ny,Ta),i}finally{_t=t,mg=!1}}return null}var hl=[],fl=0,_f=null,wf=0,$n=[],zn=0,lo=null,ci=1,di="";function Ba(e,t){hl[fl++]=wf,hl[fl++]=_f,_f=e,wf=t}function AN(e,t,r){$n[zn++]=ci,$n[zn++]=di,$n[zn++]=lo,lo=e;var n=ci;e=di;var i=32-us(n)-1;n&=~(1<<i),r+=1;var a=32-us(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,ci=1<<32-us(t)+i|r<<i|n,di=a+e}else ci=1<<a|r<<i|n,di=e}function hy(e){e.return!==null&&(Ba(e,1),AN(e,1,0))}function fy(e){for(;e===_f;)_f=hl[--fl],hl[fl]=null,wf=hl[--fl],hl[fl]=null;for(;e===lo;)lo=$n[--zn],$n[zn]=null,di=$n[--zn],$n[zn]=null,ci=$n[--zn],$n[zn]=null}var Nn=null,jn=null,At=!1,os=null;function MN(e,t){var r=Bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nn=e,jn=ca(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lo!==null?{id:ci,overflow:di}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nn=e,jn=null,!0):!1;default:return!1}}function Sv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cv(e){if(At){var t=jn;if(t){var r=t;if(!Kw(e,t)){if(Sv(e))throw Error(oe(418));t=ca(r.nextSibling);var n=Nn;t&&Kw(e,t)?MN(n,r):(e.flags=e.flags&-4097|2,At=!1,Nn=e)}}else{if(Sv(e))throw Error(oe(418));e.flags=e.flags&-4097|2,At=!1,Nn=e}}}function Gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function wh(e){if(e!==Nn)return!1;if(!At)return Gw(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wv(e.type,e.memoizedProps)),t&&(t=jn)){if(Sv(e))throw ON(),Error(oe(418));for(;t;)MN(e,t),t=ca(t.nextSibling)}if(Gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jn=ca(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Nn?ca(e.stateNode.nextSibling):null;return!0}function ON(){for(var e=jn;e;)e=ca(e.nextSibling)}function Zl(){jn=Nn=null,At=!1}function my(e){os===null?os=[e]:os.push(e)}var zM=Si.ReactCurrentBatchConfig;function Wc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=i.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function bh(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qw(e){var t=e._init;return t(e._payload)}function LN(e){function t(w,b){if(e){var j=w.deletions;j===null?(w.deletions=[b],w.flags|=16):j.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=fa(w,b),w.index=0,w.sibling=null,w}function a(w,b,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<b?(w.flags|=2,b):j):(w.flags|=2,b)):(w.flags|=1048576,b)}function l(w){return e&&w.alternate===null&&(w.flags|=2),w}function c(w,b,j,k){return b===null||b.tag!==6?(b=wg(j,w.mode,k),b.return=w,b):(b=i(b,j),b.return=w,b)}function u(w,b,j,k){var T=j.type;return T===al?p(w,b,j.props.children,k,j.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zi&&Qw(T)===b.type)?(k=i(b,j.props),k.ref=Wc(w,b,j),k.return=w,k):(k=Jh(j.type,j.key,j.props,null,w.mode,k),k.ref=Wc(w,b,j),k.return=w,k)}function h(w,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=bg(j,w.mode,k),b.return=w,b):(b=i(b,j.children||[]),b.return=w,b)}function p(w,b,j,k,T){return b===null||b.tag!==7?(b=io(j,w.mode,k,T),b.return=w,b):(b=i(b,j),b.return=w,b)}function m(w,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wg(""+b,w.mode,j),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uh:return j=Jh(b.type,b.key,b.props,null,w.mode,j),j.ref=Wc(w,null,b),j.return=w,j;case il:return b=bg(b,w.mode,j),b.return=w,b;case zi:var k=b._init;return m(w,k(b._payload),j)}if(td(b)||$c(b))return b=io(b,w.mode,j,null),b.return=w,b;bh(w,b)}return null}function g(w,b,j,k){var T=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return T!==null?null:c(w,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uh:return j.key===T?u(w,b,j,k):null;case il:return j.key===T?h(w,b,j,k):null;case zi:return T=j._init,g(w,b,T(j._payload),k)}if(td(j)||$c(j))return T!==null?null:p(w,b,j,k,null);bh(w,j)}return null}function _(w,b,j,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(j)||null,c(b,w,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uh:return w=w.get(k.key===null?j:k.key)||null,u(b,w,k,T);case il:return w=w.get(k.key===null?j:k.key)||null,h(b,w,k,T);case zi:var I=k._init;return _(w,b,j,I(k._payload),T)}if(td(k)||$c(k))return w=w.get(j)||null,p(b,w,k,T,null);bh(b,k)}return null}function N(w,b,j,k){for(var T=null,I=null,M=b,R=b=0,O=null;M!==null&&R<j.length;R++){M.index>R?(O=M,M=null):O=M.sibling;var z=g(w,M,j[R],k);if(z===null){M===null&&(M=O);break}e&&M&&z.alternate===null&&t(w,M),b=a(z,b,R),I===null?T=z:I.sibling=z,I=z,M=O}if(R===j.length)return r(w,M),At&&Ba(w,R),T;if(M===null){for(;R<j.length;R++)M=m(w,j[R],k),M!==null&&(b=a(M,b,R),I===null?T=M:I.sibling=M,I=M);return At&&Ba(w,R),T}for(M=n(w,M);R<j.length;R++)O=_(M,w,R,j[R],k),O!==null&&(e&&O.alternate!==null&&M.delete(O.key===null?R:O.key),b=a(O,b,R),I===null?T=O:I.sibling=O,I=O);return e&&M.forEach(function(G){return t(w,G)}),At&&Ba(w,R),T}function x(w,b,j,k){var T=$c(j);if(typeof T!="function")throw Error(oe(150));if(j=T.call(j),j==null)throw Error(oe(151));for(var I=T=null,M=b,R=b=0,O=null,z=j.next();M!==null&&!z.done;R++,z=j.next()){M.index>R?(O=M,M=null):O=M.sibling;var G=g(w,M,z.value,k);if(G===null){M===null&&(M=O);break}e&&M&&G.alternate===null&&t(w,M),b=a(G,b,R),I===null?T=G:I.sibling=G,I=G,M=O}if(z.done)return r(w,M),At&&Ba(w,R),T;if(M===null){for(;!z.done;R++,z=j.next())z=m(w,z.value,k),z!==null&&(b=a(z,b,R),I===null?T=z:I.sibling=z,I=z);return At&&Ba(w,R),T}for(M=n(w,M);!z.done;R++,z=j.next())z=_(M,w,R,z.value,k),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?R:z.key),b=a(z,b,R),I===null?T=z:I.sibling=z,I=z);return e&&M.forEach(function(U){return t(w,U)}),At&&Ba(w,R),T}function S(w,b,j,k){if(typeof j=="object"&&j!==null&&j.type===al&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case uh:e:{for(var T=j.key,I=b;I!==null;){if(I.key===T){if(T=j.type,T===al){if(I.tag===7){r(w,I.sibling),b=i(I,j.props.children),b.return=w,w=b;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zi&&Qw(T)===I.type){r(w,I.sibling),b=i(I,j.props),b.ref=Wc(w,I,j),b.return=w,w=b;break e}r(w,I);break}else t(w,I);I=I.sibling}j.type===al?(b=io(j.props.children,w.mode,k,j.key),b.return=w,w=b):(k=Jh(j.type,j.key,j.props,null,w.mode,k),k.ref=Wc(w,b,j),k.return=w,w=k)}return l(w);case il:e:{for(I=j.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(w,b.sibling),b=i(b,j.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else t(w,b);b=b.sibling}b=bg(j,w.mode,k),b.return=w,w=b}return l(w);case zi:return I=j._init,S(w,b,I(j._payload),k)}if(td(j))return N(w,b,j,k);if($c(j))return x(w,b,j,k);bh(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,j),b.return=w,w=b):(r(w,b),b=wg(j,w.mode,k),b.return=w,w=b),l(w)):r(w,b)}return S}var Kl=LN(!0),IN=LN(!1),bf=Ea(null),jf=null,ml=null,py=null;function gy(){py=ml=jf=null}function vy(e){var t=bf.current;Rt(bf),e._currentValue=t}function kv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bl(e,t){jf=e,py=ml=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Hn(e){var t=e._currentValue;if(py!==e)if(e={context:e,memoizedValue:t,next:null},ml===null){if(jf===null)throw Error(oe(308));ml=e,jf.dependencies={lanes:0,firstContext:e}}else ml=ml.next=e;return t}var Za=null;function xy(e){Za===null?Za=[e]:Za.push(e)}function DN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xy(t)):(r.next=i.next,i.next=r),t.interleaved=r,vi(e,n)}function vi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bi=!1;function yy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,vi(e,r)}return i=n.interleaved,i===null?(t.next=t,xy(n)):(t.next=i.next,i.next=t),n.interleaved=t,vi(e,r)}function Zh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sy(e,r)}}function Yw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nf(e,t,r,n){var i=e.updateQueue;Bi=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,l===null?a=h:l.next=h,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;l=0,p=h=u=null,c=a;do{var g=c.lane,_=c.eventTime;if((n&g)===g){p!==null&&(p=p.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,x=c;switch(g=t,_=r,x.tag){case 1:if(N=x.payload,typeof N=="function"){m=N.call(_,m,g);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=x.payload,g=typeof N=="function"?N.call(_,m,g):N,g==null)break e;m=zt({},m,g);break e;case 2:Bi=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else _={eventTime:_,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=_,u=m):p=p.next=_,l|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);uo|=l,e.lanes=l,e.memoizedState=m}}function Xw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var Su={},Fs=Ea(Su),Dd=Ea(Su),Fd=Ea(Su);function Ka(e){if(e===Su)throw Error(oe(174));return e}function _y(e,t){switch(Ct(Fd,t),Ct(Dd,e),Ct(Fs,Su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ov(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ov(t,e)}Rt(Fs),Ct(Fs,t)}function Gl(){Rt(Fs),Rt(Dd),Rt(Fd)}function $N(e){Ka(Fd.current);var t=Ka(Fs.current),r=ov(t,e.type);t!==r&&(Ct(Dd,e),Ct(Fs,r))}function wy(e){Dd.current===e&&(Rt(Fs),Rt(Dd))}var Dt=Ea(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pg=[];function by(){for(var e=0;e<pg.length;e++)pg[e]._workInProgressVersionPrimary=null;pg.length=0}var Kh=Si.ReactCurrentDispatcher,gg=Si.ReactCurrentBatchConfig,co=0,Ft=null,nr=null,dr=null,Cf=!1,gd=!1,$d=0,BM=0;function Er(){throw Error(oe(321))}function jy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gs(e[r],t[r]))return!1;return!0}function Ny(e,t,r,n,i,a){if(co=a,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kh.current=e===null||e.memoizedState===null?HM:qM,e=r(n,i),gd){a=0;do{if(gd=!1,$d=0,25<=a)throw Error(oe(301));a+=1,dr=nr=null,t.updateQueue=null,Kh.current=ZM,e=r(n,i)}while(gd)}if(Kh.current=kf,t=nr!==null&&nr.next!==null,co=0,dr=nr=Ft=null,Cf=!1,t)throw Error(oe(300));return e}function Sy(){var e=$d!==0;return $d=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Ft.memoizedState=dr=e:dr=dr.next=e,dr}function qn(){if(nr===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var t=dr===null?Ft.memoizedState:dr.next;if(t!==null)dr=t,nr=e;else{if(e===null)throw Error(oe(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},dr===null?Ft.memoizedState=dr=e:dr=dr.next=e}return dr}function zd(e,t){return typeof t=="function"?t(e):t}function vg(e){var t=qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=nr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=l=null,u=null,h=a;do{var p=h.lane;if((co&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=m,l=n):u=u.next=m,Ft.lanes|=p,uo|=p}h=h.next}while(h!==null&&h!==a);u===null?l=n:u.next=c,gs(n,t.memoizedState)||(cn=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ft.lanes|=a,uo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xg(e){var t=qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);gs(a,t.memoizedState)||(cn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function zN(){}function BN(e,t){var r=Ft,n=qn(),i=t(),a=!gs(n.memoizedState,i);if(a&&(n.memoizedState=i,cn=!0),n=n.queue,Cy(WN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Bd(9,VN.bind(null,r,n,i,t),void 0,null),mr===null)throw Error(oe(349));co&30||UN(r,t,i)}return i}function UN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VN(e,t,r,n){t.value=r,t.getSnapshot=n,HN(t)&&qN(e)}function WN(e,t,r){return r(function(){HN(t)&&qN(e)})}function HN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gs(e,r)}catch{return!0}}function qN(e){var t=vi(e,1);t!==null&&hs(t,e,1,-1)}function Jw(e){var t=Es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:e},t.queue=e,e=e.dispatch=WM.bind(null,Ft,e),[t.memoizedState,e]}function Bd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ZN(){return qn().memoizedState}function Gh(e,t,r,n){var i=Es();Ft.flags|=e,i.memoizedState=Bd(1|t,r,void 0,n===void 0?null:n)}function bm(e,t,r,n){var i=qn();n=n===void 0?null:n;var a=void 0;if(nr!==null){var l=nr.memoizedState;if(a=l.destroy,n!==null&&jy(n,l.deps)){i.memoizedState=Bd(t,r,a,n);return}}Ft.flags|=e,i.memoizedState=Bd(1|t,r,a,n)}function eb(e,t){return Gh(8390656,8,e,t)}function Cy(e,t){return bm(2048,8,e,t)}function KN(e,t){return bm(4,2,e,t)}function GN(e,t){return bm(4,4,e,t)}function QN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YN(e,t,r){return r=r!=null?r.concat([e]):null,bm(4,4,QN.bind(null,t,e),r)}function ky(){}function XN(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JN(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eS(e,t,r){return co&21?(gs(r,t)||(r=iN(),Ft.lanes|=r,uo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=r)}function UM(e,t){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var n=gg.transition;gg.transition={};try{e(!1),t()}finally{_t=r,gg.transition=n}}function tS(){return qn().memoizedState}function VM(e,t,r){var n=ha(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rS(e))nS(t,r);else if(r=DN(e,t,r,n),r!==null){var i=Hr();hs(r,e,n,i),sS(r,t,n)}}function WM(e,t,r){var n=ha(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rS(e))nS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,r);if(i.hasEagerState=!0,i.eagerState=c,gs(c,l)){var u=t.interleaved;u===null?(i.next=i,xy(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=DN(e,t,i,n),r!==null&&(i=Hr(),hs(r,e,n,i),sS(r,t,n))}}function rS(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function nS(e,t){gd=Cf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sy(e,r)}}var kf={readContext:Hn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},HM={readContext:Hn,useCallback:function(e,t){return Es().memoizedState=[e,t===void 0?null:t],e},useContext:Hn,useEffect:eb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gh(4194308,4,QN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gh(4,2,e,t)},useMemo:function(e,t){var r=Es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Es();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=VM.bind(null,Ft,e),[n.memoizedState,e]},useRef:function(e){var t=Es();return e={current:e},t.memoizedState=e},useState:Jw,useDebugValue:ky,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Jw(!1),t=e[0];return e=UM.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ft,i=Es();if(At){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),mr===null)throw Error(oe(349));co&30||UN(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,eb(WN.bind(null,n,a,e),[e]),n.flags|=2048,Bd(9,VN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Es(),t=mr.identifierPrefix;if(At){var r=di,n=ci;r=(n&~(1<<32-us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$d++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qM={readContext:Hn,useCallback:XN,useContext:Hn,useEffect:Cy,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:GN,useMemo:JN,useReducer:vg,useRef:ZN,useState:function(){return vg(zd)},useDebugValue:ky,useDeferredValue:function(e){var t=qn();return eS(t,nr.memoizedState,e)},useTransition:function(){var e=vg(zd)[0],t=qn().memoizedState;return[e,t]},useMutableSource:zN,useSyncExternalStore:BN,useId:tS,unstable_isNewReconciler:!1},ZM={readContext:Hn,useCallback:XN,useContext:Hn,useEffect:Cy,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:GN,useMemo:JN,useReducer:xg,useRef:ZN,useState:function(){return xg(zd)},useDebugValue:ky,useDeferredValue:function(e){var t=qn();return nr===null?t.memoizedState=e:eS(t,nr.memoizedState,e)},useTransition:function(){var e=xg(zd)[0],t=qn().memoizedState;return[e,t]},useMutableSource:zN,useSyncExternalStore:BN,useId:tS,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jm={isMounted:function(e){return(e=e._reactInternals)?Eo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hr(),i=ha(e),a=fi(n,i);a.payload=t,r!=null&&(a.callback=r),t=da(e,a,i),t!==null&&(hs(t,e,i,n),Zh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hr(),i=ha(e),a=fi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=da(e,a,i),t!==null&&(hs(t,e,i,n),Zh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hr(),n=ha(e),i=fi(r,n);i.tag=2,t!=null&&(i.callback=t),t=da(e,i,n),t!==null&&(hs(t,e,n,r),Zh(t,e,n))}};function tb(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Md(r,n)||!Md(i,a):!0}function iS(e,t,r){var n=!1,i=va,a=t.contextType;return typeof a=="object"&&a!==null?a=Hn(a):(i=un(t)?oo:Lr.current,n=t.contextTypes,a=(n=n!=null)?ql(e,i):va),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function rb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jm.enqueueReplaceState(t,t.state,null)}function Ev(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},yy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Hn(a):(a=un(t)?oo:Lr.current,i.context=ql(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Pv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jm.enqueueReplaceState(i,i.state,null),Nf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ql(e,t){try{var r="",n=t;do r+=wA(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function yg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KM=typeof WeakMap=="function"?WeakMap:Map;function aS(e,t,r){r=fi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ef||(Ef=!0,zv=n),Tv(e,t)},r}function oS(e,t,r){r=fi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Tv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Tv(e,t),typeof n!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function nb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new KM;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=lO.bind(null,e,t,r),t.then(e,e))}function sb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ib(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fi(-1,1),t.tag=2,da(r,t,1))),r.lanes|=1),e)}var GM=Si.ReactCurrentOwner,cn=!1;function Ur(e,t,r,n){t.child=e===null?IN(t,null,r,n):Kl(t,e.child,r,n)}function ab(e,t,r,n,i){r=r.render;var a=t.ref;return bl(t,i),n=Ny(e,t,r,n,a,i),r=Sy(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xi(e,t,i)):(At&&r&&hy(t),t.flags|=1,Ur(e,t,n,i),t.child)}function ob(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ly(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,lS(e,t,a,n,i)):(e=Jh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Md,r(l,n)&&e.ref===t.ref)return xi(e,t,i)}return t.flags|=1,e=fa(a,n),e.ref=t.ref,e.return=t,t.child=e}function lS(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Md(a,n)&&e.ref===t.ref)if(cn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,xi(e,t,i)}return Rv(e,t,r,n,i)}function cS(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(gl,_n),_n|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ct(gl,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ct(gl,_n),_n|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ct(gl,_n),_n|=n;return Ur(e,t,i,r),t.child}function dS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rv(e,t,r,n,i){var a=un(r)?oo:Lr.current;return a=ql(t,a),bl(t,i),r=Ny(e,t,r,n,a,i),n=Sy(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xi(e,t,i)):(At&&n&&hy(t),t.flags|=1,Ur(e,t,r,i),t.child)}function lb(e,t,r,n,i){if(un(r)){var a=!0;yf(t)}else a=!1;if(bl(t,i),t.stateNode===null)Qh(e,t),iS(t,r,n),Ev(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var u=l.context,h=r.contextType;typeof h=="object"&&h!==null?h=Hn(h):(h=un(r)?oo:Lr.current,h=ql(t,h));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||u!==h)&&rb(t,l,n,h),Bi=!1;var g=t.memoizedState;l.state=g,Nf(t,n,l,i),u=t.memoizedState,c!==n||g!==u||dn.current||Bi?(typeof p=="function"&&(Pv(t,r,p,n),u=t.memoizedState),(c=Bi||tb(t,r,c,n,g,u,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=h,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,FN(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:ns(t.type,c),l.props=h,m=t.pendingProps,g=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=Hn(u):(u=un(r)?oo:Lr.current,u=ql(t,u));var _=r.getDerivedStateFromProps;(p=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||g!==u)&&rb(t,l,n,u),Bi=!1,g=t.memoizedState,l.state=g,Nf(t,n,l,i);var N=t.memoizedState;c!==m||g!==N||dn.current||Bi?(typeof _=="function"&&(Pv(t,r,_,n),N=t.memoizedState),(h=Bi||tb(t,r,h,n,g,N,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,N,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,N,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),l.props=n,l.state=N,l.context=u,n=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Av(e,t,r,n,a,i)}function Av(e,t,r,n,i,a){dS(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Zw(t,r,!1),xi(e,t,a);n=t.stateNode,GM.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Kl(t,e.child,null,a),t.child=Kl(t,null,c,a)):Ur(e,t,c,a),t.memoizedState=n.state,i&&Zw(t,r,!0),t.child}function uS(e){var t=e.stateNode;t.pendingContext?qw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qw(e,t.context,!1),_y(e,t.containerInfo)}function cb(e,t,r,n,i){return Zl(),my(i),t.flags|=256,Ur(e,t,r,n),t.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Ov(e){return{baseLanes:e,cachePool:null,transitions:null}}function hS(e,t,r){var n=t.pendingProps,i=Dt.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ct(Dt,i&1),e===null)return Cv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Cm(l,n,0,null),e=io(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ov(r),t.memoizedState=Mv,e):Py(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return QM(e,t,l,n,c,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,c=i.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fa(i,u),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=fa(c,a):(a=io(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Ov(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Mv,n}return a=e.child,e=a.sibling,n=fa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Py(e,t){return t=Cm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jh(e,t,r,n){return n!==null&&my(n),Kl(t,e.child,null,r),e=Py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QM(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=yg(Error(oe(422))),jh(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Cm({mode:"visible",children:n.children},i,0,null),a=io(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Kl(t,e.child,null,l),t.child.memoizedState=Ov(l),t.memoizedState=Mv,a);if(!(t.mode&1))return jh(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(oe(419)),n=yg(a,n,void 0),jh(e,t,l,n)}if(c=(l&e.childLanes)!==0,cn||c){if(n=mr,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vi(e,i),hs(n,e,i,-1))}return Oy(),n=yg(Error(oe(421))),jh(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,jn=ca(i.nextSibling),Nn=t,At=!0,os=null,e!==null&&($n[zn++]=ci,$n[zn++]=di,$n[zn++]=lo,ci=e.id,di=e.overflow,lo=t),t=Py(t,n.children),t.flags|=4096,t)}function db(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kv(e.return,t,r)}function _g(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function fS(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ur(e,t,n.children,r),n=Dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&db(e,r,t);else if(e.tag===19)db(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ct(Dt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),_g(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}_g(t,!0,r,null,a);break;case"together":_g(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),uo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=fa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function YM(e,t,r){switch(t.tag){case 3:uS(t),Zl();break;case 5:$N(t);break;case 1:un(t.type)&&yf(t);break;case 4:_y(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ct(bf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ct(Dt,Dt.current&1),t.flags|=128,null):r&t.child.childLanes?hS(e,t,r):(Ct(Dt,Dt.current&1),e=xi(e,t,r),e!==null?e.sibling:null);Ct(Dt,Dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fS(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(Dt,Dt.current),n)break;return null;case 22:case 23:return t.lanes=0,cS(e,t,r)}return xi(e,t,r)}var mS,Lv,pS,gS;mS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lv=function(){};pS=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ka(Fs.current);var a=null;switch(r){case"input":i=nv(e,i),n=nv(e,n),a=[];break;case"select":i=zt({},i,{value:void 0}),n=zt({},n,{value:void 0}),a=[];break;case"textarea":i=av(e,i),n=av(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vf)}lv(r,n);var l;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Cd.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var u=n[h];if(c=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(a||(a=[]),a.push(h,r)),r=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(a=a||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Tt("scroll",e),a||c===u||(a=[])):(a=a||[]).push(h,u))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};gS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hc(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XM(e,t,r){var n=t.pendingProps;switch(fy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return un(t.type)&&xf(),Tr(t),null;case 3:return n=t.stateNode,Gl(),Rt(dn),Rt(Lr),by(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,os!==null&&(Vv(os),os=null))),Lv(e,t),Tr(t),null;case 5:wy(t);var i=Ka(Fd.current);if(r=t.type,e!==null&&t.stateNode!=null)pS(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return Tr(t),null}if(e=Ka(Fs.current),wh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Os]=t,n[Id]=a,e=(t.mode&1)!==0,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(i=0;i<nd.length;i++)Tt(nd[i],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":yw(n,a),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Tt("invalid",n);break;case"textarea":ww(n,a),Tt("invalid",n)}lv(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&_h(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&_h(n.textContent,c,e),i=["children",""+c]):Cd.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Tt("scroll",n)}switch(r){case"input":hh(n),_w(n,a,!0);break;case"textarea":hh(n),bw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=vf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Os]=t,e[Id]=n,mS(e,t,!1,!1),t.stateNode=e;e:{switch(l=cv(r,n),r){case"dialog":Tt("cancel",e),Tt("close",e),i=n;break;case"iframe":case"object":case"embed":Tt("load",e),i=n;break;case"video":case"audio":for(i=0;i<nd.length;i++)Tt(nd[i],e);i=n;break;case"source":Tt("error",e),i=n;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),i=n;break;case"details":Tt("toggle",e),i=n;break;case"input":yw(e,n),i=nv(e,n),Tt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=zt({},n,{value:void 0}),Tt("invalid",e);break;case"textarea":ww(e,n),i=av(e,n),Tt("invalid",e);break;default:i=n}lv(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];a==="style"?Z1(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&H1(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&kd(e,u):typeof u=="number"&&kd(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cd.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Tt("scroll",e):u!=null&&Xx(e,a,u,l))}switch(r){case"input":hh(e),_w(e,n,!1);break;case"textarea":hh(e),bw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ga(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xl(e,!!n.multiple,a,!1):n.defaultValue!=null&&xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)gS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Ka(Fd.current),Ka(Fs.current),wh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Os]=t,(a=n.nodeValue!==r)&&(e=Nn,e!==null))switch(e.tag){case 3:_h(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_h(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Os]=t,t.stateNode=n}return Tr(t),null;case 13:if(Rt(Dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&jn!==null&&t.mode&1&&!(t.flags&128))ON(),Zl(),t.flags|=98560,a=!1;else if(a=wh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[Os]=t}else Zl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),a=!1}else os!==null&&(Vv(os),os=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?ir===0&&(ir=3):Oy())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return Gl(),Lv(e,t),e===null&&Od(t.stateNode.containerInfo),Tr(t),null;case 10:return vy(t.type._context),Tr(t),null;case 17:return un(t.type)&&xf(),Tr(t),null;case 19:if(Rt(Dt),a=t.memoizedState,a===null)return Tr(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Hc(a,!1);else{if(ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Sf(e),l!==null){for(t.flags|=128,Hc(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ct(Dt,Dt.current&1|2),t.child}e=e.sibling}a.tail!==null&&qt()>Yl&&(t.flags|=128,n=!0,Hc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sf(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!At)return Tr(t),null}else 2*qt()-a.renderingStartTime>Yl&&r!==1073741824&&(t.flags|=128,n=!0,Hc(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qt(),t.sibling=null,r=Dt.current,Ct(Dt,n?r&1|2:r&1),t):(Tr(t),null);case 22:case 23:return My(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_n&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function JM(e,t){switch(fy(t),t.tag){case 1:return un(t.type)&&xf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gl(),Rt(dn),Rt(Lr),by(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wy(t),null;case 13:if(Rt(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Dt),null;case 4:return Gl(),null;case 10:return vy(t.type._context),null;case 22:case 23:return My(),null;case 24:return null;default:return null}}var Nh=!1,Or=!1,eO=typeof WeakSet=="function"?WeakSet:Set,Se=null;function pl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(e,t,n)}else r.current=null}function Iv(e,t,r){try{r()}catch(n){Ut(e,t,n)}}var ub=!1;function tO(e,t){if(yv=mf,e=wN(),uy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,u=-1,h=0,p=0,m=e,g=null;t:for(;;){for(var _;m!==r||i!==0&&m.nodeType!==3||(c=l+i),m!==a||n!==0&&m.nodeType!==3||(u=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===e)break t;if(g===r&&++h===i&&(c=l),g===a&&++p===n&&(u=l),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(_v={focusedElem:e,selectionRange:r},mf=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var x=N.memoizedProps,S=N.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:ns(t.type,x),S);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(k){Ut(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return N=ub,ub=!1,N}function vd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Iv(t,r,a)}i=i.next}while(i!==n)}}function Nm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vS(e){var t=e.alternate;t!==null&&(e.alternate=null,vS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[Id],delete t[jv],delete t[DM],delete t[FM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xS(e){return e.tag===5||e.tag===3||e.tag===4}function hb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vf));else if(n!==4&&(e=e.child,e!==null))for(Fv(e,t,r),e=e.sibling;e!==null;)Fv(e,t,r),e=e.sibling}function $v(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($v(e,t,r),e=e.sibling;e!==null;)$v(e,t,r),e=e.sibling}var yr=null,is=!1;function Ri(e,t,r){for(r=r.child;r!==null;)yS(e,t,r),r=r.sibling}function yS(e,t,r){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(gm,r)}catch{}switch(r.tag){case 5:Or||pl(r,t);case 6:var n=yr,i=is;yr=null,Ri(e,t,r),yr=n,is=i,yr!==null&&(is?(e=yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yr.removeChild(r.stateNode));break;case 18:yr!==null&&(is?(e=yr,r=r.stateNode,e.nodeType===8?fg(e.parentNode,r):e.nodeType===1&&fg(e,r),Rd(e)):fg(yr,r.stateNode));break;case 4:n=yr,i=is,yr=r.stateNode.containerInfo,is=!0,Ri(e,t,r),yr=n,is=i;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Iv(r,t,l),i=i.next}while(i!==n)}Ri(e,t,r);break;case 1:if(!Or&&(pl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Ut(r,t,c)}Ri(e,t,r);break;case 21:Ri(e,t,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,Ri(e,t,r),Or=n):Ri(e,t,r);break;default:Ri(e,t,r)}}function fb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eO),t.forEach(function(n){var i=dO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ts(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:yr=c.stateNode,is=!1;break e;case 3:yr=c.stateNode.containerInfo,is=!0;break e;case 4:yr=c.stateNode.containerInfo,is=!0;break e}c=c.return}if(yr===null)throw Error(oe(160));yS(a,l,i),yr=null,is=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ut(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_S(t,e),t=t.sibling}function _S(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),ks(e),n&4){try{vd(3,e,e.return),Nm(3,e)}catch(x){Ut(e,e.return,x)}try{vd(5,e,e.return)}catch(x){Ut(e,e.return,x)}}break;case 1:ts(t,e),ks(e),n&512&&r!==null&&pl(r,r.return);break;case 5:if(ts(t,e),ks(e),n&512&&r!==null&&pl(r,r.return),e.flags&32){var i=e.stateNode;try{kd(i,"")}catch(x){Ut(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&U1(i,a),cv(c,l);var h=cv(c,a);for(l=0;l<u.length;l+=2){var p=u[l],m=u[l+1];p==="style"?Z1(i,m):p==="dangerouslySetInnerHTML"?H1(i,m):p==="children"?kd(i,m):Xx(i,p,m,h)}switch(c){case"input":sv(i,a);break;case"textarea":V1(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?xl(i,!!a.multiple,_,!1):g!==!!a.multiple&&(a.defaultValue!=null?xl(i,!!a.multiple,a.defaultValue,!0):xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Id]=a}catch(x){Ut(e,e.return,x)}}break;case 6:if(ts(t,e),ks(e),n&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Ut(e,e.return,x)}}break;case 3:if(ts(t,e),ks(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rd(t.containerInfo)}catch(x){Ut(e,e.return,x)}break;case 4:ts(t,e),ks(e);break;case 13:ts(t,e),ks(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ry=qt())),n&4&&fb(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Or=(h=Or)||p,ts(t,e),Or=h):ts(t,e),ks(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Se=e,p=e.child;p!==null;){for(m=Se=p;Se!==null;){switch(g=Se,_=g.child,g.tag){case 0:case 11:case 14:case 15:vd(4,g,g.return);break;case 1:pl(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(x){Ut(n,r,x)}}break;case 5:pl(g,g.return);break;case 22:if(g.memoizedState!==null){pb(m);continue}}_!==null?(_.return=g,Se=_):pb(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,u=m.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=q1("display",l))}catch(x){Ut(e,e.return,x)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(x){Ut(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ts(t,e),ks(e),n&4&&fb(e);break;case 21:break;default:ts(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xS(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(kd(i,""),n.flags&=-33);var a=hb(e);$v(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=hb(e);Fv(e,c,l);break;default:throw Error(oe(161))}}catch(u){Ut(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rO(e,t,r){Se=e,wS(e)}function wS(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Nh;if(!l){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Or;c=Nh;var h=Or;if(Nh=l,(Or=u)&&!h)for(Se=i;Se!==null;)l=Se,u=l.child,l.tag===22&&l.memoizedState!==null?gb(i):u!==null?(u.return=l,Se=u):gb(i);for(;a!==null;)Se=a,wS(a),a=a.sibling;Se=i,Nh=c,Or=h}mb(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):mb(e)}}function mb(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Or||Nm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Or)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ns(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xw(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xw(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Rd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Or||t.flags&512&&Dv(t)}catch(g){Ut(t,t.return,g)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function pb(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function gb(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nm(4,t)}catch(u){Ut(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Ut(t,i,u)}}var a=t.return;try{Dv(t)}catch(u){Ut(t,a,u)}break;case 5:var l=t.return;try{Dv(t)}catch(u){Ut(t,l,u)}}}catch(u){Ut(t,t.return,u)}if(t===e){Se=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Se=c;break}Se=t.return}}var nO=Math.ceil,Pf=Si.ReactCurrentDispatcher,Ey=Si.ReactCurrentOwner,Un=Si.ReactCurrentBatchConfig,dt=0,mr=null,tr=null,_r=0,_n=0,gl=Ea(0),ir=0,Ud=null,uo=0,Sm=0,Ty=0,xd=null,on=null,Ry=0,Yl=1/0,ii=null,Ef=!1,zv=null,ua=null,Sh=!1,sa=null,Tf=0,yd=0,Bv=null,Yh=-1,Xh=0;function Hr(){return dt&6?qt():Yh!==-1?Yh:Yh=qt()}function ha(e){return e.mode&1?dt&2&&_r!==0?_r&-_r:zM.transition!==null?(Xh===0&&(Xh=iN()),Xh):(e=_t,e!==0||(e=window.event,e=e===void 0?16:hN(e.type)),e):1}function hs(e,t,r,n){if(50<yd)throw yd=0,Bv=null,Error(oe(185));bu(e,r,n),(!(dt&2)||e!==mr)&&(e===mr&&(!(dt&2)&&(Sm|=r),ir===4&&Wi(e,_r)),hn(e,n),r===1&&dt===0&&!(t.mode&1)&&(Yl=qt()+500,wm&&Ta()))}function hn(e,t){var r=e.callbackNode;zA(e,t);var n=ff(e,e===mr?_r:0);if(n===0)r!==null&&Sw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sw(r),t===1)e.tag===0?$M(vb.bind(null,e)):RN(vb.bind(null,e)),LM(function(){!(dt&6)&&Ta()}),r=null;else{switch(aN(n)){case 1:r=ny;break;case 4:r=nN;break;case 16:r=hf;break;case 536870912:r=sN;break;default:r=hf}r=ES(r,bS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bS(e,t){if(Yh=-1,Xh=0,dt&6)throw Error(oe(327));var r=e.callbackNode;if(jl()&&e.callbackNode!==r)return null;var n=ff(e,e===mr?_r:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rf(e,n);else{t=n;var i=dt;dt|=2;var a=NS();(mr!==e||_r!==t)&&(ii=null,Yl=qt()+500,so(e,t));do try{aO();break}catch(c){jS(e,c)}while(!0);gy(),Pf.current=a,dt=i,tr!==null?t=0:(mr=null,_r=0,t=ir)}if(t!==0){if(t===2&&(i=mv(e),i!==0&&(n=i,t=Uv(e,i))),t===1)throw r=Ud,so(e,0),Wi(e,n),hn(e,qt()),r;if(t===6)Wi(e,n);else{if(i=e.current.alternate,!(n&30)&&!sO(i)&&(t=Rf(e,n),t===2&&(a=mv(e),a!==0&&(n=a,t=Uv(e,a))),t===1))throw r=Ud,so(e,0),Wi(e,n),hn(e,qt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:Ua(e,on,ii);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=Ry+500-qt(),10<t)){if(ff(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bv(Ua.bind(null,e,on,ii),t);break}Ua(e,on,ii);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-us(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nO(n/1960))-n,10<n){e.timeoutHandle=bv(Ua.bind(null,e,on,ii),n);break}Ua(e,on,ii);break;case 5:Ua(e,on,ii);break;default:throw Error(oe(329))}}}return hn(e,qt()),e.callbackNode===r?bS.bind(null,e):null}function Uv(e,t){var r=xd;return e.current.memoizedState.isDehydrated&&(so(e,t).flags|=256),e=Rf(e,t),e!==2&&(t=on,on=r,t!==null&&Vv(t)),e}function Vv(e){on===null?on=e:on.push.apply(on,e)}function sO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!gs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~Ty,t&=~Sm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-us(t),n=1<<r;e[r]=-1,t&=~n}}function vb(e){if(dt&6)throw Error(oe(327));jl();var t=ff(e,0);if(!(t&1))return hn(e,qt()),null;var r=Rf(e,t);if(e.tag!==0&&r===2){var n=mv(e);n!==0&&(t=n,r=Uv(e,n))}if(r===1)throw r=Ud,so(e,0),Wi(e,t),hn(e,qt()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ua(e,on,ii),hn(e,qt()),null}function Ay(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(Yl=qt()+500,wm&&Ta())}}function ho(e){sa!==null&&sa.tag===0&&!(dt&6)&&jl();var t=dt;dt|=1;var r=Un.transition,n=_t;try{if(Un.transition=null,_t=1,e)return e()}finally{_t=n,Un.transition=r,dt=t,!(dt&6)&&Ta()}}function My(){_n=gl.current,Rt(gl)}function so(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,OM(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(fy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xf();break;case 3:Gl(),Rt(dn),Rt(Lr),by();break;case 5:wy(n);break;case 4:Gl();break;case 13:Rt(Dt);break;case 19:Rt(Dt);break;case 10:vy(n.type._context);break;case 22:case 23:My()}r=r.return}if(mr=e,tr=e=fa(e.current,null),_r=_n=t,ir=0,Ud=null,Ty=Sm=uo=0,on=xd=null,Za!==null){for(t=0;t<Za.length;t++)if(r=Za[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}Za=null}return e}function jS(e,t){do{var r=tr;try{if(gy(),Kh.current=kf,Cf){for(var n=Ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cf=!1}if(co=0,dr=nr=Ft=null,gd=!1,$d=0,Ey.current=null,r===null||r.return===null){ir=1,Ud=t,tr=null;break}e:{var a=e,l=r.return,c=r,u=t;if(t=_r,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=sb(l);if(_!==null){_.flags&=-257,ib(_,l,c,a,t),_.mode&1&&nb(a,h,t),t=_,u=h;var N=t.updateQueue;if(N===null){var x=new Set;x.add(u),t.updateQueue=x}else N.add(u);break e}else{if(!(t&1)){nb(a,h,t),Oy();break e}u=Error(oe(426))}}else if(At&&c.mode&1){var S=sb(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ib(S,l,c,a,t),my(Ql(u,c));break e}}a=u=Ql(u,c),ir!==4&&(ir=2),xd===null?xd=[a]:xd.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=aS(a,u,t);Yw(a,w);break e;case 1:c=u;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ua===null||!ua.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=oS(a,c,t);Yw(a,k);break e}}a=a.return}while(a!==null)}CS(r)}catch(T){t=T,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function NS(){var e=Pf.current;return Pf.current=kf,e===null?kf:e}function Oy(){(ir===0||ir===3||ir===2)&&(ir=4),mr===null||!(uo&268435455)&&!(Sm&268435455)||Wi(mr,_r)}function Rf(e,t){var r=dt;dt|=2;var n=NS();(mr!==e||_r!==t)&&(ii=null,so(e,t));do try{iO();break}catch(i){jS(e,i)}while(!0);if(gy(),dt=r,Pf.current=n,tr!==null)throw Error(oe(261));return mr=null,_r=0,ir}function iO(){for(;tr!==null;)SS(tr)}function aO(){for(;tr!==null&&!RA();)SS(tr)}function SS(e){var t=PS(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?CS(e):tr=t,Ey.current=null}function CS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JM(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ir=6,tr=null;return}}else if(r=XM(r,t,_n),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);ir===0&&(ir=5)}function Ua(e,t,r){var n=_t,i=Un.transition;try{Un.transition=null,_t=1,oO(e,t,r,n)}finally{Un.transition=i,_t=n}return null}function oO(e,t,r,n){do jl();while(sa!==null);if(dt&6)throw Error(oe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(BA(e,a),e===mr&&(tr=mr=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sh||(Sh=!0,ES(hf,function(){return jl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Un.transition,Un.transition=null;var l=_t;_t=1;var c=dt;dt|=4,Ey.current=null,tO(e,r),_S(r,e),kM(_v),mf=!!yv,_v=yv=null,e.current=r,rO(r),AA(),dt=c,_t=l,Un.transition=a}else e.current=r;if(Sh&&(Sh=!1,sa=e,Tf=i),a=e.pendingLanes,a===0&&(ua=null),LA(r.stateNode),hn(e,qt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,e=zv,zv=null,e;return Tf&1&&e.tag!==0&&jl(),a=e.pendingLanes,a&1?e===Bv?yd++:(yd=0,Bv=e):yd=0,Ta(),null}function jl(){if(sa!==null){var e=aN(Tf),t=Un.transition,r=_t;try{if(Un.transition=null,_t=16>e?16:e,sa===null)var n=!1;else{if(e=sa,sa=null,Tf=0,dt&6)throw Error(oe(331));var i=dt;for(dt|=4,Se=e.current;Se!==null;){var a=Se,l=a.child;if(Se.flags&16){var c=a.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(Se=h;Se!==null;){var p=Se;switch(p.tag){case 0:case 11:case 15:vd(8,p,a)}var m=p.child;if(m!==null)m.return=p,Se=m;else for(;Se!==null;){p=Se;var g=p.sibling,_=p.return;if(vS(p),p===h){Se=null;break}if(g!==null){g.return=_,Se=g;break}Se=_}}}var N=a.alternate;if(N!==null){var x=N.child;if(x!==null){N.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Se=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Se=l;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vd(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Se=w;break e}Se=a.return}}var b=e.current;for(Se=b;Se!==null;){l=Se;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,Se=j;else e:for(l=b;Se!==null;){if(c=Se,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Nm(9,c)}}catch(T){Ut(c,c.return,T)}if(c===l){Se=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,Se=k;break e}Se=c.return}}if(dt=i,Ta(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(gm,e)}catch{}n=!0}return n}finally{_t=r,Un.transition=t}}return!1}function xb(e,t,r){t=Ql(r,t),t=aS(e,t,1),e=da(e,t,1),t=Hr(),e!==null&&(bu(e,1,t),hn(e,t))}function Ut(e,t,r){if(e.tag===3)xb(e,e,r);else for(;t!==null;){if(t.tag===3){xb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ua===null||!ua.has(n))){e=Ql(r,e),e=oS(t,e,1),t=da(t,e,1),e=Hr(),t!==null&&(bu(t,1,e),hn(t,e));break}}t=t.return}}function lO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hr(),e.pingedLanes|=e.suspendedLanes&r,mr===e&&(_r&r)===r&&(ir===4||ir===3&&(_r&130023424)===_r&&500>qt()-Ry?so(e,0):Ty|=r),hn(e,t)}function kS(e,t){t===0&&(e.mode&1?(t=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):t=1);var r=Hr();e=vi(e,t),e!==null&&(bu(e,t,r),hn(e,r))}function cO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kS(e,r)}function dO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),kS(e,r)}var PS;PS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)cn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return cn=!1,YM(e,t,r);cn=!!(e.flags&131072)}else cn=!1,At&&t.flags&1048576&&AN(t,wf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qh(e,t),e=t.pendingProps;var i=ql(t,Lr.current);bl(t,r),i=Ny(null,t,n,e,i,r);var a=Sy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(n)?(a=!0,yf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yy(t),i.updater=jm,t.stateNode=i,i._reactInternals=t,Ev(t,n,e,r),t=Av(null,t,n,!0,a,r)):(t.tag=0,At&&a&&hy(t),Ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=hO(n),e=ns(n,e),i){case 0:t=Rv(null,t,n,e,r);break e;case 1:t=lb(null,t,n,e,r);break e;case 11:t=ab(null,t,n,e,r);break e;case 14:t=ob(null,t,n,ns(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),Rv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),lb(e,t,n,i,r);case 3:e:{if(uS(t),e===null)throw Error(oe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,FN(e,t),Nf(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ql(Error(oe(423)),t),t=cb(e,t,n,r,i);break e}else if(n!==i){i=Ql(Error(oe(424)),t),t=cb(e,t,n,r,i);break e}else for(jn=ca(t.stateNode.containerInfo.firstChild),Nn=t,At=!0,os=null,r=IN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zl(),n===i){t=xi(e,t,r);break e}Ur(e,t,n,r)}t=t.child}return t;case 5:return $N(t),e===null&&Cv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,wv(n,i)?l=null:a!==null&&wv(n,a)&&(t.flags|=32),dS(e,t),Ur(e,t,l,r),t.child;case 6:return e===null&&Cv(t),null;case 13:return hS(e,t,r);case 4:return _y(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kl(t,null,n,r):Ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),ab(e,t,n,i,r);case 7:return Ur(e,t,t.pendingProps,r),t.child;case 8:return Ur(e,t,t.pendingProps.children,r),t.child;case 12:return Ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ct(bf,n._currentValue),n._currentValue=l,a!==null)if(gs(a.value,l)){if(a.children===i.children&&!dn.current){t=xi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var u=c.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=fi(-1,r&-r),u.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),kv(a.return,r,t),c.lanes|=r;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(oe(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),kv(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bl(t,r),i=Hn(i),n=n(i),t.flags|=1,Ur(e,t,n,r),t.child;case 14:return n=t.type,i=ns(n,t.pendingProps),i=ns(n.type,i),ob(e,t,n,i,r);case 15:return lS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),Qh(e,t),t.tag=1,un(n)?(e=!0,yf(t)):e=!1,bl(t,r),iS(t,n,i),Ev(t,n,i,r),Av(null,t,n,!0,e,r);case 19:return fS(e,t,r);case 22:return cS(e,t,r)}throw Error(oe(156,t.tag))};function ES(e,t){return rN(e,t)}function uO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,r,n){return new uO(e,t,r,n)}function Ly(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hO(e){if(typeof e=="function")return Ly(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ey)return 11;if(e===ty)return 14}return 2}function fa(e,t){var r=e.alternate;return r===null?(r=Bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jh(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Ly(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case al:return io(r.children,i,a,t);case Jx:l=8,i|=8;break;case Jg:return e=Bn(12,r,t,i|2),e.elementType=Jg,e.lanes=a,e;case ev:return e=Bn(13,r,t,i),e.elementType=ev,e.lanes=a,e;case tv:return e=Bn(19,r,t,i),e.elementType=tv,e.lanes=a,e;case $1:return Cm(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D1:l=10;break e;case F1:l=9;break e;case ey:l=11;break e;case ty:l=14;break e;case zi:l=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Bn(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function io(e,t,r,n){return e=Bn(7,e,n,t),e.lanes=r,e}function Cm(e,t,r,n){return e=Bn(22,e,n,t),e.elementType=$1,e.lanes=r,e.stateNode={isHidden:!1},e}function wg(e,t,r){return e=Bn(6,e,null,t),e.lanes=r,e}function bg(e,t,r){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iy(e,t,r,n,i,a,l,c,u){return e=new fO(e,t,r,c,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Bn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(a),e}function mO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TS(e){if(!e)return va;e=e._reactInternals;e:{if(Eo(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(un(r))return TN(e,r,t)}return t}function RS(e,t,r,n,i,a,l,c,u){return e=Iy(r,n,!0,e,i,a,l,c,u),e.context=TS(null),r=e.current,n=Hr(),i=ha(r),a=fi(n,i),a.callback=t??null,da(r,a,i),e.current.lanes=i,bu(e,i,n),hn(e,n),e}function km(e,t,r,n){var i=t.current,a=Hr(),l=ha(i);return r=TS(r),t.context===null?t.context=r:t.pendingContext=r,t=fi(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=da(i,t,l),e!==null&&(hs(e,i,l,a),Zh(e,i,l)),l}function Af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dy(e,t){yb(e,t),(e=e.alternate)&&yb(e,t)}function pO(){return null}var AS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fy(e){this._internalRoot=e}Pm.prototype.render=Fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));km(e,t,null,null)};Pm.prototype.unmount=Fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ho(function(){km(null,e,null,null)}),t[gi]=null}};function Pm(e){this._internalRoot=e}Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=cN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vi.length&&t!==0&&t<Vi[r].priority;r++);Vi.splice(r,0,e),r===0&&uN(e)}};function $y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _b(){}function gO(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Af(l);a.call(h)}}var l=RS(t,n,e,0,null,!1,!1,"",_b);return e._reactRootContainer=l,e[gi]=l.current,Od(e.nodeType===8?e.parentNode:e),ho(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var h=Af(u);c.call(h)}}var u=Iy(e,0,!1,null,null,!1,!1,"",_b);return e._reactRootContainer=u,e[gi]=u.current,Od(e.nodeType===8?e.parentNode:e),ho(function(){km(t,u,r,n)}),u}function Tm(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var c=i;i=function(){var u=Af(l);c.call(u)}}km(t,l,e,i)}else l=gO(r,t,e,i,n);return Af(l)}oN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rd(t.pendingLanes);r!==0&&(sy(t,r|1),hn(t,qt()),!(dt&6)&&(Yl=qt()+500,Ta()))}break;case 13:ho(function(){var n=vi(e,1);if(n!==null){var i=Hr();hs(n,e,1,i)}}),Dy(e,1)}};iy=function(e){if(e.tag===13){var t=vi(e,134217728);if(t!==null){var r=Hr();hs(t,e,134217728,r)}Dy(e,134217728)}};lN=function(e){if(e.tag===13){var t=ha(e),r=vi(e,t);if(r!==null){var n=Hr();hs(r,e,t,n)}Dy(e,t)}};cN=function(){return _t};dN=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}};uv=function(e,t,r){switch(t){case"input":if(sv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=_m(n);if(!i)throw Error(oe(90));B1(n),sv(n,i)}}}break;case"textarea":V1(e,r);break;case"select":t=r.value,t!=null&&xl(e,!!r.multiple,t,!1)}};Q1=Ay;Y1=ho;var vO={usingClientEntryPoint:!1,Events:[Nu,dl,_m,K1,G1,Ay]},qc={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xO={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eN(e),e===null?null:e.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||pO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{gm=Ch.inject(xO),Ds=Ch}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vO;En.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(t))throw Error(oe(200));return mO(e,t,null,r)};En.createRoot=function(e,t){if(!$y(e))throw Error(oe(299));var r=!1,n="",i=AS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Iy(e,1,!1,null,null,r,!1,n,i),e[gi]=t.current,Od(e.nodeType===8?e.parentNode:e),new Fy(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=eN(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return ho(e)};En.hydrate=function(e,t,r){if(!Em(t))throw Error(oe(200));return Tm(null,e,t,!0,r)};En.hydrateRoot=function(e,t,r){if(!$y(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=AS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=RS(t,null,e,1,r??null,i,!1,a,l),e[gi]=t.current,Od(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Pm(t)};En.render=function(e,t,r){if(!Em(t))throw Error(oe(200));return Tm(null,e,t,!1,r)};En.unmountComponentAtNode=function(e){if(!Em(e))throw Error(oe(40));return e._reactRootContainer?(ho(function(){Tm(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0):!1};En.unstable_batchedUpdates=Ay;En.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Em(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Tm(e,t,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function MS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MS)}catch(e){console.error(e)}}MS(),M1.exports=En;var To=M1.exports;const OS=_1(To);var LS,wb=To;LS=wb.createRoot,wb.hydrateRoot;const yO=1,_O=1e6;let jg=0;function wO(){return jg=(jg+1)%Number.MAX_SAFE_INTEGER,jg.toString()}const Ng=new Map,bb=e=>{if(Ng.has(e))return;const t=setTimeout(()=>{Ng.delete(e),_d({type:"REMOVE_TOAST",toastId:e})},_O);Ng.set(e,t)},bO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?bb(r):e.toasts.forEach(n=>{bb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ef=[];let tf={toasts:[]};function _d(e){tf=bO(tf,e),ef.forEach(t=>{t(tf)})}function Ce({...e}){const t=wO(),r=i=>_d({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>_d({type:"DISMISS_TOAST",toastId:t});return _d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function fn(){const[e,t]=v.useState(tf);return v.useEffect(()=>(ef.push(t),()=>{const r=ef.indexOf(t);r>-1&&ef.splice(r,1)}),[e]),{...e,toast:Ce,dismiss:r=>_d({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Rm(...e){return t=>e.forEach(r=>jO(r,t))}function ot(...e){return v.useCallback(Rm(...e),e)}function NO(e,t=[]){let r=[];function n(a,l){const c=v.createContext(l),u=r.length;r=[...r,l];function h(m){const{scope:g,children:_,...N}=m,x=(g==null?void 0:g[e][u])||c,S=v.useMemo(()=>N,Object.values(N));return s.jsx(x.Provider,{value:S,children:_})}function p(m,g){const _=(g==null?void 0:g[e][u])||c,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,p]}const i=()=>{const a=r.map(l=>v.createContext(l));return function(c){const u=(c==null?void 0:c[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[n,SO(i,...t)]}function SO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var yi=v.forwardRef((e,t)=>{const{children:r,...n}=e,i=v.Children.toArray(r),a=i.find(CO);if(a){const l=a.props.children,c=i.map(u=>u===a?v.Children.count(l)>1?v.Children.only(null):v.isValidElement(l)?l.props.children:null:u);return s.jsx(Wv,{...n,ref:t,children:v.isValidElement(l)?v.cloneElement(l,void 0,c):null})}return s.jsx(Wv,{...n,ref:t,children:r})});yi.displayName="Slot";var Wv=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const i=PO(r);return v.cloneElement(r,{...kO(n,r.props),ref:t?Rm(t,i):i})}return v.Children.count(r)>1?v.Children.only(null):null});Wv.displayName="SlotClone";var zy=({children:e})=>s.jsx(s.Fragment,{children:e});function CO(e){return v.isValidElement(e)&&e.type===zy}function kO(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...c)=>{a(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function PO(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Am(e){const t=e+"CollectionProvider",[r,n]=NO(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:N,children:x}=_,S=te.useRef(null),w=te.useRef(new Map).current;return s.jsx(i,{scope:N,itemMap:w,collectionRef:S,children:x})};l.displayName=t;const c=e+"CollectionSlot",u=te.forwardRef((_,N)=>{const{scope:x,children:S}=_,w=a(c,x),b=ot(N,w.collectionRef);return s.jsx(yi,{ref:b,children:S})});u.displayName=c;const h=e+"CollectionItemSlot",p="data-radix-collection-item",m=te.forwardRef((_,N)=>{const{scope:x,children:S,...w}=_,b=te.useRef(null),j=ot(N,b),k=a(h,x);return te.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),s.jsx(yi,{[p]:"",ref:j,children:S})});m.displayName=h;function g(_){const N=a(e+"CollectionConsumer",_);return te.useCallback(()=>{const S=N.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((k,T)=>w.indexOf(k.ref.current)-w.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:u,ItemSlot:m},g,n]}function EO(e,t){const r=v.createContext(t),n=a=>{const{children:l,...c}=a,u=v.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:u,children:l})};n.displayName=e+"Provider";function i(a){const l=v.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function ws(e,t=[]){let r=[];function n(a,l){const c=v.createContext(l),u=r.length;r=[...r,l];const h=m=>{var w;const{scope:g,children:_,...N}=m,x=((w=g==null?void 0:g[e])==null?void 0:w[u])||c,S=v.useMemo(()=>N,Object.values(N));return s.jsx(x.Provider,{value:S,children:_})};h.displayName=a+"Provider";function p(m,g){var x;const _=((x=g==null?void 0:g[e])==null?void 0:x[u])||c,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,p]}const i=()=>{const a=r.map(l=>v.createContext(l));return function(c){const u=(c==null?void 0:c[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[n,TO(i,...t)]}function TO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var RO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=RO.reduce((e,t)=>{const r=v.forwardRef((n,i)=>{const{asChild:a,...l}=n,c=a?yi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function By(e,t){e&&To.flushSync(()=>e.dispatchEvent(t))}function Cr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function AO(e,t=globalThis==null?void 0:globalThis.document){const r=Cr(e);v.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MO="DismissableLayer",Hv="dismissableLayer.update",OO="dismissableLayer.pointerDownOutside",LO="dismissableLayer.focusOutside",jb,IS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...u}=e,h=v.useContext(IS),[p,m]=v.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=v.useState({}),N=ot(t,M=>m(M)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(S),b=p?x.indexOf(p):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,k=b>=w,T=DO(M=>{const R=M.target,O=[...h.branches].some(z=>z.contains(R));!k||O||(i==null||i(M),l==null||l(M),M.defaultPrevented||c==null||c())},g),I=FO(M=>{const R=M.target;[...h.branches].some(z=>z.contains(R))||(a==null||a(M),l==null||l(M),M.defaultPrevented||c==null||c())},g);return AO(M=>{b===h.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},g),v.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Nb(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=jb)}},[p,g,r,h]),v.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Nb())},[p,h]),v.useEffect(()=>{const M=()=>_({});return document.addEventListener(Hv,M),()=>document.removeEventListener(Hv,M)},[]),s.jsx(Oe.div,{...u,ref:N,style:{pointerEvents:j?k?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,I.onFocusCapture),onBlurCapture:me(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,T.onPointerDownCapture)})});fc.displayName=MO;var IO="DismissableLayerBranch",DS=v.forwardRef((e,t)=>{const r=v.useContext(IS),n=v.useRef(null),i=ot(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Oe.div,{...e,ref:i})});DS.displayName=IO;function DO(e,t=globalThis==null?void 0:globalThis.document){const r=Cr(e),n=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let u=function(){FS(OO,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FO(e,t=globalThis==null?void 0:globalThis.document){const r=Cr(e),n=v.useRef(!1);return v.useEffect(()=>{const i=a=>{a.target&&!n.current&&FS(LO,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Nb(){const e=new CustomEvent(Hv);document.dispatchEvent(e)}function FS(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?By(i,a):i.dispatchEvent(a)}var $O=fc,zO=DS,vr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},BO="Portal",Cu=v.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,a]=v.useState(!1);vr(()=>a(!0),[]);const l=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?OS.createPortal(s.jsx(Oe.div,{...n,ref:t}),l):null});Cu.displayName=BO;function UO(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Gn=e=>{const{present:t,children:r}=e,n=VO(t),i=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=ot(n.ref,WO(i));return typeof r=="function"||n.isPresent?v.cloneElement(i,{ref:a}):null};Gn.displayName="Presence";function VO(e){const[t,r]=v.useState(),n=v.useRef({}),i=v.useRef(e),a=v.useRef("none"),l=e?"mounted":"unmounted",[c,u]=UO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=kh(n.current);a.current=c==="mounted"?h:"none"},[c]),vr(()=>{const h=n.current,p=i.current;if(p!==e){const g=a.current,_=kh(h);e?u("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&g!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),vr(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,m=_=>{const x=kh(n.current).includes(_.animationName);if(_.target===t&&x&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=_=>{_.target===t&&(a.current=kh(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{h&&(n.current=getComputedStyle(h)),r(h)},[])}}function kh(e){return(e==null?void 0:e.animationName)||"none"}function WO(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _i({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=HO({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:n,c=Cr(r),u=v.useCallback(h=>{if(a){const m=typeof h=="function"?h(e):h;m!==e&&c(m)}else i(h)},[a,e,i,c]);return[l,u]}function HO({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,i=v.useRef(n),a=Cr(t);return v.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var qO="VisuallyHidden",ku=v.forwardRef((e,t)=>s.jsx(Oe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ku.displayName=qO;var ZO=ku,Uy="ToastProvider",[Vy,KO,GO]=Am("Toast"),[$S,XW]=ws("Toast",[GO]),[QO,Mm]=$S(Uy),zS=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=e,[c,u]=v.useState(null),[h,p]=v.useState(0),m=v.useRef(!1),g=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uy}\`. Expected non-empty \`string\`.`),s.jsx(Vy.Provider,{scope:t,children:s.jsx(QO,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:v.useCallback(()=>p(_=>_+1),[]),onToastRemove:v.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:l})})};zS.displayName=Uy;var BS="ToastViewport",YO=["F8"],qv="toast.viewportPause",Zv="toast.viewportResume",US=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=YO,label:i="Notifications ({hotkey})",...a}=e,l=Mm(BS,r),c=KO(r),u=v.useRef(null),h=v.useRef(null),p=v.useRef(null),m=v.useRef(null),g=ot(t,m,l.onViewportChange),_=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;v.useEffect(()=>{const S=w=>{var j;n.length!==0&&n.every(k=>w[k]||w.code===k)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),v.useEffect(()=>{const S=u.current,w=m.current;if(N&&S&&w){const b=()=>{if(!l.isClosePausedRef.current){const I=new CustomEvent(qv);w.dispatchEvent(I),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const I=new CustomEvent(Zv);w.dispatchEvent(I),l.isClosePausedRef.current=!1}},k=I=>{!S.contains(I.relatedTarget)&&j()},T=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",b),S.addEventListener("focusout",k),S.addEventListener("pointermove",b),S.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",b),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",b),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[N,l.isClosePausedRef]);const x=v.useCallback(({tabbingDirection:S})=>{const b=c().map(j=>{const k=j.ref.current,T=[k,...dL(k)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?b.reverse():b).flat()},[c]);return v.useEffect(()=>{const S=m.current;if(S){const w=b=>{var T,I,M;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const R=document.activeElement,O=b.shiftKey;if(b.target===S&&O){(T=h.current)==null||T.focus();return}const U=x({tabbingDirection:O?"backwards":"forwards"}),Z=U.findIndex(q=>q===R);Sg(U.slice(Z+1))?b.preventDefault():O?(I=h.current)==null||I.focus():(M=p.current)==null||M.focus()}};return S.addEventListener("keydown",w),()=>S.removeEventListener("keydown",w)}},[c,x]),s.jsxs(zO,{ref:u,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(Kv,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});Sg(S)}}),s.jsx(Vy.Slot,{scope:r,children:s.jsx(Oe.ol,{tabIndex:-1,...a,ref:g})}),N&&s.jsx(Kv,{ref:p,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});Sg(S)}})]})});US.displayName=BS;var VS="ToastFocusProxy",Kv=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Mm(VS,r);return s.jsx(ku,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&n()}})});Kv.displayName=VS;var Om="Toast",XO="toast.swipeStart",JO="toast.swipeMove",eL="toast.swipeCancel",tL="toast.swipeEnd",WS=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...l}=e,[c=!0,u]=_i({prop:n,defaultProp:i,onChange:a});return s.jsx(Gn,{present:r||c,children:s.jsx(sL,{open:c,...l,ref:t,onClose:()=>u(!1),onPause:Cr(e.onPause),onResume:Cr(e.onResume),onSwipeStart:me(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:me(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});WS.displayName=Om;var[rL,nL]=$S(Om,{onClose(){}}),sL=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:_,...N}=e,x=Mm(Om,r),[S,w]=v.useState(null),b=ot(t,q=>w(q)),j=v.useRef(null),k=v.useRef(null),T=i||x.duration,I=v.useRef(0),M=v.useRef(T),R=v.useRef(0),{onToastAdd:O,onToastRemove:z}=x,G=Cr(()=>{var ie;(S==null?void 0:S.contains(document.activeElement))&&((ie=x.viewport)==null||ie.focus()),l()}),U=v.useCallback(q=>{!q||q===1/0||(window.clearTimeout(R.current),I.current=new Date().getTime(),R.current=window.setTimeout(G,q))},[G]);v.useEffect(()=>{const q=x.viewport;if(q){const ie=()=>{U(M.current),h==null||h()},K=()=>{const Q=new Date().getTime()-I.current;M.current=M.current-Q,window.clearTimeout(R.current),u==null||u()};return q.addEventListener(qv,K),q.addEventListener(Zv,ie),()=>{q.removeEventListener(qv,K),q.removeEventListener(Zv,ie)}}},[x.viewport,T,u,h,U]),v.useEffect(()=>{a&&!x.isClosePausedRef.current&&U(T)},[a,T,x.isClosePausedRef,U]),v.useEffect(()=>(O(),()=>z()),[O,z]);const Z=v.useMemo(()=>S?YS(S):null,[S]);return x.viewport?s.jsxs(s.Fragment,{children:[Z&&s.jsx(iL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),s.jsx(rL,{scope:r,onClose:G,children:To.createPortal(s.jsx(Vy.ItemSlot,{scope:r,children:s.jsx($O,{asChild:!0,onEscapeKeyDown:me(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||G(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...N,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,q=>{q.key==="Escape"&&(c==null||c(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:me(e.onPointerDown,q=>{q.button===0&&(j.current={x:q.clientX,y:q.clientY})}),onPointerMove:me(e.onPointerMove,q=>{if(!j.current)return;const ie=q.clientX-j.current.x,K=q.clientY-j.current.y,Q=!!k.current,E=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,W=E?A(0,ie):0,J=E?0:A(0,K),de=q.pointerType==="touch"?10:2,Ne={x:W,y:J},ke={originalEvent:q,delta:Ne};Q?(k.current=Ne,Ph(JO,m,ke,{discrete:!1})):Sb(Ne,x.swipeDirection,de)?(k.current=Ne,Ph(XO,p,ke,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ie)>de||Math.abs(K)>de)&&(j.current=null)}),onPointerUp:me(e.onPointerUp,q=>{const ie=k.current,K=q.target;if(K.hasPointerCapture(q.pointerId)&&K.releasePointerCapture(q.pointerId),k.current=null,j.current=null,ie){const Q=q.currentTarget,E={originalEvent:q,delta:ie};Sb(ie,x.swipeDirection,x.swipeThreshold)?Ph(tL,_,E,{discrete:!0}):Ph(eL,g,E,{discrete:!0}),Q.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iL=e=>{const{__scopeToast:t,children:r,...n}=e,i=Mm(Om,t),[a,l]=v.useState(!1),[c,u]=v.useState(!1);return lL(()=>l(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:s.jsx(Cu,{asChild:!0,children:s.jsx(ku,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},aL="ToastTitle",HS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Oe.div,{...n,ref:t})});HS.displayName=aL;var oL="ToastDescription",qS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Oe.div,{...n,ref:t})});qS.displayName=oL;var ZS="ToastAction",KS=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(QS,{altText:r,asChild:!0,children:s.jsx(Wy,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZS}\`. Expected non-empty \`string\`.`),null)});KS.displayName=ZS;var GS="ToastClose",Wy=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=nL(GS,r);return s.jsx(QS,{asChild:!0,children:s.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,i.onClose)})})});Wy.displayName=GS;var QS=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function YS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cL(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...YS(n))}}),t}function Ph(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?By(i,a):i.dispatchEvent(a)}var Sb=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function lL(e=()=>{}){const t=Cr(e);vr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cL(e){return e.nodeType===e.ELEMENT_NODE}function dL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Sg(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uL=zS,XS=US,JS=WS,eC=HS,tC=qS,rC=KS,nC=Wy;function sC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function iC(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sC(e))&&(n&&(n+=" "),n+=t);return n}const Cb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kb=iC,mc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return kb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(h=>{const p=r==null?void 0:r[h],m=a==null?void 0:a[h];if(p===null)return null;const g=Cb(p)||Cb(m);return i[h][g]}),c=r&&Object.entries(r).reduce((h,p)=>{let[m,g]=p;return g===void 0||(h[m]=g),h},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:m,className:g,..._}=p;return Object.entries(_).every(N=>{let[x,S]=N;return Array.isArray(S)?S.includes({...a,...c}[x]):{...a,...c}[x]===S})?[...h,m,g]:h},[]);return kb(e,l,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...c},u)=>v.createElement("svg",{ref:u,...fL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aC("lucide",i),...c},[...l.map(([h,p])=>v.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=v.forwardRef(({className:n,...i},a)=>v.createElement(mL,{ref:a,iconNode:t,className:aC(`lucide-${hL(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=ge("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=ge("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=ge("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ge("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ge("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ge("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ky="-",ML=e=>{const t=LL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const c=l.split(Ky);return c[0]===""&&c.length!==1&&c.shift(),wC(c,t)||OL(l)},getConflictingClassGroupIds:(l,c)=>{const u=r[l]||[];return c&&n[l]?[...u,...n[l]]:u}}},wC=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?wC(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Ky);return(l=t.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},Ab=/^\[(.+)\]$/,OL=e=>{if(Ab.test(e)){const t=Ab.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},LL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return DL(Object.entries(e.classGroups),r).forEach(([a,l])=>{Gv(l,n,a,t)}),n},Gv=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Mb(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(IL(i)){Gv(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,l])=>{Gv(l,Mb(t,a),r,n)})})},Mb=(e,t)=>{let r=e;return t.split(Ky).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IL=e=>e.isThemeGetter,DL=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[t+l,c])):a);return[r,i]}):e,FL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return i(a,l),l},set(a,l){r.has(a)?r.set(a,l):i(a,l)}}},bC="!",$L=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,l=c=>{const u=[];let h=0,p=0,m;for(let S=0;S<c.length;S++){let w=c[S];if(h===0){if(w===i&&(n||c.slice(S,S+a)===t)){u.push(c.slice(p,S)),p=S+a;continue}if(w==="/"){m=S;continue}}w==="["?h++:w==="]"&&h--}const g=u.length===0?c:c.substring(p),_=g.startsWith(bC),N=_?g.substring(1):g,x=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:N,maybePostfixModifierPosition:x}};return r?c=>r({className:c,parseClassName:l}):l},zL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BL=e=>({cache:FL(e.cacheSize),parseClassName:$L(e),...ML(e)}),UL=/\s+/,VL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],l=e.trim().split(UL);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:_}=r(h);let N=!!_,x=n(N?g.substring(0,_):g);if(!x){if(!N){c=h+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=h+(c.length>0?" "+c:c);continue}N=!1}const S=zL(p).join(":"),w=m?S+bC:S,b=w+x;if(a.includes(b))continue;a.push(b);const j=i(x,N);for(let k=0;k<j.length;++k){const T=j[k];a.push(w+T)}c=h+(c.length>0?" "+c:c)}return c};function WL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=jC(t))&&(n&&(n+=" "),n+=r);return n}const jC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=jC(e[n]))&&(r&&(r+=" "),r+=t);return r};function HL(e,...t){let r,n,i,a=l;function l(u){const h=t.reduce((p,m)=>m(p),e());return r=BL(h),n=r.cache.get,i=r.cache.set,a=c,c(u)}function c(u){const h=n(u);if(h)return h;const p=VL(u,r);return i(u,p),p}return function(){return a(WL.apply(null,arguments))}}const Et=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NC=/^\[(?:([a-z-]+):)?(.+)\]$/i,qL=/^\d+\/\d+$/,ZL=new Set(["px","full","screen"]),KL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>Sl(e)||ZL.has(e)||qL.test(e),Ai=e=>gc(e,"length",aI),Sl=e=>!!e&&!Number.isNaN(Number(e)),Cg=e=>gc(e,"number",Sl),Zc=e=>!!e&&Number.isInteger(Number(e)),JL=e=>e.endsWith("%")&&Sl(e.slice(0,-1)),Qe=e=>NC.test(e),Mi=e=>KL.test(e),eI=new Set(["length","size","percentage"]),tI=e=>gc(e,eI,SC),rI=e=>gc(e,"position",SC),nI=new Set(["image","url"]),sI=e=>gc(e,nI,lI),iI=e=>gc(e,"",oI),Kc=()=>!0,gc=(e,t,r)=>{const n=NC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},aI=e=>GL.test(e)&&!QL.test(e),SC=()=>!1,oI=e=>YL.test(e),lI=e=>XL.test(e),cI=()=>{const e=Et("colors"),t=Et("spacing"),r=Et("blur"),n=Et("brightness"),i=Et("borderColor"),a=Et("borderRadius"),l=Et("borderSpacing"),c=Et("borderWidth"),u=Et("contrast"),h=Et("grayscale"),p=Et("hueRotate"),m=Et("invert"),g=Et("gap"),_=Et("gradientColorStops"),N=Et("gradientColorStopPositions"),x=Et("inset"),S=Et("margin"),w=Et("opacity"),b=Et("padding"),j=Et("saturate"),k=Et("scale"),T=Et("sepia"),I=Et("skew"),M=Et("space"),R=Et("translate"),O=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Qe,t],U=()=>[Qe,t],Z=()=>["",ti,Ai],q=()=>["auto",Sl,Qe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Qe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Sl,Qe];return{cacheSize:500,separator:":",theme:{colors:[Kc],spacing:[ti,Ai],blur:["none","",Mi,Qe],brightness:J(),borderColor:[e],borderRadius:["none","","full",Mi,Qe],borderSpacing:U(),borderWidth:Z(),contrast:J(),grayscale:A(),hueRotate:J(),invert:A(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[JL,Ai],inset:G(),margin:G(),opacity:J(),padding:U(),saturate:J(),scale:J(),sepia:A(),skew:J(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Mi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Qe]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zc,Qe]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Zc,Qe]}],"grid-cols":[{"grid-cols":[Kc]}],"col-start-end":[{col:["auto",{span:["full",Zc,Qe]},Qe]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Kc]}],"row-start-end":[{row:["auto",{span:[Zc,Qe]},Qe]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Mi]},Mi]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mi,Ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cg]}],"font-family":[{font:[Kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Sl,Cg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Ai]}],"underline-offset":[{"underline-offset":["auto",ti,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),rI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[ti,Qe]}],"outline-w":[{outline:[ti,Ai]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ti,Ai]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mi,iI]}],"shadow-color":[{shadow:[Kc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Mi,Qe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Zc,Qe]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ti,Ai,Cg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dI=HL(cI);function ce(...e){return dI(iC(e))}const uI=uL,CC=v.forwardRef(({className:e,...t},r)=>s.jsx(XS,{ref:r,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));CC.displayName=XS.displayName;const hI=mc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kC=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(JS,{ref:n,className:ce(hI({variant:t}),e),...r}));kC.displayName=JS.displayName;const fI=v.forwardRef(({className:e,...t},r)=>s.jsx(rC,{ref:r,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fI.displayName=rC.displayName;const PC=v.forwardRef(({className:e,...t},r)=>s.jsx(nC,{ref:r,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Vn,{className:"h-4 w-4"})}));PC.displayName=nC.displayName;const EC=v.forwardRef(({className:e,...t},r)=>s.jsx(eC,{ref:r,className:ce("text-sm font-semibold",e),...t}));EC.displayName=eC.displayName;const TC=v.forwardRef(({className:e,...t},r)=>s.jsx(tC,{ref:r,className:ce("text-sm opacity-90",e),...t}));TC.displayName=tC.displayName;function mI(){const{toasts:e}=fn();return s.jsxs(uI,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(kC,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(EC,{children:r}),n&&s.jsx(TC,{children:n})]}),i,s.jsx(PC,{})]},t)}),s.jsx(CC,{})]})}var Ob=["light","dark"],pI="(prefers-color-scheme: dark)",gI=v.createContext(void 0),vI={setTheme:e=>{},themes:[]},xI=()=>{var e;return(e=v.useContext(gI))!=null?e:vI};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:l,attrs:c,nonce:u})=>{let h=a==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=i?Ob.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(N,x=!1,S=!0)=>{let w=l?l[N]:N,b=x?N+"|| ''":`'${w}'`,j="";return i&&S&&!x&&Ob.includes(N)&&(j+=`d.style.colorScheme = '${N}';`),r==="class"?x||w?j+=`c.add(${b})`:j+="null":w&&(j+=`d[s](n,${b})`),j},_=e?`!function(){${p}${g(e)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${pI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}${h?"":"else{"+g(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}else{${g(a,!1,!1)};}${m}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:_}})});var yI=e=>{switch(e){case"success":return bI;case"info":return NI;case"warning":return jI;case"error":return SI;default:return null}},_I=Array(12).fill(0),wI=({visible:e})=>te.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},te.createElement("div",{className:"sonner-spinner"},_I.map((t,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CI=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Qv=1,kI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Qv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...n,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0;return n.then(async a=>{if(EI(a)&&!a.ok){i=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:l,description:c})}else if(t.success!==void 0){i=!1;let l=typeof t.success=="function"?await t.success(a):t.success,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async a=>{if(t.error!==void 0){i=!1;let l=typeof t.error=="function"?await t.error(a):t.error,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Qv++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},yn=new kI,PI=(e,t)=>{let r=(t==null?void 0:t.id)||Qv++;return yn.addToast({title:e,...t,id:r}),r},EI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TI=PI,RI=()=>yn.toasts,ht=Object.assign(TI,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:RI});function AI(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}AI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Eh(e){return e.label!==void 0}var MI=3,OI="32px",LI=4e3,II=356,DI=14,FI=20,$I=200;function zI(...e){return e.filter(Boolean).join(" ")}var BI=e=>{var t,r,n,i,a,l,c,u,h,p;let{invert:m,toast:g,unstyled:_,interacting:N,setHeights:x,visibleToasts:S,heights:w,index:b,toasts:j,expanded:k,removeToast:T,defaultRichColors:I,closeButton:M,style:R,cancelButtonStyle:O,actionButtonStyle:z,className:G="",descriptionClassName:U="",duration:Z,position:q,gap:ie,loadingIcon:K,expandByDefault:Q,classNames:E,icons:A,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:J,cn:de}=e,[Ne,ke]=te.useState(!1),[Pe,he]=te.useState(!1),[ve,Fe]=te.useState(!1),[Xe,He]=te.useState(!1),[rt,Le]=te.useState(0),[kt,Yt]=te.useState(0),Qr=te.useRef(null),ar=te.useRef(null),Yr=b===0,F=b+1<=S,V=g.type,X=g.dismissible!==!1,pe=g.className||"",ue=g.descriptionClassName||"",ae=te.useMemo(()=>w.findIndex(Ue=>Ue.toastId===g.id)||0,[w,g.id]),Re=te.useMemo(()=>{var Ue;return(Ue=g.closeButton)!=null?Ue:M},[g.closeButton,M]),Ve=te.useMemo(()=>g.duration||Z||LI,[g.duration,Z]),wt=te.useRef(0),mt=te.useRef(0),Dr=te.useRef(0),Rn=te.useRef(null),[Yn,Xn]=q.split("-"),Ee=te.useMemo(()=>w.reduce((Ue,vt,xt)=>xt>=ae?Ue:Ue+vt.height,0),[w,ae]),Pt=CI(),Fr=g.invert||m,Xr=V==="loading";mt.current=te.useMemo(()=>ae*ie+Ee,[ae,Ee]),te.useEffect(()=>{ke(!0)},[]),te.useLayoutEffect(()=>{if(!Ne)return;let Ue=ar.current,vt=Ue.style.height;Ue.style.height="auto";let xt=Ue.getBoundingClientRect().height;Ue.style.height=vt,Yt(xt),x(pn=>pn.find(gn=>gn.toastId===g.id)?pn.map(gn=>gn.toastId===g.id?{...gn,height:xt}:gn):[{toastId:g.id,height:xt,position:g.position},...pn])},[Ne,g.title,g.description,x,g.id]);let Pr=te.useCallback(()=>{he(!0),Le(mt.current),x(Ue=>Ue.filter(vt=>vt.toastId!==g.id)),setTimeout(()=>{T(g)},$I)},[g,T,x,mt]);te.useEffect(()=>{if(g.promise&&V==="loading"||g.duration===1/0||g.type==="loading")return;let Ue,vt=Ve;return k||N||J&&Pt?(()=>{if(Dr.current<wt.current){let xt=new Date().getTime()-wt.current;vt=vt-xt}Dr.current=new Date().getTime()})():vt!==1/0&&(wt.current=new Date().getTime(),Ue=setTimeout(()=>{var xt;(xt=g.onAutoClose)==null||xt.call(g,g),Pr()},vt)),()=>clearTimeout(Ue)},[k,N,Q,g,Ve,Pr,g.promise,V,J,Pt]),te.useEffect(()=>{let Ue=ar.current;if(Ue){let vt=Ue.getBoundingClientRect().height;return Yt(vt),x(xt=>[{toastId:g.id,height:vt,position:g.position},...xt]),()=>x(xt=>xt.filter(pn=>pn.toastId!==g.id))}},[x,g.id]),te.useEffect(()=>{g.delete&&Pr()},[Pr,g.delete]);function Qs(){return A!=null&&A.loading?te.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},A.loading):K?te.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},K):te.createElement(wI,{visible:V==="loading"})}return te.createElement("li",{"aria-live":g.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ar,className:de(G,pe,E==null?void 0:E.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[V],(r=g==null?void 0:g.classNames)==null?void 0:r[V]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:I,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":Ne,"data-promise":!!g.promise,"data-removed":Pe,"data-visible":F,"data-y-position":Yn,"data-x-position":Xn,"data-index":b,"data-front":Yr,"data-swiping":ve,"data-dismissible":X,"data-type":V,"data-invert":Fr,"data-swipe-out":Xe,"data-expanded":!!(k||Q&&Ne),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${Pe?rt:mt.current}px`,"--initial-height":Q?"auto":`${kt}px`,...R,...g.style},onPointerDown:Ue=>{Xr||!X||(Qr.current=new Date,Le(mt.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(Fe(!0),Rn.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,vt,xt,pn;if(Xe||!X)return;Rn.current=null;let gn=Number(((Ue=ar.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Do=new Date().getTime()-((vt=Qr.current)==null?void 0:vt.getTime()),bp=Math.abs(gn)/Do;if(Math.abs(gn)>=FI||bp>.11){Le(mt.current),(xt=g.onDismiss)==null||xt.call(g,g),Pr(),He(!0);return}(pn=ar.current)==null||pn.style.setProperty("--swipe-amount","0px"),Fe(!1)},onPointerMove:Ue=>{var vt;if(!Rn.current||!X)return;let xt=Ue.clientY-Rn.current.y,pn=Ue.clientX-Rn.current.x,gn=(Yn==="top"?Math.min:Math.max)(0,xt),Do=Ue.pointerType==="touch"?10:2;Math.abs(gn)>Do?(vt=ar.current)==null||vt.style.setProperty("--swipe-amount",`${xt}px`):Math.abs(pn)>Do&&(Rn.current=null)}},Re&&!g.jsx?te.createElement("button",{"aria-label":W,"data-disabled":Xr,"data-close-button":!0,onClick:Xr||!X?()=>{}:()=>{var Ue;Pr(),(Ue=g.onDismiss)==null||Ue.call(g,g)},className:de(E==null?void 0:E.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,g.jsx||te.isValidElement(g.title)?g.jsx||g.title:te.createElement(te.Fragment,null,V||g.icon||g.promise?te.createElement("div",{"data-icon":"",className:de(E==null?void 0:E.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Qs():null,g.type!=="loading"?g.icon||(A==null?void 0:A[V])||yI(V):null):null,te.createElement("div",{"data-content":"",className:de(E==null?void 0:E.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:de(E==null?void 0:E.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},g.title),g.description?te.createElement("div",{"data-description":"",className:de(U,ue,E==null?void 0:E.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},g.description):null),te.isValidElement(g.cancel)?g.cancel:g.cancel&&Eh(g.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:Ue=>{var vt,xt;Eh(g.cancel)&&X&&((xt=(vt=g.cancel).onClick)==null||xt.call(vt,Ue),Pr())},className:de(E==null?void 0:E.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,te.isValidElement(g.action)?g.action:g.action&&Eh(g.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||z,onClick:Ue=>{var vt,xt;Eh(g.action)&&(Ue.defaultPrevented||((xt=(vt=g.action).onClick)==null||xt.call(vt,Ue),Pr()))},className:de(E==null?void 0:E.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function Lb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var UI=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,theme:u="light",richColors:h,duration:p,style:m,visibleToasts:g=MI,toastOptions:_,dir:N=Lb(),gap:x=DI,loadingIcon:S,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:k=zI}=e,[T,I]=te.useState([]),M=te.useMemo(()=>Array.from(new Set([r].concat(T.filter(J=>J.position).map(J=>J.position)))),[T,r]),[R,O]=te.useState([]),[z,G]=te.useState(!1),[U,Z]=te.useState(!1),[q,ie]=te.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=te.useRef(null),Q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=te.useRef(null),A=te.useRef(!1),W=te.useCallback(J=>{var de;(de=T.find(Ne=>Ne.id===J.id))!=null&&de.delete||yn.dismiss(J.id),I(Ne=>Ne.filter(({id:ke})=>ke!==J.id))},[T]);return te.useEffect(()=>yn.subscribe(J=>{if(J.dismiss){I(de=>de.map(Ne=>Ne.id===J.id?{...Ne,delete:!0}:Ne));return}setTimeout(()=>{OS.flushSync(()=>{I(de=>{let Ne=de.findIndex(ke=>ke.id===J.id);return Ne!==-1?[...de.slice(0,Ne),{...de[Ne],...J},...de.slice(Ne+1)]:[J,...de]})})})}),[]),te.useEffect(()=>{if(u!=="system"){ie(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{ie(J?"dark":"light")})},[u]),te.useEffect(()=>{T.length<=1&&G(!1)},[T]),te.useEffect(()=>{let J=de=>{var Ne,ke;n.every(Pe=>de[Pe]||de.code===Pe)&&(G(!0),(Ne=K.current)==null||Ne.focus()),de.code==="Escape"&&(document.activeElement===K.current||(ke=K.current)!=null&&ke.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[n]),te.useEffect(()=>{if(K.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,A.current=!1)}},[K.current]),T.length?te.createElement("section",{"aria-label":`${b} ${Q}`,tabIndex:-1},M.map((J,de)=>{var Ne;let[ke,Pe]=J.split("-");return te.createElement("ol",{key:J,dir:N==="auto"?Lb():N,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":ke,"data-x-position":Pe,style:{"--front-toast-height":`${((Ne=R[0])==null?void 0:Ne.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||OI,"--width":`${II}px`,"--gap":`${x}px`,...m},onBlur:he=>{A.current&&!he.currentTarget.contains(he.relatedTarget)&&(A.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||A.current||(A.current=!0,E.current=he.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{U||G(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},T.filter(he=>!he.position&&de===0||he.position===J).map((he,ve)=>{var Fe,Xe;return te.createElement(BI,{key:he.id,icons:w,index:ve,toast:he,defaultRichColors:h,duration:(Fe=_==null?void 0:_.duration)!=null?Fe:p,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:t,visibleToasts:g,closeButton:(Xe=_==null?void 0:_.closeButton)!=null?Xe:a,interacting:U,position:J,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:W,toasts:T.filter(He=>He.position==he.position),heights:R.filter(He=>He.position==he.position),setHeights:O,expandByDefault:i,gap:x,loadingIcon:S,expanded:z,pauseWhenPageIsHidden:j,cn:k})}))})):null};const VI=({...e})=>{const{theme:t="system"}=xI();return s.jsx(UI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var WI=R1.useId||(()=>{}),HI=0;function zs(e){const[t,r]=v.useState(WI());return vr(()=>{r(n=>n??String(HI++))},[e]),t?`radix-${t}`:""}const qI=["top","right","bottom","left"],ya=Math.min,wn=Math.max,Ff=Math.round,Th=Math.floor,_a=e=>({x:e,y:e}),ZI={left:"right",right:"left",bottom:"top",top:"bottom"},KI={start:"end",end:"start"};function Yv(e,t,r){return wn(e,ya(t,r))}function bi(e,t){return typeof e=="function"?e(t):e}function ji(e){return e.split("-")[0]}function vc(e){return e.split("-")[1]}function Gy(e){return e==="x"?"y":"x"}function Qy(e){return e==="y"?"height":"width"}function wa(e){return["top","bottom"].includes(ji(e))?"y":"x"}function Yy(e){return Gy(wa(e))}function GI(e,t,r){r===void 0&&(r=!1);const n=vc(e),i=Yy(e),a=Qy(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=$f(l)),[l,$f(l)]}function QI(e){const t=$f(e);return[Xv(e),t,Xv(t)]}function Xv(e){return e.replace(/start|end/g,t=>KI[t])}function YI(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:l;default:return[]}}function XI(e,t,r,n){const i=vc(e);let a=YI(ji(e),r==="start",n);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(Xv)))),a}function $f(e){return e.replace(/left|right|bottom|top/g,t=>ZI[t])}function JI(e){return{top:0,right:0,bottom:0,left:0,...e}}function RC(e){return typeof e!="number"?JI(e):{top:e,right:e,bottom:e,left:e}}function zf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Ib(e,t,r){let{reference:n,floating:i}=e;const a=wa(t),l=Yy(t),c=Qy(l),u=ji(t),h=a==="y",p=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let _;switch(u){case"top":_={x:p,y:n.y-i.height};break;case"bottom":_={x:p,y:n.y+n.height};break;case"right":_={x:n.x+n.width,y:m};break;case"left":_={x:n.x-i.width,y:m};break;default:_={x:n.x,y:n.y}}switch(vc(t)){case"start":_[l]-=g*(r&&h?-1:1);break;case"end":_[l]+=g*(r&&h?-1:1);break}return _}const eD=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=r,c=a.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=Ib(h,n,u),g=n,_={},N=0;for(let x=0;x<c.length;x++){const{name:S,fn:w}=c[x],{x:b,y:j,data:k,reset:T}=await w({x:p,y:m,initialPlacement:n,placement:g,strategy:i,middlewareData:_,rects:h,platform:l,elements:{reference:e,floating:t}});p=b??p,m=j??m,_={..._,[S]:{..._[S],...k}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(h=T.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:p,y:m}=Ib(h,g,u)),x=-1)}return{x:p,y:m,placement:g,strategy:i,middlewareData:_}};async function qd(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:l,elements:c,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:_=0}=bi(t,e),N=RC(_),S=c[g?m==="floating"?"reference":"floating":m],w=zf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(S)))==null||r?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:u})),b=m==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),k=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},T=zf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:j,strategy:u}):b);return{top:(w.top-T.top+N.top)/k.y,bottom:(T.bottom-w.bottom+N.bottom)/k.y,left:(w.left-T.left+N.left)/k.x,right:(T.right-w.right+N.right)/k.x}}const tD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:l,elements:c,middlewareData:u}=t,{element:h,padding:p=0}=bi(e,t)||{};if(h==null)return{};const m=RC(p),g={x:r,y:n},_=Yy(i),N=Qy(_),x=await l.getDimensions(h),S=_==="y",w=S?"top":"left",b=S?"bottom":"right",j=S?"clientHeight":"clientWidth",k=a.reference[N]+a.reference[_]-g[_]-a.floating[N],T=g[_]-a.reference[_],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=I?I[j]:0;(!M||!await(l.isElement==null?void 0:l.isElement(I)))&&(M=c.floating[j]||a.floating[N]);const R=k/2-T/2,O=M/2-x[N]/2-1,z=ya(m[w],O),G=ya(m[b],O),U=z,Z=M-x[N]-G,q=M/2-x[N]/2+R,ie=Yv(U,q,Z),K=!u.arrow&&vc(i)!=null&&q!==ie&&a.reference[N]/2-(q<U?z:G)-x[N]/2<0,Q=K?q<U?q-U:q-Z:0;return{[_]:g[_]+Q,data:{[_]:ie,centerOffset:q-ie-Q,...K&&{alignmentOffset:Q}},reset:K}}}),rD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:u,elements:h}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:x=!0,...S}=bi(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=ji(i),b=wa(c),j=ji(c)===c,k=await(u.isRTL==null?void 0:u.isRTL(h.floating)),T=g||(j||!x?[$f(c)]:QI(c)),I=N!=="none";!g&&I&&T.push(...XI(c,x,N,k));const M=[c,...T],R=await qd(t,S),O=[];let z=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&O.push(R[w]),m){const q=GI(i,l,k);O.push(R[q[0]],R[q[1]])}if(z=[...z,{placement:i,overflows:O}],!O.every(q=>q<=0)){var G,U;const q=(((G=a.flip)==null?void 0:G.index)||0)+1,ie=M[q];if(ie)return{data:{index:q,overflows:z},reset:{placement:ie}};let K=(U=z.filter(Q=>Q.overflows[0]<=0).sort((Q,E)=>Q.overflows[1]-E.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(_){case"bestFit":{var Z;const Q=(Z=z.filter(E=>{if(I){const A=wa(E.placement);return A===b||A==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,W)=>A+W,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:Z[0];Q&&(K=Q);break}case"initialPlacement":K=c;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function Db(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fb(e){return qI.some(t=>e[t]>=0)}const nD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=bi(e,t);switch(n){case"referenceHidden":{const a=await qd(t,{...i,elementContext:"reference"}),l=Db(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Fb(l)}}}case"escaped":{const a=await qd(t,{...i,altBoundary:!0}),l=Db(a,r.floating);return{data:{escapedOffsets:l,escaped:Fb(l)}}}default:return{}}}}};async function sD(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=ji(r),c=vc(r),u=wa(r)==="y",h=["left","top"].includes(l)?-1:1,p=a&&u?-1:1,m=bi(t,e);let{mainAxis:g,crossAxis:_,alignmentAxis:N}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof N=="number"&&(_=c==="end"?N*-1:N),u?{x:_*p,y:g*h}:{x:g*h,y:_*p}}const iD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:l,middlewareData:c}=t,u=await sD(t,e);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:l}}}}},aD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:w,y:b}=S;return{x:w,y:b}}},...u}=bi(e,t),h={x:r,y:n},p=await qd(t,u),m=wa(ji(i)),g=Gy(m);let _=h[g],N=h[m];if(a){const S=g==="y"?"top":"left",w=g==="y"?"bottom":"right",b=_+p[S],j=_-p[w];_=Yv(b,_,j)}if(l){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=N+p[S],j=N-p[w];N=Yv(b,N,j)}const x=c.fn({...t,[g]:_,[m]:N});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:a,[m]:l}}}}}},oD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=bi(e,t),p={x:r,y:n},m=wa(i),g=Gy(m);let _=p[g],N=p[m];const x=bi(c,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const j=g==="y"?"height":"width",k=a.reference[g]-a.floating[j]+S.mainAxis,T=a.reference[g]+a.reference[j]-S.mainAxis;_<k?_=k:_>T&&(_=T)}if(h){var w,b;const j=g==="y"?"width":"height",k=["top","left"].includes(ji(i)),T=a.reference[m]-a.floating[j]+(k&&((w=l.offset)==null?void 0:w[m])||0)+(k?0:S.crossAxis),I=a.reference[m]+a.reference[j]+(k?0:((b=l.offset)==null?void 0:b[m])||0)-(k?S.crossAxis:0);N<T?N=T:N>I&&(N=I)}return{[g]:_,[m]:N}}}},lD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:l,elements:c}=t,{apply:u=()=>{},...h}=bi(e,t),p=await qd(t,h),m=ji(i),g=vc(i),_=wa(i)==="y",{width:N,height:x}=a.floating;let S,w;m==="top"||m==="bottom"?(S=m,w=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(w=m,S=g==="end"?"top":"bottom");const b=x-p.top-p.bottom,j=N-p.left-p.right,k=ya(x-p[S],b),T=ya(N-p[w],j),I=!t.middlewareData.shift;let M=k,R=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=b),I&&!g){const z=wn(p.left,0),G=wn(p.right,0),U=wn(p.top,0),Z=wn(p.bottom,0);_?R=N-2*(z!==0||G!==0?z+G:wn(p.left,p.right)):M=x-2*(U!==0||Z!==0?U+Z:wn(p.top,p.bottom))}await u({...t,availableWidth:R,availableHeight:M});const O=await l.getDimensions(c.floating);return N!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function zm(){return typeof window<"u"}function xc(e){return AC(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gs(e){var t;return(t=(AC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AC(e){return zm()?e instanceof Node||e instanceof Sn(e).Node:!1}function xs(e){return zm()?e instanceof Element||e instanceof Sn(e).Element:!1}function Us(e){return zm()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function $b(e){return!zm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}function Eu(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function cD(e){return["table","td","th"].includes(xc(e))}function Bm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xy(e){const t=Jy(),r=xs(e)?ys(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function dD(e){let t=ba(e);for(;Us(t)&&!tc(t);){if(Xy(t))return t;if(Bm(t))return null;t=ba(t)}return null}function Jy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tc(e){return["html","body","#document"].includes(xc(e))}function ys(e){return Sn(e).getComputedStyle(e)}function Um(e){return xs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ba(e){if(xc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$b(e)&&e.host||Gs(e);return $b(t)?t.host:t}function MC(e){const t=ba(e);return tc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Us(t)&&Eu(t)?t:MC(t)}function Zd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=MC(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),l=Sn(i);if(a){const c=Jv(l);return t.concat(l,l.visualViewport||[],Eu(i)?i:[],c&&r?Zd(c):[])}return t.concat(i,Zd(i,[],r))}function Jv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OC(e){const t=ys(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Us(e),a=i?e.offsetWidth:r,l=i?e.offsetHeight:n,c=Ff(r)!==a||Ff(n)!==l;return c&&(r=a,n=l),{width:r,height:n,$:c}}function e0(e){return xs(e)?e:e.contextElement}function Cl(e){const t=e0(e);if(!Us(t))return _a(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=OC(t);let l=(a?Ff(r.width):r.width)/n,c=(a?Ff(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const uD=_a(0);function LC(e){const t=Sn(e);return!Jy()||!t.visualViewport?uD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Sn(e)?!1:t}function po(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=e0(e);let l=_a(1);t&&(n?xs(n)&&(l=Cl(n)):l=Cl(e));const c=hD(a,r,n)?LC(a):_a(0);let u=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(a){const g=Sn(a),_=n&&xs(n)?Sn(n):n;let N=g,x=Jv(N);for(;x&&n&&_!==N;){const S=Cl(x),w=x.getBoundingClientRect(),b=ys(x),j=w.left+(x.clientLeft+parseFloat(b.paddingLeft))*S.x,k=w.top+(x.clientTop+parseFloat(b.paddingTop))*S.y;u*=S.x,h*=S.y,p*=S.x,m*=S.y,u+=j,h+=k,N=Sn(x),x=Jv(N)}}return zf({width:p,height:m,x:u,y:h})}function fD(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",l=Gs(n),c=t?Bm(t.floating):!1;if(n===l||c&&a)return r;let u={scrollLeft:0,scrollTop:0},h=_a(1);const p=_a(0),m=Us(n);if((m||!m&&!a)&&((xc(n)!=="body"||Eu(l))&&(u=Um(n)),Us(n))){const g=po(n);h=Cl(n),p.x=g.x+n.clientLeft,p.y=g.y+n.clientTop}return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-u.scrollLeft*h.x+p.x,y:r.y*h.y-u.scrollTop*h.y+p.y}}function mD(e){return Array.from(e.getClientRects())}function ex(e,t){const r=Um(e).scrollLeft;return t?t.left+r:po(Gs(e)).left+r}function pD(e){const t=Gs(e),r=Um(e),n=e.ownerDocument.body,i=wn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=wn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+ex(e);const c=-r.scrollTop;return ys(n).direction==="rtl"&&(l+=wn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:c}}function gD(e,t){const r=Sn(e),n=Gs(e),i=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,u=0;if(i){a=i.width,l=i.height;const h=Jy();(!h||h&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:a,height:l,x:c,y:u}}function vD(e,t){const r=po(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Us(e)?Cl(e):_a(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,u=i*a.x,h=n*a.y;return{width:l,height:c,x:u,y:h}}function zb(e,t,r){let n;if(t==="viewport")n=gD(e,r);else if(t==="document")n=pD(Gs(e));else if(xs(t))n=vD(t,r);else{const i=LC(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return zf(n)}function IC(e,t){const r=ba(e);return r===t||!xs(r)||tc(r)?!1:ys(r).position==="fixed"||IC(r,t)}function xD(e,t){const r=t.get(e);if(r)return r;let n=Zd(e,[],!1).filter(c=>xs(c)&&xc(c)!=="body"),i=null;const a=ys(e).position==="fixed";let l=a?ba(e):e;for(;xs(l)&&!tc(l);){const c=ys(l),u=Xy(l);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Eu(l)&&!u&&IC(e,l))?n=n.filter(p=>p!==l):i=c,l=ba(l)}return t.set(e,n),n}function yD(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Bm(t)?[]:xD(t,this._c):[].concat(r),n],c=l[0],u=l.reduce((h,p)=>{const m=zb(t,p,i);return h.top=wn(m.top,h.top),h.right=ya(m.right,h.right),h.bottom=ya(m.bottom,h.bottom),h.left=wn(m.left,h.left),h},zb(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _D(e){const{width:t,height:r}=OC(e);return{width:t,height:r}}function wD(e,t,r){const n=Us(t),i=Gs(t),a=r==="fixed",l=po(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const u=_a(0);if(n||!n&&!a)if((xc(t)!=="body"||Eu(i))&&(c=Um(t)),n){const _=po(t,!0,a,t);u.x=_.x+t.clientLeft,u.y=_.y+t.clientTop}else i&&(u.x=ex(i));let h=0,p=0;if(i&&!n&&!a){const _=i.getBoundingClientRect();p=_.top+c.scrollTop,h=_.left+c.scrollLeft-ex(i,_)}const m=l.left+c.scrollLeft-u.x-h,g=l.top+c.scrollTop-u.y-p;return{x:m,y:g,width:l.width,height:l.height}}function kg(e){return ys(e).position==="static"}function Bb(e,t){if(!Us(e)||ys(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gs(e)===r&&(r=r.ownerDocument.body),r}function DC(e,t){const r=Sn(e);if(Bm(e))return r;if(!Us(e)){let i=ba(e);for(;i&&!tc(i);){if(xs(i)&&!kg(i))return i;i=ba(i)}return r}let n=Bb(e,t);for(;n&&cD(n)&&kg(n);)n=Bb(n,t);return n&&tc(n)&&kg(n)&&!Xy(n)?r:n||dD(e)||r}const bD=async function(e){const t=this.getOffsetParent||DC,r=this.getDimensions,n=await r(e.floating);return{reference:wD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jD(e){return ys(e).direction==="rtl"}const ND={convertOffsetParentRelativeRectToViewportRelativeRect:fD,getDocumentElement:Gs,getClippingRect:yD,getOffsetParent:DC,getElementRects:bD,getClientRects:mD,getDimensions:_D,getScale:Cl,isElement:xs,isRTL:jD};function SD(e,t){let r=null,n;const i=Gs(e);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const{left:h,top:p,width:m,height:g}=e.getBoundingClientRect();if(c||t(),!m||!g)return;const _=Th(p),N=Th(i.clientWidth-(h+m)),x=Th(i.clientHeight-(p+g)),S=Th(h),b={rootMargin:-_+"px "+-N+"px "+-x+"px "+-S+"px",threshold:wn(0,ya(1,u))||1};let j=!0;function k(T){const I=T[0].intersectionRatio;if(I!==u){if(!j)return l();I?l(!1,I):n=setTimeout(()=>{l(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(k,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,b)}r.observe(e)}return l(!0),a}function CD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=e0(e),p=i||a?[...h?Zd(h):[],...Zd(t)]:[];p.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const m=h&&c?SD(h,r):null;let g=-1,_=null;l&&(_=new ResizeObserver(w=>{let[b]=w;b&&b.target===h&&_&&(_.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var j;(j=_)==null||j.observe(t)})),r()}),h&&!u&&_.observe(h),_.observe(t));let N,x=u?po(e):null;u&&S();function S(){const w=po(e);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&r(),x=w,N=requestAnimationFrame(S)}return r(),()=>{var w;p.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),m==null||m(),(w=_)==null||w.disconnect(),_=null,u&&cancelAnimationFrame(N)}}const kD=iD,PD=aD,ED=rD,TD=lD,RD=nD,Ub=tD,AD=oD,MD=(e,t,r)=>{const n=new Map,i={platform:ND,...r},a={...i.platform,_c:n};return eD(e,t,{...i,platform:a})};var rf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Bf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Bf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function FC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vb(e,t){const r=FC(e);return Math.round(t*r)/r}function Pg(e){const t=v.useRef(e);return rf(()=>{t.current=e}),t}function OD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:u,open:h}=e,[p,m]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,_]=v.useState(n);Bf(g,n)||_(n);const[N,x]=v.useState(null),[S,w]=v.useState(null),b=v.useCallback(E=>{E!==I.current&&(I.current=E,x(E))},[]),j=v.useCallback(E=>{E!==M.current&&(M.current=E,w(E))},[]),k=a||N,T=l||S,I=v.useRef(null),M=v.useRef(null),R=v.useRef(p),O=u!=null,z=Pg(u),G=Pg(i),U=Pg(h),Z=v.useCallback(()=>{if(!I.current||!M.current)return;const E={placement:t,strategy:r,middleware:g};G.current&&(E.platform=G.current),MD(I.current,M.current,E).then(A=>{const W={...A,isPositioned:U.current!==!1};q.current&&!Bf(R.current,W)&&(R.current=W,To.flushSync(()=>{m(W)}))})},[g,t,r,G,U]);rf(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(E=>({...E,isPositioned:!1})))},[h]);const q=v.useRef(!1);rf(()=>(q.current=!0,()=>{q.current=!1}),[]),rf(()=>{if(k&&(I.current=k),T&&(M.current=T),k&&T){if(z.current)return z.current(k,T,Z);Z()}},[k,T,Z,z,O]);const ie=v.useMemo(()=>({reference:I,floating:M,setReference:b,setFloating:j}),[b,j]),K=v.useMemo(()=>({reference:k,floating:T}),[k,T]),Q=v.useMemo(()=>{const E={position:r,left:0,top:0};if(!K.floating)return E;const A=Vb(K.floating,p.x),W=Vb(K.floating,p.y);return c?{...E,transform:"translate("+A+"px, "+W+"px)",...FC(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:W}},[r,c,K.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:Z,refs:ie,elements:K,floatingStyles:Q}),[p,Z,ie,K,Q])}const LD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ub({element:n.current,padding:i}).fn(r):{}:n?Ub({element:n,padding:i}).fn(r):{}}}},ID=(e,t)=>({...kD(e),options:[e,t]}),DD=(e,t)=>({...PD(e),options:[e,t]}),FD=(e,t)=>({...AD(e),options:[e,t]}),$D=(e,t)=>({...ED(e),options:[e,t]}),zD=(e,t)=>({...TD(e),options:[e,t]}),BD=(e,t)=>({...RD(e),options:[e,t]}),UD=(e,t)=>({...LD(e),options:[e,t]});var VD="Arrow",$C=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(Oe.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});$C.displayName=VD;var WD=$C;function HD(e,t=[]){let r=[];function n(a,l){const c=v.createContext(l),u=r.length;r=[...r,l];function h(m){const{scope:g,children:_,...N}=m,x=(g==null?void 0:g[e][u])||c,S=v.useMemo(()=>N,Object.values(N));return s.jsx(x.Provider,{value:S,children:_})}function p(m,g){const _=(g==null?void 0:g[e][u])||c,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,p]}const i=()=>{const a=r.map(l=>v.createContext(l));return function(c){const u=(c==null?void 0:c[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[n,qD(i,...t)]}function qD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function t0(e){const[t,r]=v.useState(void 0);return vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;r({width:l,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var r0="Popper",[zC,yc]=HD(r0),[ZD,BC]=zC(r0),UC=e=>{const{__scopePopper:t,children:r}=e,[n,i]=v.useState(null);return s.jsx(ZD,{scope:t,anchor:n,onAnchorChange:i,children:r})};UC.displayName=r0;var VC="PopperAnchor",WC=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=BC(VC,r),l=v.useRef(null),c=ot(t,l);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(Oe.div,{...i,ref:c})});WC.displayName=VC;var n0="PopperContent",[KD,GD]=zC(n0),HC=v.forwardRef((e,t)=>{var ve,Fe,Xe,He,rt,Le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:_="optimized",onPlaced:N,...x}=e,S=BC(n0,r),[w,b]=v.useState(null),j=ot(t,kt=>b(kt)),[k,T]=v.useState(null),I=t0(k),M=(I==null?void 0:I.width)??0,R=(I==null?void 0:I.height)??0,O=n+(a!=="center"?"-"+a:""),z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},G=Array.isArray(h)?h:[h],U=G.length>0,Z={padding:z,boundary:G.filter(YD),altBoundary:U},{refs:q,floatingStyles:ie,placement:K,isPositioned:Q,middlewareData:E}=OD({strategy:"fixed",placement:O,whileElementsMounted:(...kt)=>CD(...kt,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[ID({mainAxis:i+R,alignmentAxis:l}),u&&DD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?FD():void 0,...Z}),u&&$D({...Z}),zD({...Z,apply:({elements:kt,rects:Yt,availableWidth:Qr,availableHeight:ar})=>{const{width:Yr,height:F}=Yt.reference,V=kt.floating.style;V.setProperty("--radix-popper-available-width",`${Qr}px`),V.setProperty("--radix-popper-available-height",`${ar}px`),V.setProperty("--radix-popper-anchor-width",`${Yr}px`),V.setProperty("--radix-popper-anchor-height",`${F}px`)}}),k&&UD({element:k,padding:c}),XD({arrowWidth:M,arrowHeight:R}),g&&BD({strategy:"referenceHidden",...Z})]}),[A,W]=KC(K),J=Cr(N);vr(()=>{Q&&(J==null||J())},[Q,J]);const de=(ve=E.arrow)==null?void 0:ve.x,Ne=(Fe=E.arrow)==null?void 0:Fe.y,ke=((Xe=E.arrow)==null?void 0:Xe.centerOffset)!==0,[Pe,he]=v.useState();return vr(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(He=E.transformOrigin)==null?void 0:He.x,(rt=E.transformOrigin)==null?void 0:rt.y].join(" "),...((Le=E.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(KD,{scope:r,placedSide:A,onArrowChange:T,arrowX:de,arrowY:Ne,shouldHideArrow:ke,children:s.jsx(Oe.div,{"data-side":A,"data-align":W,...x,ref:j,style:{...x.style,animation:Q?void 0:"none"}})})})});HC.displayName=n0;var qC="PopperArrow",QD={top:"bottom",right:"left",bottom:"top",left:"right"},ZC=v.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=GD(qC,n),l=QD[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(WD,{...i,ref:r,style:{...i.style,display:"block"}})})});ZC.displayName=qC;function YD(e){return e!==null}var XD=e=>({name:"transformOrigin",options:e,fn(t){var S,w,b;const{placement:r,rects:n,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,p]=KC(r),m={start:"0%",center:"50%",end:"100%"}[p],g=(((w=i.arrow)==null?void 0:w.x)??0)+c/2,_=(((b=i.arrow)==null?void 0:b.y)??0)+u/2;let N="",x="";return h==="bottom"?(N=l?m:`${g}px`,x=`${-u}px`):h==="top"?(N=l?m:`${g}px`,x=`${n.floating.height+u}px`):h==="right"?(N=`${-u}px`,x=l?m:`${_}px`):h==="left"&&(N=`${n.floating.width+u}px`,x=l?m:`${_}px`),{data:{x:N,y:x}}}});function KC(e){const[t,r="center"]=e.split("-");return[t,r]}var GC=UC,s0=WC,i0=HC,a0=ZC,[Vm,JW]=ws("Tooltip",[yc]),o0=yc(),QC="TooltipProvider",JD=700,Wb="tooltip.open",[eF,YC]=Vm(QC),XC=e=>{const{__scopeTooltip:t,delayDuration:r=JD,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,[l,c]=v.useState(!0),u=v.useRef(!1),h=v.useRef(0);return v.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),s.jsx(eF,{scope:t,isOpenDelayed:l,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(h.current),c(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:a})};XC.displayName=QC;var JC="Tooltip",[eH,Wm]=Vm(JC),tx="TooltipTrigger",tF=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Wm(tx,r),a=YC(tx,r),l=o0(r),c=v.useRef(null),u=ot(t,c,i.onTriggerChange),h=v.useRef(!1),p=v.useRef(!1),m=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(s0,{asChild:!0,...l,children:s.jsx(Oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:me(e.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:me(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:me(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:me(e.onBlur,i.onClose),onClick:me(e.onClick,i.onClose)})})});tF.displayName=tx;var rF="TooltipPortal",[tH,nF]=Vm(rF,{forceMount:void 0}),rc="TooltipContent",e2=v.forwardRef((e,t)=>{const r=nF(rc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,l=Wm(rc,e.__scopeTooltip);return s.jsx(Gn,{present:n||l.open,children:l.disableHoverableContent?s.jsx(t2,{side:i,...a,ref:t}):s.jsx(sF,{side:i,...a,ref:t})})}),sF=v.forwardRef((e,t)=>{const r=Wm(rc,e.__scopeTooltip),n=YC(rc,e.__scopeTooltip),i=v.useRef(null),a=ot(t,i),[l,c]=v.useState(null),{trigger:u,onClose:h}=r,p=i.current,{onPointerInTransitChange:m}=n,g=v.useCallback(()=>{c(null),m(!1)},[m]),_=v.useCallback((N,x)=>{const S=N.currentTarget,w={x:N.clientX,y:N.clientY},b=lF(w,S.getBoundingClientRect()),j=cF(w,b),k=dF(x.getBoundingClientRect()),T=hF([...j,...k]);c(T),m(!0)},[m]);return v.useEffect(()=>()=>g(),[g]),v.useEffect(()=>{if(u&&p){const N=S=>_(S,p),x=S=>_(S,u);return u.addEventListener("pointerleave",N),p.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",N),p.removeEventListener("pointerleave",x)}}},[u,p,_,g]),v.useEffect(()=>{if(l){const N=x=>{const S=x.target,w={x:x.clientX,y:x.clientY},b=(u==null?void 0:u.contains(S))||(p==null?void 0:p.contains(S)),j=!uF(w,l);b?g():j&&(g(),h())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[u,p,l,h,g]),s.jsx(t2,{...e,ref:a})}),[iF,aF]=Vm(JC,{isInside:!1}),t2=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=e,u=Wm(rc,r),h=o0(r),{onClose:p}=u;return v.useEffect(()=>(document.addEventListener(Wb,p),()=>document.removeEventListener(Wb,p)),[p]),v.useEffect(()=>{if(u.trigger){const m=g=>{const _=g.target;_!=null&&_.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:s.jsxs(i0,{"data-state":u.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(zy,{children:n}),s.jsx(iF,{scope:r,isInside:!0,children:s.jsx(ZO,{id:u.contentId,role:"tooltip",children:i||n})})]})})});e2.displayName=rc;var r2="TooltipArrow",oF=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=o0(r);return aF(r2,r).isInside?null:s.jsx(a0,{...i,...n,ref:t})});oF.displayName=r2;function lF(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cF(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function dF(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function uF(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a].x,u=t[a].y,h=t[l].x,p=t[l].y;u>n!=p>n&&r<(h-c)*(n-u)/(p-u)+c&&(i=!i)}return i}function hF(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),fF(t)}function fF(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var mF=XC,n2=e2;const pF=mF,gF=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(n2,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));gF.displayName=n2.displayName;var _c=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},go=typeof window>"u"||"Deno"in globalThis;function In(){}function vF(e,t){return typeof e=="function"?e(t):e}function rx(e){return typeof e=="number"&&e>=0&&e!==1/0}function s2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kl(e,t){return typeof e=="function"?e(t):e}function ls(e,t){return typeof e=="function"?e(t):e}function Hb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:c}=e;if(l){if(n){if(t.queryHash!==l0(l,t.options))return!1}else if(!Kd(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function qb(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(vo(t.options.mutationKey)!==vo(a))return!1}else if(!Kd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function l0(e,t){return((t==null?void 0:t.queryKeyHashFn)||vo)(e)}function vo(e){return JSON.stringify(e,(t,r)=>nx(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Kd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Kd(e[r],t[r])):!1}function i2(e,t){if(e===t)return e;const r=Zb(e)&&Zb(t);if(r||nx(e)&&nx(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),l=a.length,c=r?[]:{};let u=0;for(let h=0;h<l;h++){const p=r?h:a[h];(!r&&n.includes(p)||r)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,u++):(c[p]=i2(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&u++)}return i===l&&u===i?e:c}return t}function Uf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Zb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nx(e){if(!Kb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Kb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kb(e){return Object.prototype.toString.call(e)==="[object Object]"}function xF(e){return new Promise(t=>{setTimeout(t,e)})}function sx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?i2(e,t):t}function yF(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function _F(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var c0=Symbol();function a2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===c0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ya,Ki,Al,d1,wF=(d1=class extends _c{constructor(){super();De(this,Ya);De(this,Ki);De(this,Al);we(this,Al,t=>{if(!go&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Ki)||this.setEventListener($(this,Al))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ki))==null||t.call(this),we(this,Ki,void 0))}setEventListener(t){var r;we(this,Al,t),(r=$(this,Ki))==null||r.call(this),we(this,Ki,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Ya)!==t&&(we(this,Ya,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,Ya)=="boolean"?$(this,Ya):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ya=new WeakMap,Ki=new WeakMap,Al=new WeakMap,d1),d0=new wF,Ml,Gi,Ol,u1,bF=(u1=class extends _c{constructor(){super();De(this,Ml,!0);De(this,Gi);De(this,Ol);we(this,Ol,t=>{if(!go&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Gi)||this.setEventListener($(this,Ol))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Gi))==null||t.call(this),we(this,Gi,void 0))}setEventListener(t){var r;we(this,Ol,t),(r=$(this,Gi))==null||r.call(this),we(this,Gi,t(this.setOnline.bind(this)))}setOnline(t){$(this,Ml)!==t&&(we(this,Ml,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,Ml)}},Ml=new WeakMap,Gi=new WeakMap,Ol=new WeakMap,u1),Vf=new bF;function ix(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function jF(e){return Math.min(1e3*2**e,3e4)}function o2(e){return(e??"online")==="online"?Vf.isOnline():!0}var l2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Eg(e){return e instanceof l2}function c2(e){let t=!1,r=0,n=!1,i;const a=ix(),l=x=>{var S;n||(g(new l2(x)),(S=e.abort)==null||S.call(e))},c=()=>{t=!0},u=()=>{t=!1},h=()=>d0.isFocused()&&(e.networkMode==="always"||Vf.isOnline())&&e.canRun(),p=()=>o2(e.networkMode)&&e.canRun(),m=x=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,x),i==null||i(),a.resolve(x))},g=x=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,x),i==null||i(),a.reject(x))},_=()=>new Promise(x=>{var S;i=w=>{(n||h())&&x(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var x;i=void 0,n||(x=e.onContinue)==null||x.call(e)}),N=()=>{if(n)return;let x;const S=r===0?e.initialPromise:void 0;try{x=S??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(m).catch(w=>{var I;if(n)return;const b=e.retry??(go?0:3),j=e.retryDelay??jF,k=typeof j=="function"?j(r,w):j,T=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!T){g(w);return}r++,(I=e.onFail)==null||I.call(e,r,w),xF(k).then(()=>h()?void 0:_()).then(()=>{t?g(w):N()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?N():_().then(N),a)}}function NF(){let e=[],t=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0);const a=c=>{t?e.push(c):i(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&i(()=>{n(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||l()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var sr=NF(),Xa,h1,d2=(h1=class{constructor(){De(this,Xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rx(this.gcTime)&&we(this,Xa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(go?1/0:5*60*1e3))}clearGcTimeout(){$(this,Xa)&&(clearTimeout($(this,Xa)),we(this,Xa,void 0))}},Xa=new WeakMap,h1),Ll,Il,Ln,Rr,vu,Ja,ss,ni,f1,SF=(f1=class extends d2{constructor(t){super();De(this,ss);De(this,Ll);De(this,Il);De(this,Ln);De(this,Rr);De(this,vu);De(this,Ja);we(this,Ja,!1),we(this,vu,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,Ln,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,Ll,CF(this.options)),this.state=t.state??$(this,Ll),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,Rr))==null?void 0:t.promise}setOptions(t){this.options={...$(this,vu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ln).remove(this)}setData(t,r){const n=sx(this.state.data,t,this.options);return et(this,ss,ni).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){et(this,ss,ni).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=$(this,Rr))==null?void 0:n.promise;return(i=$(this,Rr))==null||i.cancel(t),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ll))}isActive(){return this.observers.some(t=>ls(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===c0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!s2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,Rr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,Rr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Ln).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,Rr)&&($(this,Ja)?$(this,Rr).cancel({revert:!0}):$(this,Rr).cancelRetry()),this.scheduleGc()),$(this,Ln).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,ss,ni).call(this,{type:"invalidate"})}fetch(t,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Rr))return $(this,Rr).continueRetry(),$(this,Rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(we(this,Ja,!0),n.signal)})},a=()=>{const m=a2(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),we(this,Ja,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),we(this,Il,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&et(this,ss,ni).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var g,_,N,x;Eg(m)&&m.silent||et(this,ss,ni).call(this,{type:"error",error:m}),Eg(m)||((_=(g=$(this,Ln).config).onError)==null||_.call(g,m,this),(x=(N=$(this,Ln).config).onSettled)==null||x.call(N,this.state.data,m,this)),this.scheduleGc()};return we(this,Rr,c2({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var g,_,N,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(S){c(S);return}(_=(g=$(this,Ln).config).onSuccess)==null||_.call(g,m,this),(x=(N=$(this,Ln).config).onSettled)==null||x.call(N,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,g)=>{et(this,ss,ni).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{et(this,ss,ni).call(this,{type:"pause"})},onContinue:()=>{et(this,ss,ni).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),$(this,Rr).start()}},Ll=new WeakMap,Il=new WeakMap,Ln=new WeakMap,Rr=new WeakMap,vu=new WeakMap,Ja=new WeakMap,ss=new WeakSet,ni=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Eg(i)&&i.revert&&$(this,Il)?{...$(this,Il),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),sr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,Ln).notify({query:this,type:"updated",action:t})})},f1);function u2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ts,m1,kF=(m1=class extends _c{constructor(t={}){super();De(this,Ts);this.config=t,we(this,Ts,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??l0(i,r);let l=this.get(a);return l||(l=new SF({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){$(this,Ts).has(t.queryHash)||($(this,Ts).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Ts).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Ts).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Ts).get(t)}getAll(){return[...$(this,Ts).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hb(t,n)):r}notify(t){sr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ts=new WeakMap,m1),Rs,zr,eo,As,Ii,p1,PF=(p1=class extends d2{constructor(t){super();De(this,As);De(this,Rs);De(this,zr);De(this,eo);this.mutationId=t.mutationId,we(this,zr,t.mutationCache),we(this,Rs,[]),this.state=t.state||h2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Rs).includes(t)||($(this,Rs).push(t),this.clearGcTimeout(),$(this,zr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Rs,$(this,Rs).filter(r=>r!==t)),this.scheduleGc(),$(this,zr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Rs).length||(this.state.status==="pending"?this.scheduleGc():$(this,zr).remove(this))}continue(){var t;return((t=$(this,eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,h,p,m,g,_,N,x,S,w,b,j,k,T,I,M;we(this,eo,c2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{et(this,As,Ii).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{et(this,As,Ii).call(this,{type:"pause"})},onContinue:()=>{et(this,As,Ii).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,zr).canRun(this)}));const r=this.state.status==="pending",n=!$(this,eo).canStart();try{if(!r){et(this,As,Ii).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=$(this,zr).config).onMutate)==null?void 0:a.call(i,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&et(this,As,Ii).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const R=await $(this,eo).start();return await((h=(u=$(this,zr).config).onSuccess)==null?void 0:h.call(u,R,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,t,this.state.context)),await((_=(g=$(this,zr).config).onSettled)==null?void 0:_.call(g,R,null,this.state.variables,this.state.context,this)),await((x=(N=this.options).onSettled)==null?void 0:x.call(N,R,null,t,this.state.context)),et(this,As,Ii).call(this,{type:"success",data:R}),R}catch(R){try{throw await((w=(S=$(this,zr).config).onError)==null?void 0:w.call(S,R,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,R,t,this.state.context)),await((T=(k=$(this,zr).config).onSettled)==null?void 0:T.call(k,void 0,R,this.state.variables,this.state.context,this)),await((M=(I=this.options).onSettled)==null?void 0:M.call(I,void 0,R,t,this.state.context)),R}finally{et(this,As,Ii).call(this,{type:"error",error:R})}}finally{$(this,zr).runNext(this)}}},Rs=new WeakMap,zr=new WeakMap,eo=new WeakMap,As=new WeakSet,Ii=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sr.batch(()=>{$(this,Rs).forEach(n=>{n.onMutationUpdate(t)}),$(this,zr).notify({mutation:this,type:"updated",action:t})})},p1);function h2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,xu,g1,EF=(g1=class extends _c{constructor(t={}){super();De(this,xn);De(this,xu);this.config=t,we(this,xn,new Map),we(this,xu,Date.now())}build(t,r,n){const i=new PF({mutationCache:this,mutationId:++ch(this,xu)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Rh(t),n=$(this,xn).get(r)??[];n.push(t),$(this,xn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Rh(t);if($(this,xn).has(r)){const i=(n=$(this,xn).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?$(this,xn).delete(r):$(this,xn).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=$(this,xn).get(Rh(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=$(this,xn).get(Rh(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){sr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...$(this,xn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qb(r,n))}findAll(t={}){return this.getAll().filter(r=>qb(t,r))}notify(t){sr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return sr.batch(()=>Promise.all(t.map(r=>r.continue().catch(In))))}},xn=new WeakMap,xu=new WeakMap,g1);function Rh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Gb(e){return{onFetch:(t,r)=>{var p,m,g,_,N;const n=t.options,i=(g=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,a=((_=t.state.data)==null?void 0:_.pages)||[],l=((N=t.state.data)==null?void 0:N.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let x=!1;const S=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=a2(t.options,t.fetchOptions),b=async(j,k,T)=>{if(x)return Promise.reject();if(k==null&&j.pages.length)return Promise.resolve(j);const I={queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};S(I);const M=await w(I),{maxPages:R}=t.options,O=T?_F:yF;return{pages:O(j.pages,M,R),pageParams:O(j.pageParams,k,R)}};if(i&&a.length){const j=i==="backward",k=j?TF:Qb,T={pages:a,pageParams:l},I=k(n,T);c=await b(T,I,j)}else{const j=e??a.length;do{const k=u===0?l[0]??n.initialPageParam:Qb(n,c);if(u>0&&k==null)break;c=await b(c,k),u++}while(u<j)}return c};t.options.persister?t.fetchFn=()=>{var x,S;return(S=(x=t.options).persister)==null?void 0:S.call(x,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function Qb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function TF(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bt,Qi,Yi,Dl,Fl,Xi,$l,zl,v1,RF=(v1=class{constructor(e={}){De(this,Bt);De(this,Qi);De(this,Yi);De(this,Dl);De(this,Fl);De(this,Xi);De(this,$l);De(this,zl);we(this,Bt,e.queryCache||new kF),we(this,Qi,e.mutationCache||new EF),we(this,Yi,e.defaultOptions||{}),we(this,Dl,new Map),we(this,Fl,new Map),we(this,Xi,0)}mount(){ch(this,Xi)._++,$(this,Xi)===1&&(we(this,$l,d0.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Bt).onFocus())})),we(this,zl,Vf.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Bt).onOnline())})))}unmount(){var e,t;ch(this,Xi)._--,$(this,Xi)===0&&((e=$(this,$l))==null||e.call(this),we(this,$l,void 0),(t=$(this,zl))==null||t.call(this),we(this,zl,void 0))}isFetching(e){return $(this,Bt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,Qi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Bt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=$(this,Bt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(kl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return $(this,Bt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=$(this,Bt).get(n.queryHash),a=i==null?void 0:i.state.data,l=vF(t,a);if(l!==void 0)return $(this,Bt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return sr.batch(()=>$(this,Bt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Bt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,Bt);sr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,Bt),n={type:"active",...e};return sr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=sr.batch(()=>$(this,Bt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(In).catch(In)}invalidateQueries(e={},t={}){return sr.batch(()=>{if($(this,Bt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=sr.batch(()=>$(this,Bt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(In)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(In)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,Bt).build(this,t);return r.isStaleByTime(kl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(In).catch(In)}fetchInfiniteQuery(e){return e.behavior=Gb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(In).catch(In)}ensureInfiniteQueryData(e){return e.behavior=Gb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vf.isOnline()?$(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Bt)}getMutationCache(){return $(this,Qi)}getDefaultOptions(){return $(this,Yi)}setDefaultOptions(e){we(this,Yi,e)}setQueryDefaults(e,t){$(this,Dl).set(vo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Dl).values()];let r={};return t.forEach(n=>{Kd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){$(this,Fl).set(vo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Fl).values()];let r={};return t.forEach(n=>{Kd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,Yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=l0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===c0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,Yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Bt).clear(),$(this,Qi).clear()}},Bt=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Dl=new WeakMap,Fl=new WeakMap,Xi=new WeakMap,$l=new WeakMap,zl=new WeakMap,v1),rn,at,yu,Br,to,Bl,Ji,Ms,_u,Ul,Vl,ro,no,ea,Wl,gt,id,ax,ox,lx,cx,dx,ux,hx,f2,x1,AF=(x1=class extends _c{constructor(t,r){super();De(this,gt);De(this,rn);De(this,at);De(this,yu);De(this,Br);De(this,to);De(this,Bl);De(this,Ji);De(this,Ms);De(this,_u);De(this,Ul);De(this,Vl);De(this,ro);De(this,no);De(this,ea);De(this,Wl,new Set);this.options=r,we(this,rn,t),we(this,Ms,null),we(this,Ji,ix()),this.options.experimental_prefetchInRender||$(this,Ji).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,at).addObserver(this),Yb($(this,at),this.options)?et(this,gt,id).call(this):this.updateResult(),et(this,gt,cx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fx($(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fx($(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,gt,dx).call(this),et(this,gt,ux).call(this),$(this,at).removeObserver(this)}setOptions(t,r){const n=this.options,i=$(this,at);if(this.options=$(this,rn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ls(this.options.enabled,$(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,gt,hx).call(this),$(this,at).setOptions(this.options),n._defaulted&&!Uf(this.options,n)&&$(this,rn).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,at),observer:this});const a=this.hasListeners();a&&Xb($(this,at),i,this.options,n)&&et(this,gt,id).call(this),this.updateResult(r),a&&($(this,at)!==i||ls(this.options.enabled,$(this,at))!==ls(n.enabled,$(this,at))||kl(this.options.staleTime,$(this,at))!==kl(n.staleTime,$(this,at)))&&et(this,gt,ax).call(this);const l=et(this,gt,ox).call(this);a&&($(this,at)!==i||ls(this.options.enabled,$(this,at))!==ls(n.enabled,$(this,at))||l!==$(this,ea))&&et(this,gt,lx).call(this,l)}getOptimisticResult(t){const r=$(this,rn).getQueryCache().build($(this,rn),t),n=this.createResult(r,t);return OF(this,n)&&(we(this,Br,n),we(this,Bl,this.options),we(this,to,$(this,at).state)),n}getCurrentResult(){return $(this,Br)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){$(this,Wl).add(t)}getCurrentQuery(){return $(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,rn).defaultQueryOptions(t),n=$(this,rn).getQueryCache().build($(this,rn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return et(this,gt,id).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Br)))}createResult(t,r){var R;const n=$(this,at),i=this.options,a=$(this,Br),l=$(this,to),c=$(this,Bl),h=t!==n?t.state:$(this,yu),{state:p}=t;let m={...p},g=!1,_;if(r._optimisticResults){const O=this.hasListeners(),z=!O&&Yb(t,r),G=O&&Xb(t,n,r,i);(z||G)&&(m={...m,...u2(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:N,errorUpdatedAt:x,status:S}=m;if(r.select&&m.data!==void 0)if(a&&m.data===(l==null?void 0:l.data)&&r.select===$(this,_u))_=$(this,Ul);else try{we(this,_u,r.select),_=r.select(m.data),_=sx(a==null?void 0:a.data,_,r),we(this,Ul,_),we(this,Ms,null)}catch(O){we(this,Ms,O)}else _=m.data;if(r.placeholderData!==void 0&&_===void 0&&S==="pending"){let O;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))O=a.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((R=$(this,Vl))==null?void 0:R.state.data,$(this,Vl)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),we(this,Ms,null)}catch(z){we(this,Ms,z)}O!==void 0&&(S="success",_=sx(a==null?void 0:a.data,O,r),g=!0)}$(this,Ms)&&(N=$(this,Ms),_=$(this,Ul),x=Date.now(),S="error");const w=m.fetchStatus==="fetching",b=S==="pending",j=S==="error",k=b&&w,T=_!==void 0,M={status:S,fetchStatus:m.fetchStatus,isPending:b,isSuccess:S==="success",isError:j,isInitialLoading:k,isLoading:k,data:_,dataUpdatedAt:m.dataUpdatedAt,error:N,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!T,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:j&&T,isStale:u0(t,r),refetch:this.refetch,promise:$(this,Ji)};if(this.options.experimental_prefetchInRender){const O=U=>{M.status==="error"?U.reject(M.error):M.data!==void 0&&U.resolve(M.data)},z=()=>{const U=we(this,Ji,M.promise=ix());O(U)},G=$(this,Ji);switch(G.status){case"pending":t.queryHash===n.queryHash&&O(G);break;case"fulfilled":(M.status==="error"||M.data!==G.value)&&z();break;case"rejected":(M.status!=="error"||M.error!==G.reason)&&z();break}}return M}updateResult(t){const r=$(this,Br),n=this.createResult($(this,at),this.options);if(we(this,to,$(this,at).state),we(this,Bl,this.options),$(this,to).data!==void 0&&we(this,Vl,$(this,at)),Uf(n,r))return;we(this,Br,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!$(this,Wl).size)return!0;const u=new Set(c??$(this,Wl));return this.options.throwOnError&&u.add("error"),Object.keys($(this,Br)).some(h=>{const p=h;return $(this,Br)[p]!==r[p]&&u.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),et(this,gt,f2).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,gt,cx).call(this)}},rn=new WeakMap,at=new WeakMap,yu=new WeakMap,Br=new WeakMap,to=new WeakMap,Bl=new WeakMap,Ji=new WeakMap,Ms=new WeakMap,_u=new WeakMap,Ul=new WeakMap,Vl=new WeakMap,ro=new WeakMap,no=new WeakMap,ea=new WeakMap,Wl=new WeakMap,gt=new WeakSet,id=function(t){et(this,gt,hx).call(this);let r=$(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(In)),r},ax=function(){et(this,gt,dx).call(this);const t=kl(this.options.staleTime,$(this,at));if(go||$(this,Br).isStale||!rx(t))return;const n=s2($(this,Br).dataUpdatedAt,t)+1;we(this,ro,setTimeout(()=>{$(this,Br).isStale||this.updateResult()},n))},ox=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,at)):this.options.refetchInterval)??!1},lx=function(t){et(this,gt,ux).call(this),we(this,ea,t),!(go||ls(this.options.enabled,$(this,at))===!1||!rx($(this,ea))||$(this,ea)===0)&&we(this,no,setInterval(()=>{(this.options.refetchIntervalInBackground||d0.isFocused())&&et(this,gt,id).call(this)},$(this,ea)))},cx=function(){et(this,gt,ax).call(this),et(this,gt,lx).call(this,et(this,gt,ox).call(this))},dx=function(){$(this,ro)&&(clearTimeout($(this,ro)),we(this,ro,void 0))},ux=function(){$(this,no)&&(clearInterval($(this,no)),we(this,no,void 0))},hx=function(){const t=$(this,rn).getQueryCache().build($(this,rn),this.options);if(t===$(this,at))return;const r=$(this,at);we(this,at,t),we(this,yu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},f2=function(t){sr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Br))}),$(this,rn).getQueryCache().notify({query:$(this,at),type:"observerResultsUpdated"})})},x1);function MF(e,t){return ls(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yb(e,t){return MF(e,t)||e.state.data!==void 0&&fx(e,t,t.refetchOnMount)}function fx(e,t,r){if(ls(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&u0(e,t)}return!1}function Xb(e,t,r,n){return(e!==t||ls(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&u0(e,r)}function u0(e,t){return ls(t.enabled,e)!==!1&&e.isStaleByTime(kl(t.staleTime,e))}function OF(e,t){return!Uf(e.getCurrentResult(),t)}var ta,ra,nn,li,mi,nf,mx,y1,LF=(y1=class extends _c{constructor(r,n){super();De(this,mi);De(this,ta);De(this,ra);De(this,nn);De(this,li);we(this,ta,r),this.setOptions(n),this.bindMethods(),et(this,mi,nf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=$(this,ta).defaultMutationOptions(r),Uf(this.options,n)||$(this,ta).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,nn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&vo(n.mutationKey)!==vo(this.options.mutationKey)?this.reset():((i=$(this,nn))==null?void 0:i.state.status)==="pending"&&$(this,nn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,nn))==null||r.removeObserver(this)}onMutationUpdate(r){et(this,mi,nf).call(this),et(this,mi,mx).call(this,r)}getCurrentResult(){return $(this,ra)}reset(){var r;(r=$(this,nn))==null||r.removeObserver(this),we(this,nn,void 0),et(this,mi,nf).call(this),et(this,mi,mx).call(this)}mutate(r,n){var i;return we(this,li,n),(i=$(this,nn))==null||i.removeObserver(this),we(this,nn,$(this,ta).getMutationCache().build($(this,ta),this.options)),$(this,nn).addObserver(this),$(this,nn).execute(r)}},ta=new WeakMap,ra=new WeakMap,nn=new WeakMap,li=new WeakMap,mi=new WeakSet,nf=function(){var n;const r=((n=$(this,nn))==null?void 0:n.state)??h2();we(this,ra,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},mx=function(r){sr.batch(()=>{var n,i,a,l,c,u,h,p;if($(this,li)&&this.hasListeners()){const m=$(this,ra).variables,g=$(this,ra).context;(r==null?void 0:r.type)==="success"?((i=(n=$(this,li)).onSuccess)==null||i.call(n,r.data,m,g),(l=(a=$(this,li)).onSettled)==null||l.call(a,r.data,null,m,g)):(r==null?void 0:r.type)==="error"&&((u=(c=$(this,li)).onError)==null||u.call(c,r.error,m,g),(p=(h=$(this,li)).onSettled)==null||p.call(h,void 0,r.error,m,g))}this.listeners.forEach(m=>{m($(this,ra))})})},y1),m2=v.createContext(void 0),Qn=e=>{const t=v.useContext(m2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IF=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(m2.Provider,{value:e,children:t})),p2=v.createContext(!1),DF=()=>v.useContext(p2);p2.Provider;function FF(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $F=v.createContext(FF()),zF=()=>v.useContext($F);function g2(e,t){return typeof e=="function"?e(...t):!!e}function v2(){}var BF=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},UF=e=>{v.useEffect(()=>{e.clearReset()},[e])},VF=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&g2(r,[e.error,n]),WF=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},HF=(e,t)=>e.isLoading&&e.isFetching&&!t,qF=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ZF(e,t,r){var p,m,g,_,N;const n=Qn(),i=DF(),a=zF(),l=n.defaultQueryOptions(e);(m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,l),l._optimisticResults=i?"isRestoring":"optimistic",WF(l),BF(l,a),UF(a);const c=!n.getQueryCache().get(l.queryHash),[u]=v.useState(()=>new t(n,l)),h=u.getOptimisticResult(l);if(v.useSyncExternalStore(v.useCallback(x=>{const S=i?()=>{}:u.subscribe(sr.batchCalls(x));return u.updateResult(),S},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(l,{listeners:!1})},[l,u]),qF(l,h))throw Jb(l,u,a);if(VF({result:h,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw h.error;if((_=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||_.call(g,l,h),l.experimental_prefetchInRender&&!go&&HF(h,i)){const x=c?Jb(l,u,a):(N=n.getQueryCache().get(l.queryHash))==null?void 0:N.promise;x==null||x.catch(v2).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?h:u.trackResult(h)}function mn(e,t){return ZF(e,AF)}function bt(e,t){const r=Qn(),[n]=v.useState(()=>new LF(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const i=v.useSyncExternalStore(v.useCallback(l=>n.subscribe(sr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=v.useCallback((l,c)=>{n.mutate(l,c).catch(v2)},[n]);if(i.error&&g2(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}var ia;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ia||(ia={}));const ej="popstate";function KF(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:c}=n.location;return px("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wf(i)}return QF(t,r,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GF(){return Math.random().toString(36).substr(2,8)}function tj(e,t){return{usr:e.state,key:e.key,idx:t}}function px(e,t,r,n){return r===void 0&&(r=null),Gd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wc(t):t,{state:r,key:t&&t.key||n||GF()})}function Wf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function QF(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c=ia.Pop,u=null,h=p();h==null&&(h=0,l.replaceState(Gd({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){c=ia.Pop;let S=p(),w=S==null?null:S-h;h=S,u&&u({action:c,location:x.location,delta:w})}function g(S,w){c=ia.Push;let b=px(x.location,S,w);h=p()+1;let j=tj(b,h),k=x.createHref(b);try{l.pushState(j,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}a&&u&&u({action:c,location:x.location,delta:1})}function _(S,w){c=ia.Replace;let b=px(x.location,S,w);h=p();let j=tj(b,h),k=x.createHref(b);l.replaceState(j,"",k),a&&u&&u({action:c,location:x.location,delta:0})}function N(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:Wf(S);return b=b.replace(/ $/,"%20"),Gt(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let x={get action(){return c},get location(){return e(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ej,m),u=S,()=>{i.removeEventListener(ej,m),u=null}},createHref(S){return t(i,S)},createURL:N,encodeLocation(S){let w=N(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:_,go(S){return l.go(S)}};return x}var rj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rj||(rj={}));function YF(e,t,r){return r===void 0&&(r="/"),XF(e,t,r,!1)}function XF(e,t,r,n){let i=typeof t=="string"?wc(t):t,a=h0(i.pathname||"/",r);if(a==null)return null;let l=y2(e);JF(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=d5(a);c=l5(l[u],h,n)}return c}function y2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(Gt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=ma([n,u.relativePath]),p=r.concat(u);a.children&&a.children.length>0&&(Gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),y2(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:a5(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of _2(a.path))i(a,l,u)}),t}function _2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=_2(n.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function JF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:o5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e5=/^:[\w-]+$/,t5=3,r5=2,n5=1,s5=10,i5=-2,nj=e=>e==="*";function a5(e,t){let r=e.split("/"),n=r.length;return r.some(nj)&&(n+=i5),t&&(n+=r5),r.filter(i=>!nj(i)).reduce((i,a)=>i+(e5.test(a)?t5:a===""?n5:s5),n)}function o5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function l5(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=sj({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),g=u.route;if(!m&&h&&r&&!n[n.length-1].route.index&&(m=sj({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ma([a,m.pathname]),pathnameBase:m5(ma([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=ma([a,m.pathnameBase]))}return l}function sj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=c5(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,p,m)=>{let{paramName:g,isOptional:_}=p;if(g==="*"){let x=c[m]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const N=c[m];return _&&!N?h[g]=void 0:h[g]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function c5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),x2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function d5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function h0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function u5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?wc(e):e;return{pathname:r?r.startsWith("/")?r:h5(r,t):t,search:p5(n),hash:g5(i)}}function h5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function f0(e,t){let r=f5(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function m0(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=wc(e):(i=Gd({},e),Gt(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?t[m]:"/"}let u=u5(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const ma=e=>e.join("/").replace(/\/\/+/g,"/"),m5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w2=["post","put","patch","delete"];new Set(w2);const x5=["get",...w2];new Set(x5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}const p0=v.createContext(null),y5=v.createContext(null),Ra=v.createContext(null),Hm=v.createContext(null),ki=v.createContext({outlet:null,matches:[],isDataRoute:!1}),b2=v.createContext(null);function _5(e,t){let{relative:r}=t===void 0?{}:t;bc()||Gt(!1);let{basename:n,navigator:i}=v.useContext(Ra),{hash:a,pathname:l,search:c}=N2(e,{relative:r}),u=l;return n!=="/"&&(u=l==="/"?n:ma([n,l])),i.createHref({pathname:u,search:c,hash:a})}function bc(){return v.useContext(Hm)!=null}function Ro(){return bc()||Gt(!1),v.useContext(Hm).location}function j2(e){v.useContext(Ra).static||v.useLayoutEffect(e)}function Ao(){let{isDataRoute:e}=v.useContext(ki);return e?O5():w5()}function w5(){bc()||Gt(!1);let e=v.useContext(p0),{basename:t,future:r,navigator:n}=v.useContext(Ra),{matches:i}=v.useContext(ki),{pathname:a}=Ro(),l=JSON.stringify(f0(i,r.v7_relativeSplatPath)),c=v.useRef(!1);return j2(()=>{c.current=!0}),v.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=m0(h,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ma([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,a,e])}function b5(){let{matches:e}=v.useContext(ki),t=e[e.length-1];return t?t.params:{}}function N2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Ra),{matches:i}=v.useContext(ki),{pathname:a}=Ro(),l=JSON.stringify(f0(i,n.v7_relativeSplatPath));return v.useMemo(()=>m0(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function j5(e,t){return N5(e,t)}function N5(e,t,r,n){bc()||Gt(!1);let{navigator:i}=v.useContext(Ra),{matches:a}=v.useContext(ki),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Ro(),p;if(t){var m;let S=typeof t=="string"?wc(t):t;u==="/"||(m=S.pathname)!=null&&m.startsWith(u)||Gt(!1),p=S}else p=h;let g=p.pathname||"/",_=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=YF(e,{pathname:_}),x=E5(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:ma([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:ma([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,r,n);return t&&x?v.createElement(Hm.Provider,{value:{location:Qd({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ia.Pop}},x):x}function S5(){let e=M5(),t=v5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,null)}const C5=v.createElement(S5,null);class k5 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(ki.Provider,{value:this.props.routeContext},v.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P5(e){let{routeContext:t,match:r,children:n}=e,i=v.useContext(p0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ki.Provider,{value:t},n)}function E5(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let p=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||Gt(!1),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:_}=r,N=m.route.loader&&g[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||N){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let _,N=!1,x=null,S=null;r&&(_=c&&m.route.id?c[m.route.id]:void 0,x=m.route.errorElement||C5,u&&(h<0&&g===0?(N=!0,S=null):h===g&&(N=!0,S=m.route.hydrateFallbackElement||null)));let w=t.concat(l.slice(0,g+1)),b=()=>{let j;return _?j=x:N?j=S:m.route.Component?j=v.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,v.createElement(P5,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?v.createElement(k5,{location:r.location,revalidation:r.revalidation,component:x,error:_,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var S2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S2||{}),Hf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hf||{});function T5(e){let t=v.useContext(p0);return t||Gt(!1),t}function R5(e){let t=v.useContext(y5);return t||Gt(!1),t}function A5(e){let t=v.useContext(ki);return t||Gt(!1),t}function C2(e){let t=A5(),r=t.matches[t.matches.length-1];return r.route.id||Gt(!1),r.route.id}function M5(){var e;let t=v.useContext(b2),r=R5(Hf.UseRouteError),n=C2(Hf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function O5(){let{router:e}=T5(S2.UseNavigateStable),t=C2(Hf.UseNavigateStable),r=v.useRef(!1);return j2(()=>{r.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qd({fromRouteId:t},a)))},[e,t])}function qf(e){let{to:t,replace:r,state:n,relative:i}=e;bc()||Gt(!1);let{future:a,static:l}=v.useContext(Ra),{matches:c}=v.useContext(ki),{pathname:u}=Ro(),h=Ao(),p=m0(t,f0(c,a.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(p);return v.useEffect(()=>h(JSON.parse(m),{replace:r,state:n,relative:i}),[h,m,i,r,n]),null}function lr(e){Gt(!1)}function L5(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ia.Pop,navigator:a,static:l=!1,future:c}=e;bc()&&Gt(!1);let u=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:u,navigator:a,static:l,future:Qd({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);typeof n=="string"&&(n=wc(n));let{pathname:p="/",search:m="",hash:g="",state:_=null,key:N="default"}=n,x=v.useMemo(()=>{let S=h0(p,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:_,key:N},navigationType:i}},[u,p,m,g,_,N,i]);return x==null?null:v.createElement(Ra.Provider,{value:h},v.createElement(Hm.Provider,{children:r,value:x}))}function k2(e){let{children:t,location:r}=e;return j5(gx(t),r)}new Promise(()=>{});function gx(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,i)=>{if(!v.isValidElement(n))return;let a=[...t,i];if(n.type===v.Fragment){r.push.apply(r,gx(n.props.children,a));return}n.type!==lr&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=gx(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function I5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function D5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F5(e,t){return e.button===0&&(!t||t==="_self")&&!D5(e)}const $5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z5="6";try{window.__reactRouterVersion=z5}catch{}const B5="startTransition",ij=R1[B5];function U5(e){let{basename:t,children:r,future:n,window:i}=e,a=v.useRef();a.current==null&&(a.current=KF({window:i,v5Compat:!0}));let l=a.current,[c,u]=v.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},p=v.useCallback(m=>{h&&ij?ij(()=>u(m)):u(m)},[u,h]);return v.useLayoutEffect(()=>l.listen(p),[l,p]),v.createElement(L5,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const V5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=v.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:p,viewTransition:m}=t,g=I5(t,$5),{basename:_}=v.useContext(Ra),N,x=!1;if(typeof h=="string"&&W5.test(h)&&(N=h,V5))try{let j=new URL(window.location.href),k=h.startsWith("//")?new URL(j.protocol+h):new URL(h),T=h0(k.pathname,_);k.origin===j.origin&&T!=null?h=T+k.search+k.hash:x=!0}catch{}let S=_5(h,{relative:i}),w=H5(h,{replace:l,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:m});function b(j){n&&n(j),j.defaultPrevented||w(j)}return v.createElement("a",vx({},g,{href:N||S,onClick:x||a?n:b,ref:r,target:u}))});var aj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(aj||(aj={}));var oj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oj||(oj={}));function H5(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,u=Ao(),h=Ro(),p=N2(e,{relative:l});return v.useCallback(m=>{if(F5(m,r)){m.preventDefault();let g=n!==void 0?n:Wf(h)===Wf(p);u(e,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[h,u,p,n,i,r,e,a,l,c])}const q5="modulepreload",Z5=function(e){return"/"+e},lj={},nc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=Z5(u),u in lj)return;lj[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":q5,h||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,_)=>{m.addEventListener("load",g),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},K5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nc(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class g0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class G5 extends g0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Q5 extends g0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Y5 extends g0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xx||(xx={}));var X5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};class J5{constructor(t,{headers:r={},customFetch:n,region:i=xx.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=K5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return X5(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let c={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(c["x-region"]=u);let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h}).catch(N=>{throw new G5(N)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Q5(p);if(!p.ok)throw new Y5(p);let g=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield p.json():g==="application/octet-stream"?_=yield p.blob():g==="text/event-stream"?_=p:g==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var ln={},v0={},qm={},Tu={},Zm={},Km={},e3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sc=e3();const t3=sc.fetch,P2=sc.fetch.bind(sc),E2=sc.Headers,r3=sc.Request,n3=sc.Response,jc=Object.freeze(Object.defineProperty({__proto__:null,Headers:E2,Request:r3,Response:n3,default:P2,fetch:t3},Symbol.toStringTag,{value:"Module"})),s3=Z4(jc);var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});let i3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gm.default=i3;var T2=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Km,"__esModule",{value:!0});const a3=T2(s3),o3=T2(Gm);let l3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=a3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,u;let h=null,p=null,m=null,g=a.status,_=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=w:p=JSON.parse(w))}const x=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),S=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await a.text();try{h=JSON.parse(x),Array.isArray(h)&&a.status===404&&(p=[],h=null,g=200,_="OK")}catch{a.status===404&&x===""?(g=204,_="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,g=200,_="OK"),h&&this.shouldThrowOnError)throw new o3.default(h)}return{error:h,data:p,count:m,status:g,statusText:_}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,c,u;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=a==null?void 0:a.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Km.default=l3;var c3=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zm,"__esModule",{value:!0});const d3=c3(Km);let u3=class extends d3.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zm.default=u3;var h3=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const f3=h3(Zm);let m3=class extends f3.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Tu.default=m3;var p3=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qm,"__esModule",{value:!0});const Gc=p3(Tu);let g3=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Gc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const u=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Gc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Gc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Gc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qm.default=g3;var Qm={},Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.version=void 0;Ym.version="0.0.0-automated";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.DEFAULT_HEADERS=void 0;const v3=Ym;Qm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${v3.version}`};var R2=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v0,"__esModule",{value:!0});const x3=R2(qm),y3=R2(Tu),_3=Qm;let w3=class A2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},_3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new x3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new A2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(l="POST",u=r);const h=Object.assign({},this.headers);return a&&(h.Prefer=`count=${a}`),new y3.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};v0.default=w3;var Nc=kn&&kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const M2=Nc(v0);ln.PostgrestClient=M2.default;const O2=Nc(qm);ln.PostgrestQueryBuilder=O2.default;const L2=Nc(Tu);ln.PostgrestFilterBuilder=L2.default;const I2=Nc(Zm);ln.PostgrestTransformBuilder=I2.default;const D2=Nc(Km);ln.PostgrestBuilder=D2.default;const F2=Nc(Gm);ln.PostgrestError=F2.default;var b3=ln.default={PostgrestClient:M2.default,PostgrestQueryBuilder:O2.default,PostgrestFilterBuilder:L2.default,PostgrestTransformBuilder:I2.default,PostgrestBuilder:D2.default,PostgrestError:F2.default};const{PostgrestClient:j3,PostgrestQueryBuilder:lH,PostgrestFilterBuilder:cH,PostgrestTransformBuilder:dH,PostgrestBuilder:uH,PostgrestError:hH}=b3,N3="2.11.2",S3={"X-Client-Info":`realtime-js/${N3}`},C3="1.0.0",$2=1e4,k3=1e3;var Pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pl||(Pl={}));var vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vn||(vn={}));var as;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(as||(as={}));var yx;(function(e){e.websocket="websocket"})(yx||(yx={}));var Ha;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ha||(Ha={}));class P3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:u,payload:h}}}class z2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var St;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(St||(St={}));const cj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=E3(l,e,t,i),a),{})},E3=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?B2(a,l):_x(l)},B2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return M3(t,r)}switch(e){case St.bool:return T3(t);case St.float4:case St.float8:case St.int2:case St.int4:case St.int8:case St.numeric:case St.oid:return R3(t);case St.json:case St.jsonb:return A3(t);case St.timestamp:return O3(t);case St.abstime:case St.date:case St.daterange:case St.int4range:case St.int8range:case St.money:case St.reltime:case St.text:case St.time:case St.timestamptz:case St.timetz:case St.tsrange:case St.tstzrange:return _x(t);default:return _x(t)}},_x=e=>e,T3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},R3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},M3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>B2(t,c))}return e},O3=e=>typeof e=="string"?e.replace(" ","T"):e,U2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rg{constructor(t,r,n={},i=$2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dj||(dj={}));class wd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wd.syncState(this.state,i,a,l),this.pendingDiffs.forEach(u=>{this.state=wd.syncDiff(this.state,u,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wd.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),c={},u={};return this.map(a,(h,p)=>{l[h]||(u[h]=p)}),this.map(l,(h,p)=>{const m=a[h];if(m){const g=p.map(S=>S.presence_ref),_=m.map(S=>S.presence_ref),N=p.filter(S=>_.indexOf(S.presence_ref)<0),x=m.filter(S=>g.indexOf(S.presence_ref)<0);N.length>0&&(c[h]=N),x.length>0&&(u[h]=x)}else c[h]=p}),this.syncDiff(a,{joins:c,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var h;const p=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(u),p.length>0){const m=t[c].map(_=>_.presence_ref),g=p.filter(_=>m.indexOf(_.presence_ref)<0);t[c].unshift(...g)}n(c,p,u)}),this.map(l,(c,u)=>{let h=t[c];if(!h)return;const p=u.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=h,i(c,h,u),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uj||(uj={}));var hj;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hj||(hj={}));var ai;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ai||(ai={}));class x0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rg(this,as.join,this.params,this.timeout),this.rejoinTimer=new z2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(as.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new wd(this),this.broadcastEndpointURL=U2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(p=>t==null?void 0:t(ai.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ai.CLOSED));const u={},h={broadcast:a,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(ai.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,N=[];for(let x=0;x<_;x++){const S=g[x],{filter:{event:w,schema:b,table:j,filter:k}}=S,T=p&&p[x];if(T&&T.event===w&&T.schema===b&&T.table===j&&T.filter===k)N.push(Object.assign(Object.assign({},S),{id:T.id}));else{this.unsubscribe(),t==null||t(ai.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(ai.SUBSCRIBED);return}}).receive("error",p=>{t==null||t(ai.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ai.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,u;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(as.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Rg(this,as.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rg(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:u,leave:h,join:p}=as;if(n&&[c,u,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var N,x,S;return((N=_.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(x=_.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(_=>_.callback(g,n)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var N,x,S,w,b,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const k=_.id,T=(N=_.filter)===null||N===void 0?void 0:N.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const k=(b=(w=_==null?void 0:_.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return k==="*"||k===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof g=="object"&&"ids"in g){const N=g.data,{schema:x,table:S,commit_timestamp:w,type:b,errors:j}=N;g=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:w,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(N))}_.callback(g,n)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&x0.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(as.close,{},t)}_onError(t){this._on(as.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cj(t.columns,t.old_record)),r}}const L3=()=>{},I3=typeof WebSocket<"u",D3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F3{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=S3,this.params={},this.timeout=$2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=L3,this.conn=null,this.sendBuffer=[],this.serializer=new P3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>nc(async()=>{const{default:u}=await Promise.resolve().then(()=>jc);return{default:u}},void 0).then(({default:u})=>u(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${yx.websocket}`,this.httpEndpoint=U2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new z2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(I3){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $3(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),nc(async()=>{const{default:t}=await import("./browser-D1Qe4oeW.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C3}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return Ha.Connecting;case Pl.open:return Ha.Open;case Pl.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}channel(t,r={config:{}}){const n=new x0(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(as.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(k3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:l}=r;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(as.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([D3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $3{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class y0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class z3 extends y0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wx extends y0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var B3=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};const V2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nc(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},U3=()=>B3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nc(()=>Promise.resolve().then(()=>jc),void 0)).Response:Response}),bx=e=>{if(Array.isArray(e))return e.map(r=>bx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=bx(n)}),t};var Mo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};const Ag=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V3=(e,t,r)=>Mo(void 0,void 0,void 0,function*(){const n=yield U3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new z3(Ag(i),e.status||500))}).catch(i=>{t(new wx(Ag(i),i))}):t(new wx(Ag(e),e))}),W3=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Ru(e,t,r,n,i,a){return Mo(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,W3(t,n,i,a)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>V3(u,c,n))})})}function Zf(e,t,r,n){return Mo(this,void 0,void 0,function*(){return Ru(e,"GET",t,r,n)})}function Ui(e,t,r,n,i){return Mo(this,void 0,void 0,function*(){return Ru(e,"POST",t,n,i,r)})}function H3(e,t,r,n,i){return Mo(this,void 0,void 0,function*(){return Ru(e,"PUT",t,n,i,r)})}function q3(e,t,r,n){return Mo(this,void 0,void 0,function*(){return Ru(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function W2(e,t,r,n,i){return Mo(this,void 0,void 0,function*(){return Ru(e,"DELETE",t,n,i,r)})}var en=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};const Z3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K3{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=V2(i)}uploadOrUpdate(t,r,n,i){return en(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},fj),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),u&&a.append("metadata",this.encodeMetadata(u))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),g=yield m.json();return m.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return en(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:fj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:p}),g=yield m.json();return m.ok?{data:{path:a,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(cr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return en(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ui(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new y0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return en(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return en(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ui(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return en(this,void 0,void 0,function*(){try{const i=yield Ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}download(t,r){return en(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Zf(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(cr(c))return{data:null,error:c};throw c}})}info(t){return en(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bx(n),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}exists(t){return en(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield q3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(cr(n)&&n instanceof wx){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return en(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return en(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Z3),r),{prefix:t||""});return{data:yield Ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const G3="2.7.1",Q3={"X-Client-Info":`storage-js/${G3}`};var Go=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};class Y3{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Q3),r),this.fetch=V2(n)}listBuckets(){return Go(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}getBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Go(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Go(this,void 0,void 0,function*(){try{return{data:yield H3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}}class X3 extends Y3{constructor(t,r={},n){super(t,r,n)}from(t){return new K3(this.url,this.headers,t,this.fetch)}}const J3="2.49.8";let ad="";typeof Deno<"u"?ad="deno":typeof document<"u"?ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ad="react-native":ad="node";const e6={"X-Client-Info":`supabase-js-${ad}/${J3}`},t6={headers:e6},r6={schema:"public"},n6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s6={};var i6=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};const a6=e=>{let t;return e?t=e:typeof fetch>"u"?t=P2:t=fetch,(...r)=>t(...r)},o6=()=>typeof Headers>"u"?E2:Headers,l6=(e,t,r)=>{const n=a6(r),i=o6();return(a,l)=>i6(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(a,Object.assign(Object.assign({},l),{headers:h}))})};var c6=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};function d6(e){return e.endsWith("/")?e:e+"/"}function u6(e,t){var r,n;const{db:i,auth:a,realtime:l,global:c}=e,{db:u,auth:h,realtime:p,global:m}=t,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>c6(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const H2="2.69.1",nl=30*1e3,jx=3,Mg=jx*nl,h6="http://localhost:9999",f6="supabase.auth.token",m6={"X-Client-Info":`gotrue-js/${H2}`},Nx="X-Supabase-Api-Version",q2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g6=6e5;class _0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class v6 extends _0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function x6(e){return Ye(e)&&e.name==="AuthApiError"}class Z2 extends _0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Aa extends _0{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Di extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y6(e){return Ye(e)&&e.name==="AuthSessionMissingError"}class Og extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ah extends Aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mh extends Aa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _6(e){return Ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class mj extends Aa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sx extends Aa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lg(e){return Ye(e)&&e.name==="AuthRetryableFetchError"}class pj extends Aa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bd extends Aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vj=` 	
\r=`.split(""),w6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vj.length;t+=1)e[vj[t].charCodeAt(0)]=-2;for(let t=0;t<gj.length;t+=1)e[gj[t].charCodeAt(0)]=t;return e})();function K2(e,t,r){const n=w6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xj(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{N6(l,n,r)};for(let l=0;l<e.length;l+=1)K2(e.charCodeAt(l),i,a);return t.join("")}function b6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function j6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}b6(n,t)}}function N6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function S6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)K2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function C6(e){const t=[];return j6(e,r=>t.push(r)),new Uint8Array(t)}function k6(e){return Math.round(Date.now()/1e3)+e}function P6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},jd=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function E6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const G2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nc(async()=>{const{default:n}=await Promise.resolve().then(()=>jc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},T6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Q2=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Oh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lh=async(e,t)=>{await e.removeItem(t)};class Xm{constructor(){this.promise=new Xm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xm.promiseConstructor=Promise;function Ig(e){const t=e.split(".");if(t.length!==3)throw new bd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!p6.test(t[n]))throw new bd("JWT not in base64url format");return{header:JSON.parse(xj(t[0])),payload:JSON.parse(xj(t[1])),signature:S6(t[2]),raw:{header:t[0],payload:t[1]}}}async function R6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A6(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function M6(e){return("0"+e.toString(16)).substr(-2)}function O6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,M6).join("")}async function L6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function I6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await L6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qo(e,t,r=!1){const n=O6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Q2(e,`${t}-code-verifier`,i);const a=await I6(n);return[a,n===a?"plain":"s256"]}const D6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F6(e){const t=e.headers.get(Nx);if(!t||!t.match(D6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function z6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var B6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U6=[502,503,504];async function yj(e){var t;if(!T6(e))throw new Sx(Va(e),0);if(U6.includes(e.status))throw new Sx(Va(e),e.status);let r;try{r=await e.json()}catch(a){throw new Z2(Va(a),a)}let n;const i=F6(e);if(i&&i.getTime()>=q2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pj(Va(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Di}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new pj(Va(r),e.status,r.weak_password.reasons);throw new v6(Va(r),e.status||500,n)}const V6=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function it(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Nx]||(a[Nx]=q2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await W6(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function W6(e,t,r,n,i,a){const l=V6(t,n,i,a);let c;try{c=await e(r,Object.assign({},l))}catch(u){throw console.error(u),new Sx(Va(u),0)}if(c.ok||await yj(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(u){await yj(u)}}function Fi(e){var t;let r=null;K6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=k6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _j(e){const t=Fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function H6(e){return{data:e,error:null}}function q6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=B6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function Z6(e){return e}function K6(e){return e.access_token&&e.refresh_token&&e.expires_in}var G6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Q6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=G2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=G6(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:q6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hi})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,c,u;try{const h={nextPage:null,lastPage:0,total:0},p=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Z6});if(p.error)throw p.error;const m=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(u=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return _.length>0&&(_.forEach(N=>{const x=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ye(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hi})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}const Y6={getItem:e=>jd()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{jd()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{jd()&&globalThis.localStorage.removeItem(e)}};function wj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function X6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yo={debug:!!(globalThis&&jd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class J6 extends Y2{}async function e$(e,t,r){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new J6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X6();const t$={url:h6,storageKey:f6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bj(e,t,r){return await r()}class Yd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yd.nextInstanceID,Yd.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},t$),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Q6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=G2(i.fetch),this.lock=i.lock||bj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ps()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e$:this.lock=bj,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:jd()?this.storage=Y6:(this.memoryStorage={},this.storage=wj(this.memoryStorage)):(this.memoryStorage={},this.storage=wj(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=E6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ps()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_6(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ye(r)?{error:r}:{error:new Z2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fi}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:p,password:m,options:g}=t;let _=null,N=null;this.flowType==="pkce"&&([_,N]=await Qo(this.storage,this.storageKey)),a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:p,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:_,code_challenge_method:N},xform:Fi})}else if("phone"in t){const{phone:p,password:m,options:g}=t;a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Fi})}else throw new Ah("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_j})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_j})}else throw new Ah("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Og}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Oh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fi});if(await Lh(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Og}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(Ye(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,c=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fi}),{data:u,error:h}=c;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Og}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:c,options:u}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Qo(this.storage,this.storageKey));const{error:m}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:u}=t,{data:h,error:p}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Ah("You must provide either an email or phone number.")}catch(c){if(Ye(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fi});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,h=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(i){if(Ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Qo(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:H6})}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Di;const{error:i}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:c}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Ah("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Oh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,h,p))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hi}):await this._useSession(async r=>{var n,i,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hi})})}catch(r){if(Ye(r))return y6(r)&&(await this._removeSession(),await Lh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Di;const l=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Qo(this.storage,this.storageKey));const{data:h,error:p}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Hi});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=Ig(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Di;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ps())throw new Mh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mj("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:u,token_type:h}=t;if(!a||!c||!l||!h)throw new Mh("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let g=p+m;u&&(g=parseInt(u));const _=g-p;_*1e3<=nl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const N=g-m;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,g,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,g,p);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:l,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(Ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Oh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(x6(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Lh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=P6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Qo(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,c,u,h,p;const{data:m,error:g}=a;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Ps()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ye(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await A6(async i=>(i>0&&await R6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fi})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Lg(a)&&Date.now()+l-n<nl})}catch(n){if(this._debug(r,"error",n),Ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ps()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Oh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Mg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Mg}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Lg(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xm;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Di;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ye(a)){const l={session:null,error:a};return Lg(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(u){a.push(u)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Q2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nl}ms, refresh threshold is ${jx} ticks`),i<=jx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Y2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Qo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:h}=await it(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ig(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+g6>Date.now()))return n;const{data:i,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new bd("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(l=>l.kid===t),!n)throw new bd("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:_,error:N}=await this.getSession();if(N||!_.session)return{data:null,error:N};n=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:u}}=Ig(n);if($6(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const h=z6(i.alg),p=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,C6(`${c}.${u}`)))throw new bd("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}}Yd.nextInstanceID=0;const r$=Yd;class n$ extends r${constructor(t){super(t)}}var s$=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(p){try{h(n.next(p))}catch(m){l(m)}}function u(p){try{h(n.throw(p))}catch(m){l(m)}}function h(p){p.done?a(p.value):i(p.value).then(c,u)}h((n=n.apply(e,t||[])).next())})};class i${constructor(t,r,n){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=d6(t),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:r6,realtime:s6,auth:Object.assign(Object.assign({},n6),{storageKey:h}),global:t6},m=u6(n??{},p);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=l6(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new j3(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new J5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X3(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return s$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:c,debug:u},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n$({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new F3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const a$=(e,t,r)=>new i$(e,t,r),o$="https://jdkocduogrvcoxxdgrkl.supabase.co",l$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impka29jZHVvZ3J2Y294eGRncmtsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3MDY5MjMsImV4cCI6MjA2NDI4MjkyM30.sZKvPCTdx2h0p92Jhp8DDjdbAL6rhZ75fO49z8N8sFw",ye=a$(o$,l$),X2=v.createContext(void 0),c$=({children:e})=>{const[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,l]=v.useState(!1),c=async()=>{if(!t)return!1;try{const{data:_,error:N}=await ye.from("profiles").select("role").eq("id",t.id).single();if(N)return console.error("Error checking admin role:",N),!1;const x=(_==null?void 0:_.role)==="admin";return l(x),x}catch(_){return console.error("Error in checkAdminRole:",_),!1}};v.useEffect(()=>{ye.auth.getSession().then(({data:{session:N}})=>{r((N==null?void 0:N.user)??null),i(!1)});const{data:{subscription:_}}=ye.auth.onAuthStateChange(async(N,x)=>{r((x==null?void 0:x.user)??null),x!=null&&x.user?await c():l(!1),i(!1)});return()=>_.unsubscribe()},[]),v.useEffect(()=>{t?c():l(!1)},[t]);const g={user:t,loading:n,isAdmin:a,signUp:async(_,N,x)=>{const{error:S}=await ye.auth.signUp({email:_,password:N,options:{data:{first_name:x.firstName,last_name:x.lastName}}});if(S)throw S},signIn:async(_,N)=>{const{error:x}=await ye.auth.signInWithPassword({email:_,password:N});if(x)throw x},signInAdmin:async(_,N)=>{var w;const{error:x}=await ye.auth.signInWithPassword({email:_,password:N});if(x)throw x;const{data:S}=await ye.auth.getSession();if((w=S==null?void 0:S.session)!=null&&w.user){const{data:b,error:j}=await ye.from("profiles").select("role").eq("id",S.session.user.id).single();if(j||(b==null?void 0:b.role)!=="admin")throw await ye.auth.signOut(),new Error("Access denied. Admin privileges required.")}},signOut:async()=>{const{error:_}=await ye.auth.signOut();if(_)throw _;l(!1)},checkAdminRole:c};return s.jsx(X2.Provider,{value:g,children:e})},kr=()=>{const e=v.useContext(X2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},J2=v.createContext(void 0),ek="seabites_cart",d$=()=>{try{if(typeof window<"u"){const e=localStorage.getItem(ek);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}}catch(e){console.error("Error loading cart from localStorage:",e)}return[]},u$=e=>{try{typeof window<"u"&&localStorage.setItem(ek,JSON.stringify(e))}catch(t){console.error("Error saving cart to localStorage:",t)}},h$=({children:e})=>{const[t,r]=v.useState([]),[n,i]=v.useState(!1),{toast:a}=fn();v.useEffect(()=>{const _=d$();r(_),i(!0)},[]),v.useEffect(()=>{n&&u$(t)},[t,n]);const l=_=>{r(N=>N.find(S=>S.id===_.id)?N.map(S=>S.id===_.id?{...S,quantity:S.quantity+1}:S):[...N,{..._,quantity:1}]),a({title:"Added to cart",description:`${_.name} has been added to your cart.`})},c=_=>{r(N=>N.filter(x=>x.id!==_)),a({title:"Item removed",description:"Item has been removed from your cart."})},g={cartItems:t,addToCart:l,removeFromCart:c,updateQuantity:(_,N)=>{if(N===0){c(_);return}r(x=>x.map(S=>S.id===_?{...S,quantity:N}:S))},clearCart:()=>{r([]),a({title:"Cart cleared",description:"All items have been removed from your cart."})},getTotalItems:()=>t.reduce((_,N)=>_+N.quantity,0),getTotalPrice:()=>t.reduce((_,N)=>_+N.price*N.quantity,0)};return s.jsx(J2.Provider,{value:g,children:e})},Sc=()=>{const e=v.useContext(J2);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},tk=v.createContext(void 0),f$=({children:e})=>{const[t,r]=v.useState([]);v.useEffect(()=>{const g=localStorage.getItem("seabites-favorites");if(g)try{const _=JSON.parse(g);r(_)}catch(_){console.error("Error loading favorites from localStorage:",_)}},[]),v.useEffect(()=>{localStorage.setItem("seabites-favorites",JSON.stringify(t))},[t]);const n=t.map(g=>g.id),i=g=>{r(_=>_.find(x=>x.id===g.id)?_:[..._,g])},a=g=>{r(_=>_.filter(N=>N.id!==g))},m={favorites:t,favoriteIds:n,addToFavorites:i,removeFromFavorites:a,toggleFavorite:g=>{t.some(N=>N.id===g.id)?a(g.id):i(g)},isFavorite:g=>n.includes(g),getFavoritesByCategory:g=>!g||g==="all"?t:t.filter(_=>{var N;return((N=_.category)==null?void 0:N.toLowerCase())===g.toLowerCase()}),getUniqueCategories:()=>{const g=t.map(_=>_.category).filter(Boolean);return[...new Set(g)]},clearFavorites:()=>{r([])}};return s.jsx(tk.Provider,{value:m,children:e})},Au=()=>{const e=v.useContext(tk);if(e===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return e},w0=mc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const l=n?yi:"button";return s.jsx(l,{className:ce(w0({variant:t,size:r,className:e})),ref:a,...i})});B.displayName="Button";const m$=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-red-500 to-pink-500 flex flex-col items-center justify-center px-6 text-white",children:s.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-24 h-24 mx-auto bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:s.jsx(Rb,{size:48,className:"text-white"})}),s.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Seabites"}),s.jsx("p",{className:"text-xl text-white/90 max-w-md mx-auto",children:"Delicious food & essentials delivered to your doorstep in minutes"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-sm mx-auto",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Rb,{size:24})}),s.jsx("p",{className:"text-sm text-white/80",children:"Fresh Food"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(er,{size:24})}),s.jsx("p",{className:"text-sm text-white/80",children:"Groceries"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(ec,{size:24})}),s.jsx("p",{className:"text-sm text-white/80",children:"Fast Delivery"})]})]}),s.jsxs("div",{className:"space-y-4 max-w-sm mx-auto",children:[s.jsx(ft,{to:"/signup",children:s.jsxs(B,{className:"w-full bg-white text-orange-500 hover:bg-gray-100 font-semibold py-3 rounded-xl shadow-lg transition-all duration-200 hover:scale-105",children:["Get Started",s.jsx(lC,{className:"ml-2 h-5 w-5"})]})}),s.jsx(ft,{to:"/login",children:s.jsx(B,{variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/10 font-semibold py-3 rounded-xl mb-2",children:"Sign In"})}),s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/10 font-semibold py-3 rounded-xl",children:"Continue as Guest"})})]})]})}),Te=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Te.displayName="Input";var p$="Label",rk=v.forwardRef((e,t)=>s.jsx(Oe.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rk.displayName=p$;var nk=rk;const g$=mc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=v.forwardRef(({className:e,...t},r)=>s.jsx(nk,{ref:r,className:ce(g$(),e),...t}));be.displayName=nk.displayName;const re=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const qe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));qe.displayName="CardHeader";const Ze=v.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const v$=v.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));v$.displayName="CardDescription";const ne=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ce("p-6 pt-0",e),...t}));ne.displayName="CardContent";const x$=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ce("flex items-center p-6 pt-0",e),...t}));x$.displayName="CardFooter";const y$=()=>{const e=Ao(),{toast:t}=fn(),{signUp:r}=kr(),[n,i]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState({firstName:"",lastName:"",email:"",phone:"",password:""}),h=m=>{u({...c,[m.target.name]:m.target.value})},p=async m=>{m.preventDefault(),l(!0);try{await r(c.email,c.password,{firstName:c.firstName,lastName:c.lastName}),t({title:"Account created successfully!",description:"Please check your email to verify your account."}),e("/welcome")}catch(g){t({title:"Sign up failed",description:g.message||"Please check your information and try again.",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ft,{to:"/",className:"mr-4",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Account"})]}),s.jsxs(re,{className:"shadow-lg border-0",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx(Ze,{className:"text-xl text-gray-800",children:"Join Seabites"}),s.jsx("p",{className:"text-gray-600",children:"Enter your details to get started"})]}),s.jsxs(ne,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"firstName",children:"First Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"firstName",name:"firstName",value:c.firstName,onChange:h,placeholder:"John",className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"lastName",children:"Last Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"lastName",name:"lastName",value:c.lastName,onChange:h,placeholder:"Doe",className:"pl-10",required:!0})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"email",name:"email",type:"email",value:c.email,onChange:h,placeholder:"john@example.com",className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(xC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"phone",name:"phone",type:"tel",value:c.phone,onChange:h,placeholder:"+91 98765 43210",className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"password",name:"password",type:n?"text":"password",value:c.password,onChange:h,placeholder:"Create a strong password",className:"pl-10 pr-10",required:!0,minLength:6}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!n),children:n?s.jsx(pc,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 6 characters long"})]}),s.jsx(B,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg",disabled:a,children:a?"Creating Account...":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(ft,{to:"/login",className:"text-orange-500 hover:text-orange-600 font-medium",children:"Sign in"})]})})]})]})]})})};function jj(e,[t,r]){return Math.min(r,Math.max(t,e))}var _$=v.createContext(void 0);function Jm(e){const t=v.useContext(_$);return e||t||"ltr"}var Dg=0;function b0(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Nj()),document.body.insertAdjacentElement("beforeend",e[1]??Nj()),Dg++,()=>{Dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dg--}},[])}function Nj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fg="focusScope.autoFocusOnMount",$g="focusScope.autoFocusOnUnmount",Sj={bubbles:!1,cancelable:!0},w$="FocusScope",ep=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[c,u]=v.useState(null),h=Cr(i),p=Cr(a),m=v.useRef(null),g=ot(t,x=>u(x)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let x=function(j){if(_.paused||!c)return;const k=j.target;c.contains(k)?m.current=k:$i(m.current,{select:!0})},S=function(j){if(_.paused||!c)return;const k=j.relatedTarget;k!==null&&(c.contains(k)||$i(m.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&$i(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const b=new MutationObserver(w);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),b.disconnect()}}},[n,c,_.paused]),v.useEffect(()=>{if(c){kj.add(_);const x=document.activeElement;if(!c.contains(x)){const w=new CustomEvent(Fg,Sj);c.addEventListener(Fg,h),c.dispatchEvent(w),w.defaultPrevented||(b$(k$(sk(c)),{select:!0}),document.activeElement===x&&$i(c))}return()=>{c.removeEventListener(Fg,h),setTimeout(()=>{const w=new CustomEvent($g,Sj);c.addEventListener($g,p),c.dispatchEvent(w),w.defaultPrevented||$i(x??document.body,{select:!0}),c.removeEventListener($g,p),kj.remove(_)},0)}}},[c,h,p,_]);const N=v.useCallback(x=>{if(!r&&!n||_.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(S&&w){const b=x.currentTarget,[j,k]=j$(b);j&&k?!x.shiftKey&&w===k?(x.preventDefault(),r&&$i(j,{select:!0})):x.shiftKey&&w===j&&(x.preventDefault(),r&&$i(k,{select:!0})):w===b&&x.preventDefault()}},[r,n,_.paused]);return s.jsx(Oe.div,{tabIndex:-1,...l,ref:g,onKeyDown:N})});ep.displayName=w$;function b$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($i(n,{select:t}),document.activeElement!==r)return}function j$(e){const t=sk(e),r=Cj(t,e),n=Cj(t.reverse(),e);return[r,n]}function sk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cj(e,t){for(const r of e)if(!N$(r,{upTo:t}))return r}function N$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S$(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&S$(e)&&t&&e.select()}}var kj=C$();function C$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Pj(e,t),e.unshift(t)},remove(t){var r;e=Pj(e,t),(r=e[0])==null||r.resume()}}}function Pj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function k$(e){return e.filter(t=>t.tagName!=="A")}function j0(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var P$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xo=new WeakMap,Ih=new WeakMap,Dh={},zg=0,ik=function(e){return e&&(e.host||ik(e.parentNode))},E$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ik(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},T$=function(e,t,r,n){var i=E$(t,Array.isArray(e)?e:[e]);Dh[r]||(Dh[r]=new WeakMap);var a=Dh[r],l=[],c=new Set,u=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))p(g);else try{var _=g.getAttribute(n),N=_!==null&&_!=="false",x=(Xo.get(g)||0)+1,S=(a.get(g)||0)+1;Xo.set(g,x),a.set(g,S),l.push(g),x===1&&N&&Ih.set(g,!0),S===1&&g.setAttribute(r,"true"),N||g.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return p(t),c.clear(),zg++,function(){l.forEach(function(m){var g=Xo.get(m)-1,_=a.get(m)-1;Xo.set(m,g),a.set(m,_),g||(Ih.has(m)||m.removeAttribute(n),Ih.delete(m)),_||m.removeAttribute(r)}),zg--,zg||(Xo=new WeakMap,Xo=new WeakMap,Ih=new WeakMap,Dh={})}},N0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=P$(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),T$(n,i,r,"aria-hidden")):function(){return null}},Ls=function(){return Ls=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ls.apply(this,arguments)};function ak(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function R$(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var sf="right-scroll-bar-position",af="width-before-scroll-bar",A$="with-scroll-bars-hidden",M$="--removed-body-scroll-bar-size";function Bg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O$(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var L$=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ej=new WeakMap;function I$(e,t){var r=O$(null,function(n){return e.forEach(function(i){return Bg(i,n)})});return L$(function(){var n=Ej.get(r);if(n){var i=new Set(n),a=new Set(e),l=r.current;i.forEach(function(c){a.has(c)||Bg(c,null)}),a.forEach(function(c){i.has(c)||Bg(c,l)})}Ej.set(r,e)},[e]),r}function D$(e){return e}function F$(e,t){t===void 0&&(t=D$);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(a),l=r}var u=function(){var p=l;l=[],p.forEach(a)},h=function(){return Promise.resolve().then(u)};h(),r={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),r}}}};return i}function $$(e){e===void 0&&(e={});var t=F$(null);return t.options=Ls({async:!0,ssr:!1},e),t}var ok=function(e){var t=e.sideCar,r=ak(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ls({},r))};ok.isSideCarExport=!0;function z$(e,t){return e.useMedium(t),ok}var lk=$$(),Ug=function(){},tp=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Ug,onWheelCapture:Ug,onTouchMoveCapture:Ug}),i=n[0],a=n[1],l=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,_=e.noIsolation,N=e.inert,x=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,b=e.gapMode,j=ak(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,T=I$([r,t]),I=Ls(Ls({},j),i);return v.createElement(v.Fragment,null,p&&v.createElement(k,{sideCar:lk,removeScrollBar:h,shards:m,noIsolation:_,inert:N,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:b}),l?v.cloneElement(v.Children.only(c),Ls(Ls({},I),{ref:T})):v.createElement(w,Ls({},I,{className:u,ref:T}),c))});tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tp.classNames={fullWidth:af,zeroRight:sf};var B$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=B$();return t&&e.setAttribute("nonce",t),e}function V$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function W$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var H$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=U$())&&(V$(t,r),W$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},q$=function(){var e=H$();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ck=function(){var e=q$(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Z$={left:0,top:0,right:0,gap:0},Vg=function(e){return parseInt(e||"",10)||0},K$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Vg(r),Vg(n),Vg(i)]},G$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Z$;var t=K$(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Q$=ck(),El="data-scroll-locked",Y$=function(e,t,r,n){var i=e.left,a=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(A$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(El,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(af,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(af," .").concat(af,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(El,`] {
    `).concat(M$,": ").concat(c,`px;
  }
`)},Tj=function(){var e=parseInt(document.body.getAttribute(El)||"0",10);return isFinite(e)?e:0},X$=function(){v.useEffect(function(){return document.body.setAttribute(El,(Tj()+1).toString()),function(){var e=Tj()-1;e<=0?document.body.removeAttribute(El):document.body.setAttribute(El,e.toString())}},[])},J$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;X$();var a=v.useMemo(function(){return G$(i)},[i]);return v.createElement(Q$,{styles:Y$(a,!t,i,r?"":"!important")})},Cx=!1;if(typeof window<"u")try{var Fh=Object.defineProperty({},"passive",{get:function(){return Cx=!0,!0}});window.addEventListener("test",Fh,Fh),window.removeEventListener("test",Fh,Fh)}catch{Cx=!1}var Jo=Cx?{passive:!1}:!1,ez=function(e){return e.tagName==="TEXTAREA"},dk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ez(e)&&r[t]==="visible")},tz=function(e){return dk(e,"overflowY")},rz=function(e){return dk(e,"overflowX")},Rj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=uk(e,n);if(i){var a=hk(e,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nz=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},sz=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},uk=function(e,t){return e==="v"?tz(t):rz(t)},hk=function(e,t){return e==="v"?nz(t):sz(t)},iz=function(e,t){return e==="h"&&t==="rtl"?-1:1},az=function(e,t,r,n,i){var a=iz(e,window.getComputedStyle(t).direction),l=a*n,c=r.target,u=t.contains(c),h=!1,p=l>0,m=0,g=0;do{var _=hk(e,c),N=_[0],x=_[1],S=_[2],w=x-S-a*N;(N||w)&&uk(e,c)&&(m+=w,g+=N),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(p&&(Math.abs(m)<1||!i)||!p&&(Math.abs(g)<1||!i))&&(h=!0),h},$h=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Aj=function(e){return[e.deltaX,e.deltaY]},Mj=function(e){return e&&"current"in e?e.current:e},oz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cz=0,el=[];function dz(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),i=v.useState(cz++)[0],a=v.useState(ck)[0],l=v.useRef(e);v.useEffect(function(){l.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=R$([e.lockRef.current],(e.shards||[]).map(Mj),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var w=$h(x),b=r.current,j="deltaX"in x?x.deltaX:b[0]-w[0],k="deltaY"in x?x.deltaY:b[1]-w[1],T,I=x.target,M=Math.abs(j)>Math.abs(k)?"h":"v";if("touches"in x&&M==="h"&&I.type==="range")return!1;var R=Rj(M,I);if(!R)return!0;if(R?T=M:(T=M==="v"?"h":"v",R=Rj(M,I)),!R)return!1;if(!n.current&&"changedTouches"in x&&(j||k)&&(n.current=T),!T)return!0;var O=n.current||T;return az(O,S,x,O==="h"?j:k,!0)},[]),u=v.useCallback(function(x){var S=x;if(!(!el.length||el[el.length-1]!==a)){var w="deltaY"in S?Aj(S):$h(S),b=t.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&oz(T.delta,w)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var j=(l.current.shards||[]).map(Mj).filter(Boolean).filter(function(T){return T.contains(S.target)}),k=j.length>0?c(S,j[0]):!l.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),h=v.useCallback(function(x,S,w,b){var j={name:x,delta:S,target:w,should:b,shadowParent:uz(w)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(k){return k!==j})},1)},[]),p=v.useCallback(function(x){r.current=$h(x),n.current=void 0},[]),m=v.useCallback(function(x){h(x.type,Aj(x),x.target,c(x,e.lockRef.current))},[]),g=v.useCallback(function(x){h(x.type,$h(x),x.target,c(x,e.lockRef.current))},[]);v.useEffect(function(){return el.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Jo),document.addEventListener("touchmove",u,Jo),document.addEventListener("touchstart",p,Jo),function(){el=el.filter(function(x){return x!==a}),document.removeEventListener("wheel",u,Jo),document.removeEventListener("touchmove",u,Jo),document.removeEventListener("touchstart",p,Jo)}},[]);var _=e.removeScrollBar,N=e.inert;return v.createElement(v.Fragment,null,N?v.createElement(a,{styles:lz(i)}):null,_?v.createElement(J$,{gapMode:e.gapMode}):null)}function uz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hz=z$(lk,dz);var rp=v.forwardRef(function(e,t){return v.createElement(tp,Ls({},e,{ref:t,sideCar:hz}))});rp.classNames=tp.classNames;var fz=[" ","Enter","ArrowUp","ArrowDown"],mz=[" ","Enter"],Mu="Select",[np,sp,pz]=Am(Mu),[Cc,fH]=ws(Mu,[pz,yc]),ip=yc(),[gz,Ma]=Cc(Mu),[vz,xz]=Cc(Mu),fk=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:u,dir:h,name:p,autoComplete:m,disabled:g,required:_,form:N}=e,x=ip(t),[S,w]=v.useState(null),[b,j]=v.useState(null),[k,T]=v.useState(!1),I=Jm(h),[M=!1,R]=_i({prop:n,defaultProp:i,onChange:a}),[O,z]=_i({prop:l,defaultProp:c,onChange:u}),G=v.useRef(null),U=S?N||!!S.closest("form"):!0,[Z,q]=v.useState(new Set),ie=Array.from(Z).map(K=>K.props.value).join(";");return s.jsx(GC,{...x,children:s.jsxs(gz,{required:_,scope:t,trigger:S,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:zs(),value:O,onValueChange:z,open:M,onOpenChange:R,dir:I,triggerPointerDownPosRef:G,disabled:g,children:[s.jsx(np.Provider,{scope:t,children:s.jsx(vz,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(K=>{q(Q=>new Set(Q).add(K))},[]),onNativeOptionRemove:v.useCallback(K=>{q(Q=>{const E=new Set(Q);return E.delete(K),E})},[]),children:r})}),U?s.jsxs(Fk,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:m,value:O,onChange:K=>z(K.target.value),disabled:g,form:N,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(Z)]},ie):null]})})};fk.displayName=Mu;var mk="SelectTrigger",pk=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=ip(r),l=Ma(mk,r),c=l.disabled||n,u=ot(t,l.onTriggerChange),h=sp(r),p=v.useRef("touch"),[m,g,_]=$k(x=>{const S=h().filter(j=>!j.disabled),w=S.find(j=>j.value===l.value),b=zk(S,x,w);b!==void 0&&l.onValueChange(b.value)}),N=x=>{c||(l.onOpenChange(!0),_()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(s0,{asChild:!0,...a,children:s.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Dk(l.value)?"":void 0,...i,ref:u,onClick:me(i.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&N(x)}),onPointerDown:me(i.onPointerDown,x=>{p.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(N(x),x.preventDefault())}),onKeyDown:me(i.onKeyDown,x=>{const S=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(S&&x.key===" ")&&fz.includes(x.key)&&(N(),x.preventDefault())})})})});pk.displayName=mk;var gk="SelectValue",vk=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:l="",...c}=e,u=Ma(gk,r),{onValueNodeHasChildrenChange:h}=u,p=a!==void 0,m=ot(t,u.onValueNodeChange);return vr(()=>{h(p)},[h,p]),s.jsx(Oe.span,{...c,ref:m,style:{pointerEvents:"none"},children:Dk(u.value)?s.jsx(s.Fragment,{children:l}):a})});vk.displayName=gk;var yz="SelectIcon",xk=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(Oe.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});xk.displayName=yz;var _z="SelectPortal",yk=e=>s.jsx(Cu,{asChild:!0,...e});yk.displayName=_z;var xo="SelectContent",_k=v.forwardRef((e,t)=>{const r=Ma(xo,e.__scopeSelect),[n,i]=v.useState();if(vr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?To.createPortal(s.jsx(wk,{scope:e.__scopeSelect,children:s.jsx(np.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(bk,{...e,ref:t})});_k.displayName=xo;var rs=10,[wk,Oa]=Cc(xo),wz="SelectContentImpl",bk=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:_,sticky:N,hideWhenDetached:x,avoidCollisions:S,...w}=e,b=Ma(xo,r),[j,k]=v.useState(null),[T,I]=v.useState(null),M=ot(t,ve=>k(ve)),[R,O]=v.useState(null),[z,G]=v.useState(null),U=sp(r),[Z,q]=v.useState(!1),ie=v.useRef(!1);v.useEffect(()=>{if(j)return N0(j)},[j]),b0();const K=v.useCallback(ve=>{const[Fe,...Xe]=U().map(Le=>Le.ref.current),[He]=Xe.slice(-1),rt=document.activeElement;for(const Le of ve)if(Le===rt||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===Fe&&T&&(T.scrollTop=0),Le===He&&T&&(T.scrollTop=T.scrollHeight),Le==null||Le.focus(),document.activeElement!==rt))return},[U,T]),Q=v.useCallback(()=>K([R,j]),[K,R,j]);v.useEffect(()=>{Z&&Q()},[Z,Q]);const{onOpenChange:E,triggerPointerDownPosRef:A}=b;v.useEffect(()=>{if(j){let ve={x:0,y:0};const Fe=He=>{var rt,Le;ve={x:Math.abs(Math.round(He.pageX)-(((rt=A.current)==null?void 0:rt.x)??0)),y:Math.abs(Math.round(He.pageY)-(((Le=A.current)==null?void 0:Le.y)??0))}},Xe=He=>{ve.x<=10&&ve.y<=10?He.preventDefault():j.contains(He.target)||E(!1),document.removeEventListener("pointermove",Fe),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[j,E,A]),v.useEffect(()=>{const ve=()=>E(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[E]);const[W,J]=$k(ve=>{const Fe=U().filter(rt=>!rt.disabled),Xe=Fe.find(rt=>rt.ref.current===document.activeElement),He=zk(Fe,ve,Xe);He&&setTimeout(()=>He.ref.current.focus())}),de=v.useCallback((ve,Fe,Xe)=>{const He=!ie.current&&!Xe;(b.value!==void 0&&b.value===Fe||He)&&(O(ve),He&&(ie.current=!0))},[b.value]),Ne=v.useCallback(()=>j==null?void 0:j.focus(),[j]),ke=v.useCallback((ve,Fe,Xe)=>{const He=!ie.current&&!Xe;(b.value!==void 0&&b.value===Fe||He)&&G(ve)},[b.value]),Pe=n==="popper"?kx:jk,he=Pe===kx?{side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:_,sticky:N,hideWhenDetached:x,avoidCollisions:S}:{};return s.jsx(wk,{scope:r,content:j,viewport:T,onViewportChange:I,itemRefCallback:de,selectedItem:R,onItemLeave:Ne,itemTextRefCallback:ke,focusSelectedItem:Q,selectedItemText:z,position:n,isPositioned:Z,searchRef:W,children:s.jsx(rp,{as:yi,allowPinchZoom:!0,children:s.jsx(ep,{asChild:!0,trapped:b.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:me(i,ve=>{var Fe;(Fe=b.trigger)==null||Fe.focus({preventScroll:!0}),ve.preventDefault()}),children:s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Pe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ve=>ve.preventDefault(),...w,...he,onPlaced:()=>q(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:me(w.onKeyDown,ve=>{const Fe=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Fe&&ve.key.length===1&&J(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let He=U().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const rt=ve.target,Le=He.indexOf(rt);He=He.slice(Le+1)}setTimeout(()=>K(He)),ve.preventDefault()}})})})})})})});bk.displayName=wz;var bz="SelectItemAlignedPosition",jk=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Ma(xo,r),l=Oa(xo,r),[c,u]=v.useState(null),[h,p]=v.useState(null),m=ot(t,M=>p(M)),g=sp(r),_=v.useRef(!1),N=v.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:w,focusSelectedItem:b}=l,j=v.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&x&&S&&w){const M=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),z=w.getBoundingClientRect();if(a.dir!=="rtl"){const rt=z.left-R.left,Le=O.left-rt,kt=M.left-Le,Yt=M.width+kt,Qr=Math.max(Yt,R.width),ar=window.innerWidth-rs,Yr=jj(Le,[rs,Math.max(rs,ar-Qr)]);c.style.minWidth=Yt+"px",c.style.left=Yr+"px"}else{const rt=R.right-z.right,Le=window.innerWidth-O.right-rt,kt=window.innerWidth-M.right-Le,Yt=M.width+kt,Qr=Math.max(Yt,R.width),ar=window.innerWidth-rs,Yr=jj(Le,[rs,Math.max(rs,ar-Qr)]);c.style.minWidth=Yt+"px",c.style.right=Yr+"px"}const G=g(),U=window.innerHeight-rs*2,Z=x.scrollHeight,q=window.getComputedStyle(h),ie=parseInt(q.borderTopWidth,10),K=parseInt(q.paddingTop,10),Q=parseInt(q.borderBottomWidth,10),E=parseInt(q.paddingBottom,10),A=ie+K+Z+E+Q,W=Math.min(S.offsetHeight*5,A),J=window.getComputedStyle(x),de=parseInt(J.paddingTop,10),Ne=parseInt(J.paddingBottom,10),ke=M.top+M.height/2-rs,Pe=U-ke,he=S.offsetHeight/2,ve=S.offsetTop+he,Fe=ie+K+ve,Xe=A-Fe;if(Fe<=ke){const rt=G.length>0&&S===G[G.length-1].ref.current;c.style.bottom="0px";const Le=h.clientHeight-x.offsetTop-x.offsetHeight,kt=Math.max(Pe,he+(rt?Ne:0)+Le+Q),Yt=Fe+kt;c.style.height=Yt+"px"}else{const rt=G.length>0&&S===G[0].ref.current;c.style.top="0px";const kt=Math.max(ke,ie+x.offsetTop+(rt?de:0)+he)+Xe;c.style.height=kt+"px",x.scrollTop=Fe-ke+x.offsetTop}c.style.margin=`${rs}px 0`,c.style.minHeight=W+"px",c.style.maxHeight=U+"px",n==null||n(),requestAnimationFrame(()=>_.current=!0)}},[g,a.trigger,a.valueNode,c,h,x,S,w,a.dir,n]);vr(()=>j(),[j]);const[k,T]=v.useState();vr(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const I=v.useCallback(M=>{M&&N.current===!0&&(j(),b==null||b(),N.current=!1)},[j,b]);return s.jsx(Nz,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:I,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(Oe.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});jk.displayName=bz;var jz="SelectPopperPosition",kx=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=rs,...a}=e,l=ip(r);return s.jsx(i0,{...l,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kx.displayName=jz;var[Nz,S0]=Cc(xo,{}),Px="SelectViewport",Nk=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Oa(Px,r),l=S0(Px,r),c=ot(t,a.onViewportChange),u=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(np.Slot,{scope:r,children:s.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:me(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&m){const _=Math.abs(u.current-p.scrollTop);if(_>0){const N=window.innerHeight-rs*2,x=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),w=Math.max(x,S);if(w<N){const b=w+_,j=Math.min(N,b),k=b-j;m.style.height=j+"px",m.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});Nk.displayName=Px;var Sk="SelectGroup",[Sz,Cz]=Cc(Sk),kz=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=zs();return s.jsx(Sz,{scope:r,id:i,children:s.jsx(Oe.div,{role:"group","aria-labelledby":i,...n,ref:t})})});kz.displayName=Sk;var Ck="SelectLabel",kk=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Cz(Ck,r);return s.jsx(Oe.div,{id:i.id,...n,ref:t})});kk.displayName=Ck;var Kf="SelectItem",[Pz,Pk]=Cc(Kf),Ek=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...l}=e,c=Ma(Kf,r),u=Oa(Kf,r),h=c.value===n,[p,m]=v.useState(a??""),[g,_]=v.useState(!1),N=ot(t,b=>{var j;return(j=u.itemRefCallback)==null?void 0:j.call(u,b,n,i)}),x=zs(),S=v.useRef("touch"),w=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Pz,{scope:r,value:n,disabled:i,textId:x,isSelected:h,onItemTextChange:v.useCallback(b=>{m(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(np.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:s.jsx(Oe.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:N,onFocus:me(l.onFocus,()=>_(!0)),onBlur:me(l.onBlur,()=>_(!1)),onClick:me(l.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:me(l.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:me(l.onPointerDown,b=>{S.current=b.pointerType}),onPointerMove:me(l.onPointerMove,b=>{var j;S.current=b.pointerType,i?(j=u.onItemLeave)==null||j.call(u):S.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(l.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=u.onItemLeave)==null||j.call(u))}),onKeyDown:me(l.onKeyDown,b=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&b.key===" "||(mz.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});Ek.displayName=Kf;var od="SelectItemText",Tk=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,l=Ma(od,r),c=Oa(od,r),u=Pk(od,r),h=xz(od,r),[p,m]=v.useState(null),g=ot(t,w=>m(w),u.onItemTextChange,w=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,w,u.value,u.disabled)}),_=p==null?void 0:p.textContent,N=v.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:_},u.value),[u.disabled,u.value,_]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=h;return vr(()=>(x(N),()=>S(N)),[x,S,N]),s.jsxs(s.Fragment,{children:[s.jsx(Oe.span,{id:u.textId,...a,ref:g}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?To.createPortal(a.children,l.valueNode):null]})});Tk.displayName=od;var Rk="SelectItemIndicator",Ak=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Pk(Rk,r).isSelected?s.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});Ak.displayName=Rk;var Ex="SelectScrollUpButton",Mk=v.forwardRef((e,t)=>{const r=Oa(Ex,e.__scopeSelect),n=S0(Ex,e.__scopeSelect),[i,a]=v.useState(!1),l=ot(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollTop>0;a(h)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?s.jsx(Lk,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Mk.displayName=Ex;var Tx="SelectScrollDownButton",Ok=v.forwardRef((e,t)=>{const r=Oa(Tx,e.__scopeSelect),n=S0(Tx,e.__scopeSelect),[i,a]=v.useState(!1),l=ot(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;a(p)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?s.jsx(Lk,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Ok.displayName=Tx;var Lk=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Oa("SelectScrollButton",r),l=v.useRef(null),c=sp(r),u=v.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),vr(()=>{var p;const h=c().find(m=>m.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),s.jsx(Oe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:me(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:me(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:me(i.onPointerLeave,()=>{u()})})}),Ez="SelectSeparator",Ik=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});Ik.displayName=Ez;var Rx="SelectArrow",Tz=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ip(r),a=Ma(Rx,r),l=Oa(Rx,r);return a.open&&l.position==="popper"?s.jsx(a0,{...i,...n,ref:t}):null});Tz.displayName=Rx;function Dk(e){return e===""||e===void 0}var Fk=v.forwardRef((e,t)=>{const{value:r,...n}=e,i=v.useRef(null),a=ot(t,i),l=j0(r);return v.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==r&&p){const m=new Event("change",{bubbles:!0});p.call(c,r),c.dispatchEvent(m)}},[l,r]),s.jsx(ku,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});Fk.displayName="BubbleSelect";function $k(e){const t=Cr(e),r=v.useRef(""),n=v.useRef(0),i=v.useCallback(l=>{const c=r.current+l;t(c),function u(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function zk(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=Rz(e,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==r));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Rz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Az=fk,Bk=pk,Mz=vk,Oz=xk,Lz=yk,Uk=_k,Iz=Nk,Vk=kk,Wk=Ek,Dz=Tk,Fz=Ak,Hk=Mk,qk=Ok,Zk=Ik;const jr=Az,Nr=Mz,pr=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Bk,{ref:n,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Oz,{asChild:!0,children:s.jsx(hC,{className:"h-4 w-4 opacity-50"})})]}));pr.displayName=Bk.displayName;const Kk=v.forwardRef(({className:e,...t},r)=>s.jsx(Hk,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gL,{className:"h-4 w-4"})}));Kk.displayName=Hk.displayName;const Gk=v.forwardRef(({className:e,...t},r)=>s.jsx(qk,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(hC,{className:"h-4 w-4"})}));Gk.displayName=qk.displayName;const gr=v.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(Lz,{children:s.jsxs(Uk,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Kk,{}),s.jsx(Iz,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Gk,{})]})}));gr.displayName=Uk.displayName;const $z=v.forwardRef(({className:e,...t},r)=>s.jsx(Vk,{ref:r,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$z.displayName=Vk.displayName;const Ie=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Wk,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Fz,{children:s.jsx(Im,{className:"h-4 w-4"})})}),s.jsx(Dz,{children:t})]}));Ie.displayName=Wk.displayName;const zz=v.forwardRef(({className:e,...t},r)=>s.jsx(Zk,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));zz.displayName=Zk.displayName;const Bz=()=>{const e=Ao(),{toast:t}=fn(),[r,n]=v.useState("home"),[i,a]=v.useState({line1:"",line2:"",city:"",pincode:"",landmark:"",type:"home",customName:""}),l=["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia"],c=h=>{a({...i,[h.target.name]:h.target.value})},u=h=>{h.preventDefault(),console.log("Address submitted:",i),t({title:"Address saved successfully!",description:"Welcome to FoodieExpress! Let's explore."}),e("/home")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ft,{to:"/signup",className:"mr-4",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Address"})]}),s.jsxs(re,{className:"shadow-lg border-0",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(fs,{className:"h-8 w-8 text-orange-500"})}),s.jsx(Ze,{className:"text-xl text-gray-800",children:"Set Your Location"}),s.jsx("p",{className:"text-gray-600",children:"We'll deliver to this address"})]}),s.jsx(ne,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"line1",children:"Address Line 1"}),s.jsx(Te,{id:"line1",name:"line1",value:i.line1,onChange:c,placeholder:"House no, Building name, Floor",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"line2",children:"Address Line 2"}),s.jsx(Te,{id:"line2",name:"line2",value:i.line2,onChange:c,placeholder:"Area, Layout name",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"city",children:"City"}),s.jsxs(jr,{onValueChange:h=>a({...i,city:h}),children:[s.jsx(pr,{children:s.jsx(Nr,{placeholder:"Select city"})}),s.jsx(gr,{children:l.map(h=>s.jsx(Ie,{value:h.toLowerCase(),children:h},h))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"pincode",children:"Pincode"}),s.jsx(Te,{id:"pincode",name:"pincode",value:i.pincode,onChange:c,placeholder:"123456",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"landmark",children:"Nearest Landmark"}),s.jsx(Te,{id:"landmark",name:"landmark",value:i.landmark,onChange:c,placeholder:"Mall, Hospital, School"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{children:"Save as"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs(B,{type:"button",variant:r==="home"?"default":"outline",className:`h-16 flex flex-col items-center space-y-1 ${r==="home"?"bg-orange-500 hover:bg-orange-600":""}`,onClick:()=>{n("home"),a({...i,type:"home"})},children:[s.jsx(Fm,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs(B,{type:"button",variant:r==="office"?"default":"outline",className:`h-16 flex flex-col items-center space-y-1 ${r==="office"?"bg-orange-500 hover:bg-orange-600":""}`,onClick:()=>{n("office"),a({...i,type:"office"})},children:[s.jsx(dC,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"Office"})]}),s.jsxs(B,{type:"button",variant:r==="other"?"default":"outline",className:`h-16 flex flex-col items-center space-y-1 ${r==="other"?"bg-orange-500 hover:bg-orange-600":""}`,onClick:()=>{n("other"),a({...i,type:"other"})},children:[s.jsx(br,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"Other"})]})]})]}),r==="other"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"customName",children:"Custom Name"}),s.jsx(Te,{id:"customName",name:"customName",value:i.customName,onChange:c,placeholder:"e.g., Friend's Place",required:!0})]}),s.jsx(B,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg",children:"Save Address & Continue"})]})})]})]})})},Uz=()=>{const e=Ao(),{toast:t}=fn(),{signIn:r}=kr(),[n,i]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState({email:"",password:""}),h=g=>{u({...c,[g.target.name]:g.target.value})},p=async g=>{g.preventDefault(),l(!0);try{await r(c.email,c.password),t({title:"Welcome back!",description:"You've been signed in successfully."}),e("/home")}catch(_){t({title:"Sign in failed",description:_.message||"Please check your credentials and try again.",variant:"destructive"})}finally{l(!1)}},m=()=>{t({title:"Password reset",description:"Password reset functionality will be available soon."})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ft,{to:"/",className:"mr-4",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sign In"})]}),s.jsxs(re,{className:"shadow-lg border-0",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx(Ze,{className:"text-xl text-gray-800",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your Seabites account"})]}),s.jsxs(ne,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"email",name:"email",type:"email",value:c.email,onChange:h,placeholder:"john@example.com",className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{id:"password",name:"password",type:n?"text":"password",value:c.password,onChange:h,placeholder:"Enter your password",className:"pl-10 pr-10",required:!0}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!n),children:n?s.jsx(pc,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",className:"text-sm text-orange-500 hover:text-orange-600 p-0 bg-transparent border-none underline cursor-pointer",onClick:m,children:"Forgot password?"})}),s.jsx(B,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg",disabled:a,children:a?"Signing In...":"Sign In"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"outline",className:"w-full mt-4 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Continue as Guest"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(ft,{to:"/signup",className:"text-orange-500 hover:text-orange-600 font-medium",children:"Sign up"})]})})]})]})]})})},Vz=mc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,...r}){return s.jsx("div",{className:ce(Vz({variant:t}),e),...r})}var C0="Switch",[Wz,mH]=ws(C0),[Hz,qz]=Wz(C0),Qk=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:l,disabled:c,value:u="on",onCheckedChange:h,form:p,...m}=e,[g,_]=v.useState(null),N=ot(t,j=>_(j)),x=v.useRef(!1),S=g?p||!!g.closest("form"):!0,[w=!1,b]=_i({prop:i,defaultProp:a,onChange:h});return s.jsxs(Hz,{scope:r,checked:w,disabled:c,children:[s.jsx(Oe.button,{type:"button",role:"switch","aria-checked":w,"aria-required":l,"data-state":Jk(w),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:N,onClick:me(e.onClick,j=>{b(k=>!k),S&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),S&&s.jsx(Zz,{control:g,bubbles:!x.current,name:n,value:u,checked:w,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});Qk.displayName=C0;var Yk="SwitchThumb",Xk=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=qz(Yk,r);return s.jsx(Oe.span,{"data-state":Jk(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Xk.displayName=Yk;var Zz=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=v.useRef(null),l=j0(r),c=t0(t);return v.useEffect(()=>{const u=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(g)}},[l,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jk(e){return e?"checked":"unchecked"}var eP=Qk,Kz=Xk;const yo=v.forwardRef(({className:e,...t},r)=>s.jsx(eP,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(Kz,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yo.displayName=eP.displayName;const tP=({src:e,alt:t,className:r="",fallbackSrc:n="/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",showPlaceholder:i=!0,onError:a,onLoad:l})=>{const[c,u]=v.useState(e),[h,p]=v.useState("loading"),[m,g]=v.useState(!1),_=v.useRef(null);v.useEffect(()=>{u(e),p("loading"),g(!1)},[e]);const N=()=>{p("loaded"),l==null||l()},x=()=>{!m&&n&&n!==c?(u(n),g(!0),p("loading")):(p("error"),a==null||a())};return h==="error"&&i?s.jsx("div",{className:`bg-neutral-100 flex items-center justify-center ${r}`,children:s.jsx(Kn,{className:"w-8 h-8 text-neutral-400"})}):s.jsxs(s.Fragment,{children:[s.jsx("img",{ref:_,src:c,alt:t,className:`${r} ${h==="loading"?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:N,onError:x,style:{display:h==="error"?"none":"block"}}),h==="loading"&&s.jsx("div",{className:`absolute inset-0 bg-neutral-100 animate-pulse flex items-center justify-center ${r}`,children:s.jsx(Kn,{className:"w-8 h-8 text-neutral-400"})})]})},Gz=({product:e,onClose:t,onAddToCart:r,cartQuantity:n,onUpdateQuantity:i})=>s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-end",children:s.jsxs("div",{className:"bg-white w-full rounded-t-2xl max-h-[80vh] overflow-y-auto animate-slide-in-right",children:[s.jsxs("div",{className:"sticky top-0 bg-white p-4 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Item Details"}),s.jsx(B,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Vn,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(tP,{src:e.image,alt:e.name,className:"w-full h-48 object-cover rounded-lg"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("div",{className:`w-4 h-4 rounded-full ${e.isVeg?"bg-green-500":"bg-red-500"}`})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($t,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-gray-600",children:e.rating})]})}),s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["₹",e.price]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-white p-4 border-t",children:n>0?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 bg-orange-500 rounded-lg px-4 py-2",children:[s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-orange-600",onClick:()=>i(e.id,n-1),children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-white font-semibold text-lg",children:n}),s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-orange-600",onClick:()=>i(e.id,n+1),children:s.jsx(br,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₹",e.price*n]})]})]}):s.jsxs(B,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3",onClick:()=>r(e.id),children:["Add to Cart - ₹",e.price]})})]})}),ms=()=>{const e=Ro(),{getTotalItems:t}=Sc(),r=[{path:"/home",icon:Fm,label:"Home"},{path:"/categories",icon:Zy,label:"Categories"},{path:"/cart",icon:Nl,label:"Cart",badge:t()},{path:"/favorites",icon:fo,label:"Favorites"},{path:"/profile",icon:wi,label:"Profile"}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-neutral-200 px-2 py-2 z-40 shadow-soft",children:s.jsx("div",{className:"flex justify-around",children:r.map(n=>s.jsxs(ft,{to:n.path,className:`nav-item flex flex-col items-center space-y-1 py-3 px-4 rounded-2xl transition-all duration-200 relative min-w-[60px] ${e.pathname===n.path?"text-brand-600 bg-brand-50":"text-neutral-500 hover:text-brand-600 hover:bg-neutral-50"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(n.icon,{className:`h-6 w-6 transition-all duration-200 ${e.pathname===n.path?"scale-110":""}`}),n.badge!==void 0&&s.jsx(We,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center p-0 border-2 border-white",children:n.badge>99?"99+":n.badge})]}),s.jsx("span",{className:`text-xs font-medium transition-all duration-200 ${e.pathname===n.path?"text-brand-600":"text-neutral-500"}`,children:n.label}),e.pathname===n.path&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-brand-500 rounded-full"})]},n.path))})})},k0=({id:e,name:t,description:r,price:n,originalPrice:i,image:a,rating:l,reviewCount:c,deliveryTime:u="30 min",isVeg:h,isFavorite:p=!1,discount:m,onAddToCart:g,onToggleFavorite:_,className:N=""})=>{const x=S=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(S);return s.jsxs("div",{className:`interactive-card food-card ${N}`,children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx(tP,{src:a,alt:t,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsxs("div",{className:"delivery-time bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg",children:[s.jsx(fr,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-medium",children:u})]})}),_&&s.jsx("button",{onClick:S=>{S.stopPropagation(),_(e)},className:"heart-button absolute top-3 right-3",children:s.jsx(fo,{className:`w-4 h-4 transition-colors ${p?"fill-red-500 text-red-500":"text-neutral-400"}`})}),m&&s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs(We,{className:"bg-red-500 text-white font-bold px-2 py-1",children:[m,"% OFF"]})}),h!==void 0&&s.jsx("div",{className:"absolute bottom-3 right-3",children:s.jsx("div",{className:`w-4 h-4 border-2 flex items-center justify-center ${h?"border-green-500":"border-red-500"}`,children:s.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-500":"bg-red-500"}`})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 leading-tight",children:t}),l&&s.jsxs("div",{className:"rating-badge ml-2 flex-shrink-0",children:[s.jsx($t,{className:"w-3 h-3 fill-current"}),s.jsxs("span",{className:"text-xs",children:[l.toFixed(1)," ",c&&`(${c}+)`]})]})]}),r&&s.jsx("p",{className:"text-neutral-600 text-sm mb-3 line-clamp-2",children:r}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"price-tag text-neutral-900",children:x(n)}),i&&i>n&&s.jsx("span",{className:"text-neutral-400 text-sm line-through",children:x(i)})]}),s.jsx(B,{onClick:S=>{S.stopPropagation(),g(e)},size:"sm",className:"primary-button text-sm px-4 py-2 h-auto",children:s.jsx(br,{className:"h-4 w-4"})})]})]})]})},Oj=({title:e,subtitle:t,discount:r,description:n,image:i,ctaText:a="Order Now",onCTAClick:l,className:c="",promotionType:u="percentage_discount",discountType:h="percentage",discountValue:p=30,backgroundColor:m="#FF6B35",textColor:g="#FFFFFF",buyQuantity:_,getQuantity:N,minimumOrder:x})=>{const S=()=>{if(r)return r;switch(h){case"percentage":return`${p}%`;case"fixed_amount":return`₹${p}`;case"buy_x_get_y":return`${_}+${N}`;case"free_shipping":return"FREE";default:return`${p}%`}},w=()=>{switch(u){case"flash_sale":return s.jsx(AL,{className:"w-5 h-5"});case"buy_one_get_one":return s.jsx(gC,{className:"w-5 h-5"});case"loyalty_reward":return s.jsx($t,{className:"w-5 h-5"});case"free_delivery":return s.jsx(ec,{className:"w-5 h-5"});case"welcome_offer":return s.jsx(Nl,{className:"w-5 h-5"});default:return null}},b=()=>{switch(h){case"percentage":return"OFF";case"fixed_amount":return"OFF";case"buy_x_get_y":return"DEAL";case"free_shipping":return"DELIVERY";default:return"OFF"}},j=()=>{const k={background:`linear-gradient(135deg, ${m} 0%, ${m}dd 100%)`,color:g};switch(u){case"flash_sale":return{...k,background:"linear-gradient(135deg, #FF3B30 0%, #FF6B35 100%)",boxShadow:"0 8px 32px rgba(255, 59, 48, 0.3)"};case"seasonal_offer":return{...k,background:"linear-gradient(135deg, #34C759 0%, #30D158 100%)",boxShadow:"0 8px 32px rgba(52, 199, 89, 0.3)"};case"welcome_offer":return{...k,background:"linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%)",boxShadow:"0 8px 32px rgba(0, 122, 255, 0.3)"};case"loyalty_reward":return{...k,background:"linear-gradient(135deg, #AF52DE 0%, #DA70D6 100%)",boxShadow:"0 8px 32px rgba(175, 82, 222, 0.3)"};default:return{...k,boxShadow:"0 8px 32px rgba(255, 107, 53, 0.3)"}}};return s.jsxs("div",{className:`offer-card relative overflow-hidden rounded-3xl p-6 ${c}`,style:j(),children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -translate-y-16 translate-x-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full translate-y-12 -translate-x-12"})]}),u!=="percentage_discount"&&s.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:[w(),s.jsx("span",{className:"text-xs font-semibold capitalize",children:u.replace("_"," ")})]}),s.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 pr-4",children:[t&&s.jsx("p",{className:"text-white/90 text-sm font-medium mb-1",children:t}),s.jsx("h2",{className:"text-white text-2xl font-bold mb-2 leading-tight",children:e}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-4xl font-black",children:S()}),s.jsx("span",{className:"text-lg font-semibold ml-1",children:b()})]}),n&&s.jsx("div",{className:"text-white/80 text-sm",children:n})]}),x&&s.jsxs("p",{className:"text-white/70 text-xs mb-3",children:["Min. order ₹",x]}),h==="buy_x_get_y"&&_&&N&&s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 mb-3",children:s.jsxs("p",{className:"text-white text-sm font-semibold",children:["Buy ",_," Get ",N," Free!"]})}),l&&s.jsxs(B,{onClick:l,variant:"secondary",className:"bg-white text-gray-900 hover:bg-white/90 font-semibold px-6 py-2 rounded-xl shadow-lg",children:[a,s.jsx(lC,{className:"w-4 h-4 ml-2"})]})]}),s.jsxs("div",{className:"flex-shrink-0 w-32 h-32 relative",children:[s.jsx("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-2xl shadow-lg"}),s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full opacity-80"}),s.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-white rounded-full opacity-60"})]})]})]})},rP=({categories:e,activeCategory:t,onCategoryChange:r,showAll:n=!0,className:i=""})=>{const a=n?[{id:"all",name:"All"},...e]:e;return s.jsx("div",{className:`flex gap-3 overflow-x-auto pb-2 ${i}`,children:a.map(l=>s.jsxs(B,{onClick:()=>r(l.id),variant:"ghost",className:`category-pill flex-shrink-0 ${t===l.id?"active":""}`,children:[l.icon&&s.jsx("span",{className:"mr-2",children:l.icon}),s.jsx("span",{className:"font-medium",children:l.name})]},l.id))})},nP=e=>mn({queryKey:["categories",e],queryFn:async()=>{let t=ye.from("categories").select("*").eq("is_visible",!0).order("sort_order",{ascending:!0});t=t.eq("type",e);const{data:r,error:n}=await t;if(n)throw console.error("Error fetching categories:",n),n;return r}}),Qz=e=>mn({queryKey:["admin-categories",e],queryFn:async()=>{let t=ye.from("categories").select("*").order("sort_order",{ascending:!0});const{data:r,error:n}=await t;if(n)throw console.error("Error fetching admin categories:",n),n;return r}}),Xd=(e,t)=>mn({queryKey:["products",e,t],queryFn:async()=>{let r=ye.from("products").select(`
          *,
          categories (
            id,
            name,
            type
          )
        `).eq("is_available",!0);e&&(r=r.eq("category_id",e)),t&&(r=r.eq("type",t));const{data:n,error:i}=await r;if(i)throw console.error("Error fetching products:",i),i;return n}}),Yz=(e,t)=>mn({queryKey:["admin-products",e,t],queryFn:async()=>{let r=ye.from("products").select(`
          *,
          categories (
            id,
            name,
            type
          )
        `);const{data:n,error:i}=await r;if(i)throw console.error("Error fetching admin products:",i),i;return n}}),Xz=()=>mn({queryKey:["promotions"],queryFn:async()=>{const{data:e,error:t}=await ye.from("promotions").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(t)throw console.error("Error fetching promotions:",t),t;return e}}),Jz=()=>mn({queryKey:["admin-promotions"],queryFn:async()=>{console.log("Fetching admin promotions...");const{data:e,error:t}=await ye.from("promotions").select("*").order("sort_order",{ascending:!0});if(t)throw console.error("Error fetching admin promotions:",t),t;return console.log("Admin promotions fetched successfully:",(e==null?void 0:e.length)||0,"items"),e},retry:3,staleTime:1e3*60*5}),eB=()=>{const e=Qn(),t=bt({mutationFn:async l=>{const{data:c,error:u}=await ye.from("promotions").insert([l]).select().single();if(u)throw console.error("Error adding promotion:",u),u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-promotions"]}),e.invalidateQueries({queryKey:["promotions"]}),Ce({title:"Success",description:"Promotion created successfully"})},onError:l=>{console.error("Error in addPromotion:",l),Ce({title:"Error",description:l.message||"Failed to create promotion",variant:"destructive"})}}),r=bt({mutationFn:async({id:l,updates:c})=>{const{data:u,error:h}=await ye.from("promotions").update(c).eq("id",l).select().single();if(h)throw console.error("Error updating promotion:",h),h;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-promotions"]}),e.invalidateQueries({queryKey:["promotions"]}),Ce({title:"Success",description:"Promotion updated successfully"})},onError:l=>{console.error("Error in updatePromotion:",l),Ce({title:"Error",description:l.message||"Failed to update promotion",variant:"destructive"})}}),n=bt({mutationFn:async l=>{const{error:c}=await ye.from("promotions").delete().eq("id",l);if(c)throw console.error("Error deleting promotion:",c),c;return l},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-promotions"]}),e.invalidateQueries({queryKey:["promotions"]}),Ce({title:"Success",description:"Promotion deleted successfully"})},onError:l=>{console.error("Error in deletePromotion:",l),Ce({title:"Error",description:l.message||"Failed to delete promotion",variant:"destructive"})}}),i=bt({mutationFn:async({id:l,isActive:c})=>{const{data:u,error:h}=await ye.from("promotions").update({is_active:c}).eq("id",l).select().single();if(h)throw console.error("Error toggling promotion status:",h),h;return u},onSuccess:l=>{e.invalidateQueries({queryKey:["admin-promotions"]}),e.invalidateQueries({queryKey:["promotions"]}),Ce({title:"Success",description:`Promotion ${l.is_active?"activated":"deactivated"} successfully`})},onError:l=>{console.error("Error in togglePromotionStatus:",l),Ce({title:"Error",description:l.message||"Failed to toggle promotion status",variant:"destructive"})}}),a=bt({mutationFn:async l=>{for(const c of l){const{error:u}=await ye.from("promotions").update({sort_order:c.sort_order}).eq("id",c.id);if(u)throw console.error("Error updating promotion order:",u),u}return l},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-promotions"]}),e.invalidateQueries({queryKey:["promotions"]}),Ce({title:"Success",description:"Promotion order updated successfully"})},onError:l=>{console.error("Error in reorderPromotions:",l),Ce({title:"Error",description:l.message||"Failed to reorder promotions",variant:"destructive"})}});return{addPromotion:t,updatePromotion:r,deletePromotion:n,togglePromotionStatus:i,reorderPromotions:a}},Lj=e=>{let t;const r=new Set,n=(h,p)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const g=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(_=>_(t,g))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>u,subscribe:h=>(r.add(h),()=>r.delete(h))},u=t=e(n,i,c);return c},tB=e=>e?Lj(e):Lj,rB=e=>e;function nB(e,t=rB){const r=te.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return te.useDebugValue(r),r}const sB=e=>{const t=tB(e),r=n=>nB(t,n);return Object.assign(r,t),r},iB=e=>sB;function aB(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const l=u=>u===null?null:JSON.parse(u,void 0),c=(a=r.getItem(i))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Ax=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ax(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ax(n)(r)}}}},oB=(e,t)=>(r,n,i)=>{let a={storage:aB(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...t},l=!1;const c=new Set,u=new Set;let h=a.storage;if(!h)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...x)},n,i);const p=()=>{const x=a.partialize({...n()});return h.setItem(a.name,{state:x,version:a.version})},m=i.setState;i.setState=(x,S)=>{m(x,S),p()};const g=e((...x)=>{r(...x),p()},n,i);i.getInitialState=()=>g;let _;const N=()=>{var x,S;if(!h)return;l=!1,c.forEach(b=>{var j;return b((j=n())!=null?j:g)});const w=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(x=n())!=null?x:g))||void 0;return Ax(h.getItem.bind(h))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate){const j=a.migrate(b.state,b.version);return j instanceof Promise?j.then(k=>[!0,k]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var j;const[k,T]=b;if(_=a.merge(T,(j=n())!=null?j:g),r(_,!0),k)return p()}).then(()=>{w==null||w(_,void 0),_=n(),l=!0,u.forEach(b=>b(_))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(h=x.storage)},clearStorage:()=>{h==null||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>N(),hasHydrated:()=>l,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},a.skipHydration||N(),_||g},lB=oB;class cB{constructor(){Zo(this,"cache",new Map);Zo(this,"CACHE_DURATION",5*60*1e3);Zo(this,"API_RATE_LIMIT",100);Zo(this,"requestCount",0);Zo(this,"requestResetTime",Date.now()+6e4)}async getCurrentLocation(){return new Promise((t,r)=>{if(!navigator.geolocation){r(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(async n=>{try{const{latitude:i,longitude:a}=n.coords,l=await this.reverseGeocode(i,a);t({coordinates:{lat:i,lng:a},address:l.address||"Unknown address",city:l.city||"Unknown city",country:l.country||"Unknown country",timestamp:Date.now()})}catch(i){r(this.mapGeolocationError(i))}},n=>{r(this.mapGeolocationError(n))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})}async reverseGeocode(t,r){const n=`reverse_${t.toFixed(6)}_${r.toFixed(6)}`,i=this.getFromCache(n);if(i)return i;if(!this.checkRateLimit())return console.warn("Rate limit exceeded, using fallback address"),this.getFallbackAddress(t,r);if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168."))return console.warn("Development environment detected, using fallback address to avoid CORS issues"),this.getFallbackAddress(t,r);try{const l=new AbortController,c=setTimeout(()=>l.abort(),5e3),u=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${t}&lon=${r}&format=json&addressdetails=1&accept-language=en`,{signal:l.signal,headers:{Accept:"application/json"}});if(clearTimeout(c),!u.ok)return console.warn(`Nominatim API returned ${u.status}, using fallback address`),this.getFallbackAddress(t,r);const h=await u.json(),p=this.formatNominatimResponse(h);return this.setCache(n,p),p}catch(l){return console.warn("Geocoding API unavailable, using fallback address:",l instanceof Error?l.message:"Unknown error"),this.getFallbackAddress(t,r)}}async searchAddresses(t){if(!t||t.trim().length<3)return[];const r=`search_${t.toLowerCase().trim()}`,n=this.getFromCache(r);if(n)return n;if(!this.checkRateLimit())return console.warn("Rate limit exceeded for search"),[];if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168."))return console.warn("Development environment detected, search disabled to avoid CORS issues"),[];try{const a=new AbortController,l=setTimeout(()=>a.abort(),5e3),c=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t)}&format=json&addressdetails=1&limit=5&accept-language=en`,{signal:a.signal,headers:{Accept:"application/json"}});if(clearTimeout(l),!c.ok)return console.warn(`Nominatim search API returned ${c.status}`),[];const h=(await c.json()).map(p=>this.formatNominatimSearchResult(p));return this.setCache(r,h),h}catch(a){return console.warn("Search API unavailable:",a instanceof Error?a.message:"Unknown error"),[]}}mapGeolocationError(t){switch(t.code){case t.PERMISSION_DENIED:return new Error("Location access denied by user");case t.POSITION_UNAVAILABLE:return new Error("Location information unavailable");case t.TIMEOUT:return new Error("Location request timed out");default:return new Error("Unknown location error")}}formatNominatimResponse(t){const r=t.address||{},n=[];return r.house_number&&n.push(r.house_number),r.road&&n.push(r.road),r.neighbourhood&&n.push(r.neighbourhood),{address:(n.length>0?n.join(" "):t.display_name)||"Unknown address",city:r.city||r.town||r.village||"Unknown city",country:r.country||"Unknown country"}}formatNominatimSearchResult(t){const r=t.address||{};return{coordinates:{lat:parseFloat(t.lat),lng:parseFloat(t.lon)},address:t.display_name||"Unknown address",city:r.city||r.town||r.village||"Unknown city",country:r.country||"Unknown country",timestamp:Date.now()}}getFromCache(t){const r=this.cache.get(t);return r&&Date.now()-r.timestamp<this.CACHE_DURATION?r.data:(this.cache.delete(t),null)}setCache(t,r){if(this.cache.set(t,{data:r,timestamp:Date.now()}),this.cache.size>100){const n=Array.from(this.cache.entries());n.sort((i,a)=>i[1].timestamp-a[1].timestamp),n.slice(0,n.length-100).forEach(([i])=>{this.cache.delete(i)})}}checkRateLimit(){const t=Date.now();return t>this.requestResetTime&&(this.requestCount=0,this.requestResetTime=t+6e4),this.requestCount>=this.API_RATE_LIMIT?!1:(this.requestCount++,!0)}getDefaultLocation(){return{coordinates:{lat:40.7128,lng:-74.006},address:"New York, NY",city:"New York",country:"United States",timestamp:Date.now()}}getFallbackAddress(t,r){let n="Unknown Country",i="Unknown City",a="Selected Area",l="";t>=12.8&&t<=13.2&&r>=77.4&&r<=77.8?(n="India",i="Bangalore",t>=12.89&&t<=12.92&&r>=77.59&&r<=77.62?(a="Koramangala",l="Near Koramangala Market"):t>=12.93&&t<=12.97&&r>=77.6&&r<=77.65?(a="Indiranagar",l="Near CMH Road"):t>=12.94&&t<=12.98&&r>=77.55&&r<=77.6?(a="MG Road",l="Central Business District"):t>=12.97&&t<=13.02&&r>=77.55&&r<=77.62?(a="Whitefield",l="IT Hub Area"):t>=12.92&&t<=12.96&&r>=77.57&&r<=77.62?(a="HSR Layout",l="Residential Area"):t>=12.85&&t<=12.89&&r>=77.58&&r<=77.63?(a="BTM Layout",l="Near Silk Board"):t>=12.95&&t<=13&&r>=77.63&&r<=77.68?(a="Marathahalli",l="Outer Ring Road"):t>=12.9&&t<=12.95&&r>=77.62&&r<=77.67?(a="Electronic City",l="IT Park Area"):t>=13&&t<=13.06&&r>=77.56&&r<=77.62?(a="Hebbal",l="Near Outer Ring Road"):t>=12.95&&t<=12.99&&r>=77.49&&r<=77.55?(a="Rajajinagar",l="West Bangalore"):t>=12.92&&t<=12.97&&r>=77.52&&r<=77.58?(a="Malleshwaram",l="Traditional Area"):t>=12.97&&t<=13.02&&r>=77.58&&r<=77.63?(a="Banaswadi",l="Near Hennur Road"):t>=13&&r>=77.6?(a="North Bangalore",l="Outer Ring Road Area"):t<=12.9&&r>=77.6?(a="South Bangalore",l="Electronic City Direction"):r<=77.5?(a="West Bangalore",l="Rajajinagar Side"):(a="Central Bangalore",l="City Center Area")):t>=6&&t<=37&&r>=68&&r<=97?(n="India",t>=19&&t<=19.5&&r>=72.5&&r<=73?(i="Mumbai",a="Mumbai Area",l="Financial Capital"):t>=28&&t<=29&&r>=77&&r<=77.5?(i="Delhi",a="Delhi NCR",l="National Capital"):t>=13&&t<=13.5&&r>=80&&r<=80.5?(i="Chennai",a="Chennai Area",l="South India Metro"):(i="Indian City",a="Selected Area",l="Your Location")):t>=25&&t<=49&&r>=-125&&r<=-66?(n="United States",t>=40.5&&t<=41&&r>=-74.5&&r<=-73.5?(i="New York",a="NYC Area",l="Manhattan District"):t>=34&&t<=34.5&&r>=-118.5&&r<=-118?(i="Los Angeles",a="LA Area",l="California"):(i="US City",a="Selected Area",l="Your Location")):(n="Location Selected",i="Selected Area",a="Your Location",l=`${t.toFixed(4)}, ${r.toFixed(4)}`);const c=t.toFixed(4),u=r.toFixed(4);return{address:l||`Location ${c}, ${u}`,city:a,country:`${i}, ${n}`}}}const zh=new cB,sP=iB()(lB((e,t)=>({location:null,loading:!1,error:null,setLocation:r=>e({location:r,error:null}),setLoading:r=>e({loading:r}),setError:r=>e({error:r,loading:!1}),clearError:()=>e({error:null}),getCurrentLocation:async()=>{const{setLoading:r,setLocation:n,setError:i}=t();try{r(!0),i(null);const a=await zh.getCurrentLocation();n(a)}catch(a){console.error("Get current location error:",a);const l=a instanceof Error?a.message:"Failed to get current location";i(l);const c=zh.getDefaultLocation();n(c)}finally{r(!1)}},updateLocation:async r=>{const{setLoading:n,setLocation:i,setError:a}=t();try{n(!0),a(null);const l=await zh.reverseGeocode(r.lat,r.lng),c={coordinates:r,address:l.address||"Unknown address",city:l.city||"Unknown city",country:l.country||"Unknown country",timestamp:Date.now()};i(c),l.city==="Selected City"&&l.country==="Location Selected"&&a("Location selected (address details temporarily unavailable)")}catch(l){console.error("Update location error:",l);const c={coordinates:r,address:`Location (${r.lat.toFixed(4)}, ${r.lng.toFixed(4)})`,city:"Selected Location",country:"Location Selected",timestamp:Date.now()};i(c),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||a("Location selected (address details temporarily unavailable)")}finally{n(!1)}},searchAddresses:async r=>{try{return await zh.searchAddresses(r)}catch(n){console.error("Search addresses error:",n);const i=n instanceof Error?n.message:"Failed to search addresses";return t().setError(i),[]}},setManualLocation:r=>{e({location:r,error:null})},initializeLocation:async()=>{const{location:r,getCurrentLocation:n}=t();r?Date.now()-r.timestamp>864e5&&await n():await n()}}),{name:"seabites-location",partialize:e=>({location:e.location})}));function dB(e,t){const r=v.useRef(t);v.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const uB=1;function hB(e){return Object.freeze({__version:uB,map:e})}function fB(e,t){return Object.freeze({...e,...t})}const iP=v.createContext(null),aP=iP.Provider;function oP(){const e=v.useContext(iP);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function mB(e){function t(r,n){const{instance:i,context:a}=e(r).current;return v.useImperativeHandle(n,()=>i),r.children==null?null:te.createElement(aP,{value:a},r.children)}return v.forwardRef(t)}function pB(e){function t(r,n){const{instance:i}=e(r).current;return v.useImperativeHandle(n,()=>i),null}return v.forwardRef(t)}function gB(e,t){const r=v.useRef();v.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function lP(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}var Mx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(kn,function(r){var n="1.9.4";function i(o){var d,f,y,C;for(f=1,y=arguments.length;f<y;f++){C=arguments[f];for(d in C)o[d]=C[d]}return o}var a=Object.create||function(){function o(){}return function(d){return o.prototype=d,new o}}();function l(o,d){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var y=f.call(arguments,2);return function(){return o.apply(d,y.length?y.concat(f.call(arguments)):arguments)}}var c=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function h(o,d,f){var y,C,P,D;return D=function(){y=!1,C&&(P.apply(f,C),C=!1)},P=function(){y?C=arguments:(o.apply(f,arguments),setTimeout(D,d),y=!0)},P}function p(o,d,f){var y=d[1],C=d[0],P=y-C;return o===y&&f?o:((o-C)%P+P)%P+C}function m(){return!1}function g(o,d){if(d===!1)return o;var f=Math.pow(10,d===void 0?6:d);return Math.round(o*f)/f}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function N(o){return _(o).split(/\s+/)}function x(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var f in d)o.options[f]=d[f];return o.options}function S(o,d,f){var y=[];for(var C in o)y.push(encodeURIComponent(f?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!d||d.indexOf("?")===-1?"?":"&")+y.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function b(o,d){return o.replace(w,function(f,y){var C=d[y];if(C===void 0)throw new Error("No value provided for variable "+f);return typeof C=="function"&&(C=C(d)),C})}var j=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function k(o,d){for(var f=0;f<o.length;f++)if(o[f]===d)return f;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var M=0;function R(o){var d=+new Date,f=Math.max(0,16-(d-M));return M=d+f,window.setTimeout(o,f)}var O=window.requestAnimationFrame||I("RequestAnimationFrame")||R,z=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function G(o,d,f){if(f&&O===R)o.call(d);else return O.call(window,l(o,d))}function U(o){o&&z.call(window,o)}var Z={__proto__:null,extend:i,create:a,bind:l,get lastId(){return c},stamp:u,throttle:h,wrapNum:p,falseFn:m,formatNum:g,trim:_,splitWords:N,setOptions:x,getParamString:S,template:b,isArray:j,indexOf:k,emptyImageUrl:T,requestFn:O,cancelFn:z,requestAnimFrame:G,cancelAnimFrame:U};function q(){}q.extend=function(o){var d=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=d.__super__=this.prototype,y=a(f);y.constructor=d,d.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(d[C]=this[C]);return o.statics&&i(d,o.statics),o.includes&&(ie(o.includes),i.apply(null,[y].concat(o.includes))),i(y,o),delete y.statics,delete y.includes,y.options&&(y.options=f.options?a(f.options):{},i(y.options,o.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,D=y._initHooks.length;P<D;P++)y._initHooks[P].call(this)}},d},q.include=function(o){var d=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},q.mergeOptions=function(o){return i(this.prototype.options,o),this},q.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ie(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=j(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(o,d,f){if(typeof o=="object")for(var y in o)this._on(y,o[y],d);else{o=N(o);for(var C=0,P=o.length;C<P;C++)this._on(o[C],d,f)}return this},off:function(o,d,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var y in o)this._off(y,o[y],d);else{o=N(o);for(var C=arguments.length===1,P=0,D=o.length;P<D;P++)C?this._off(o[P]):this._off(o[P],d,f)}return this},_on:function(o,d,f,y){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,f)===!1){f===this&&(f=void 0);var C={fn:d,ctx:f};y&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,d,f){var y,C,P;if(this._events&&(y=this._events[o],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,P=y.length;C<P;C++)y[C].fn=m;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var D=this._listens(o,d,f);if(D!==!1){var H=y[D];this._firingCount&&(H.fn=m,this._events[o]=y=y.slice()),y.splice(D,1)}}},fire:function(o,d,f){if(!this.listens(o,f))return this;var y=i({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var P=0,D=C.length;P<D;P++){var H=C[P],Y=H.fn;H.once&&this.off(o,Y,H.ctx),Y.call(H.ctx||this,y)}this._firingCount--}}return f&&this._propagateEvent(y),this},listens:function(o,d,f,y){typeof o!="string"&&console.warn('"string" type argument expected');var C=d;typeof d!="function"&&(y=!!d,C=void 0,f=void 0);var P=this._events&&this._events[o];if(P&&P.length&&this._listens(o,C,f)!==!1)return!0;if(y){for(var D in this._eventParents)if(this._eventParents[D].listens(o,d,f,y))return!0}return!1},_listens:function(o,d,f){if(!this._events)return!1;var y=this._events[o]||[];if(!d)return!!y.length;f===this&&(f=void 0);for(var C=0,P=y.length;C<P;C++)if(y[C].fn===d&&y[C].ctx===f)return C;return!1},once:function(o,d,f){if(typeof o=="object")for(var y in o)this._on(y,o[y],d,!0);else{o=N(o);for(var C=0,P=o.length;C<P;C++)this._on(o[C],d,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var Q=q.extend(K);function E(o,d,f){this.x=f?Math.round(o):o,this.y=f?Math.round(d):d}var A=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(o){return this.clone()._add(W(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(W(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new E(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new E(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(o){o=W(o);var d=o.x-this.x,f=o.y-this.y;return Math.sqrt(d*d+f*f)},equals:function(o){return o=W(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=W(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function W(o,d,f){return o instanceof E?o:j(o)?new E(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new E(o.x,o.y):new E(o,d,f)}function J(o,d){if(o)for(var f=d?[o,d]:o,y=0,C=f.length;y<C;y++)this.extend(f[y])}J.prototype={extend:function(o){var d,f;if(!o)return this;if(o instanceof E||typeof o[0]=="number"||"x"in o)d=f=W(o);else if(o=de(o),d=o.min,f=o.max,!d||!f)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=f.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,f;return typeof o[0]=="number"||o instanceof E?o=W(o):o=de(o),o instanceof J?(d=o.min,f=o.max):d=f=o,d.x>=this.min.x&&f.x<=this.max.x&&d.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=de(o);var d=this.min,f=this.max,y=o.min,C=o.max,P=C.x>=d.x&&y.x<=f.x,D=C.y>=d.y&&y.y<=f.y;return P&&D},overlaps:function(o){o=de(o);var d=this.min,f=this.max,y=o.min,C=o.max,P=C.x>d.x&&y.x<f.x,D=C.y>d.y&&y.y<f.y;return P&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,f=this.max,y=Math.abs(d.x-f.x)*o,C=Math.abs(d.y-f.y)*o;return de(W(d.x-y,d.y-C),W(f.x+y,f.y+C))},equals:function(o){return o?(o=de(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function de(o,d){return!o||o instanceof J?o:new J(o,d)}function Ne(o,d){if(o)for(var f=d?[o,d]:o,y=0,C=f.length;y<C;y++)this.extend(f[y])}Ne.prototype={extend:function(o){var d=this._southWest,f=this._northEast,y,C;if(o instanceof Pe)y=o,C=o;else if(o instanceof Ne){if(y=o._southWest,C=o._northEast,!y||!C)return this}else return o?this.extend(he(o)||ke(o)):this;return!d&&!f?(this._southWest=new Pe(y.lat,y.lng),this._northEast=new Pe(C.lat,C.lng)):(d.lat=Math.min(y.lat,d.lat),d.lng=Math.min(y.lng,d.lng),f.lat=Math.max(C.lat,f.lat),f.lng=Math.max(C.lng,f.lng)),this},pad:function(o){var d=this._southWest,f=this._northEast,y=Math.abs(d.lat-f.lat)*o,C=Math.abs(d.lng-f.lng)*o;return new Ne(new Pe(d.lat-y,d.lng-C),new Pe(f.lat+y,f.lng+C))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Pe||"lat"in o?o=he(o):o=ke(o);var d=this._southWest,f=this._northEast,y,C;return o instanceof Ne?(y=o.getSouthWest(),C=o.getNorthEast()):y=C=o,y.lat>=d.lat&&C.lat<=f.lat&&y.lng>=d.lng&&C.lng<=f.lng},intersects:function(o){o=ke(o);var d=this._southWest,f=this._northEast,y=o.getSouthWest(),C=o.getNorthEast(),P=C.lat>=d.lat&&y.lat<=f.lat,D=C.lng>=d.lng&&y.lng<=f.lng;return P&&D},overlaps:function(o){o=ke(o);var d=this._southWest,f=this._northEast,y=o.getSouthWest(),C=o.getNorthEast(),P=C.lat>d.lat&&y.lat<f.lat,D=C.lng>d.lng&&y.lng<f.lng;return P&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=ke(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(o,d){return o instanceof Ne?o:new Ne(o,d)}function Pe(o,d,f){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,f!==void 0&&(this.alt=+f)}Pe.prototype={equals:function(o,d){if(!o)return!1;o=he(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Fe.distance(this,he(o))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,f=d/Math.cos(Math.PI/180*this.lat);return ke([this.lat-d,this.lng-f],[this.lat+d,this.lng+f])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function he(o,d,f){return o instanceof Pe?o:j(o)&&typeof o[0]!="object"?o.length===3?new Pe(o[0],o[1],o[2]):o.length===2?new Pe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Pe(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new Pe(o,d,f)}var ve={latLngToPoint:function(o,d){var f=this.projection.project(o),y=this.scale(d);return this.transformation._transform(f,y)},pointToLatLng:function(o,d){var f=this.scale(d),y=this.transformation.untransform(o,f);return this.projection.unproject(y)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,f=this.scale(o),y=this.transformation.transform(d.min,f),C=this.transformation.transform(d.max,f);return new J(y,C)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,y=o.alt;return new Pe(f,d,y)},wrapLatLngBounds:function(o){var d=o.getCenter(),f=this.wrapLatLng(d),y=d.lat-f.lat,C=d.lng-f.lng;if(y===0&&C===0)return o;var P=o.getSouthWest(),D=o.getNorthEast(),H=new Pe(P.lat-y,P.lng-C),Y=new Pe(D.lat-y,D.lng-C);return new Ne(H,Y)}},Fe=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var f=Math.PI/180,y=o.lat*f,C=d.lat*f,P=Math.sin((d.lat-o.lat)*f/2),D=Math.sin((d.lng-o.lng)*f/2),H=P*P+Math.cos(y)*Math.cos(C)*D*D,Y=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*Y}}),Xe=6378137,He={R:Xe,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,f=this.MAX_LATITUDE,y=Math.max(Math.min(f,o.lat),-f),C=Math.sin(y*d);return new E(this.R*o.lng*d,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var d=180/Math.PI;return new Pe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:function(){var o=Xe*Math.PI;return new J([-o,-o],[o,o])}()};function rt(o,d,f,y){if(j(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=f,this._d=y}rt.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new E((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function Le(o,d,f,y){return new rt(o,d,f,y)}var kt=i({},Fe,{code:"EPSG:3857",projection:He,transformation:function(){var o=.5/(Math.PI*He.R);return Le(o,.5,-o,.5)}()}),Yt=i({},kt,{code:"EPSG:900913"});function Qr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ar(o,d){var f="",y,C,P,D,H,Y;for(y=0,P=o.length;y<P;y++){for(H=o[y],C=0,D=H.length;C<D;C++)Y=H[C],f+=(C?"L":"M")+Y.x+" "+Y.y;f+=d?Me.svg?"z":"x":""}return f||"M0 0"}var Yr=document.documentElement.style,F="ActiveXObject"in window,V=F&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),pe=js("webkit"),ue=js("android"),ae=js("android 2")||js("android 3"),Re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ve=ue&&js("Google")&&Re<537&&!("AudioNode"in window),wt=!!window.opera,mt=!X&&js("chrome"),Dr=js("gecko")&&!pe&&!wt&&!F,Rn=!mt&&js("safari"),Yn=js("phantom"),Xn="OTransition"in Yr,Ee=navigator.platform.indexOf("Win")===0,Pt=F&&"transition"in Yr,Fr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ae,Xr="MozPerspective"in Yr,Pr=!window.L_DISABLE_3D&&(Pt||Fr||Xr)&&!Xn&&!Yn,Qs=typeof orientation<"u"||js("mobile"),Ue=Qs&&pe,vt=Qs&&Fr,xt=!window.PointerEvent&&window.MSPointerEvent,pn=!!(window.PointerEvent||xt),gn="ontouchstart"in window||!!window.TouchEvent,Do=!window.L_NO_TOUCH&&(gn||pn),bp=Qs&&wt,RR=Qs&&Dr,AR=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,MR=function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,d),window.removeEventListener("testPassiveEventSupport",m,d)}catch{}return o}(),OR=function(){return!!document.createElement("canvas").getContext}(),jp=!!(document.createElementNS&&Qr("svg").createSVGRect),LR=!!jp&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),IR=!jp&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),DR=navigator.platform.indexOf("Mac")===0,FR=navigator.platform.indexOf("Linux")===0;function js(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Me={ie:F,ielt9:V,edge:X,webkit:pe,android:ue,android23:ae,androidStock:Ve,opera:wt,chrome:mt,gecko:Dr,safari:Rn,phantom:Yn,opera12:Xn,win:Ee,ie3d:Pt,webkit3d:Fr,gecko3d:Xr,any3d:Pr,mobile:Qs,mobileWebkit:Ue,mobileWebkit3d:vt,msPointer:xt,pointer:pn,touch:Do,touchNative:gn,mobileOpera:bp,mobileGecko:RR,retina:AR,passiveEvents:MR,canvas:OR,svg:jp,vml:IR,inlineSvg:LR,mac:DR,linux:FR},v_=Me.msPointer?"MSPointerDown":"pointerdown",x_=Me.msPointer?"MSPointerMove":"pointermove",y_=Me.msPointer?"MSPointerUp":"pointerup",__=Me.msPointer?"MSPointerCancel":"pointercancel",Np={touchstart:v_,touchmove:x_,touchend:y_,touchcancel:__},w_={touchstart:WR,touchmove:Hu,touchend:Hu,touchcancel:Hu},Fo={},b_=!1;function $R(o,d,f){return d==="touchstart"&&VR(),w_[d]?(f=w_[d].bind(this,f),o.addEventListener(Np[d],f,!1),f):(console.warn("wrong event specified:",d),m)}function zR(o,d,f){if(!Np[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(Np[d],f,!1)}function BR(o){Fo[o.pointerId]=o}function UR(o){Fo[o.pointerId]&&(Fo[o.pointerId]=o)}function j_(o){delete Fo[o.pointerId]}function VR(){b_||(document.addEventListener(v_,BR,!0),document.addEventListener(x_,UR,!0),document.addEventListener(y_,j_,!0),document.addEventListener(__,j_,!0),b_=!0)}function Hu(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var f in Fo)d.touches.push(Fo[f]);d.changedTouches=[d],o(d)}}function WR(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&xr(d),Hu(o,d)}function HR(o){var d={},f,y;for(y in o)f=o[y],d[y]=f&&f.bind?f.bind(o):f;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var qR=200;function ZR(o,d){o.addEventListener("dblclick",d);var f=0,y;function C(P){if(P.detail!==1){y=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var D=P_(P);if(!(D.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!D.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var H=Date.now();H-f<=qR?(y++,y===2&&d(HR(P))):y=1,f=H}}}return o.addEventListener("click",C),{dblclick:d,simDblclick:C}}function KR(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var Sp=Ku(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kc=Ku(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),N_=kc==="webkitTransition"||kc==="OTransition"?kc+"End":"transitionend";function S_(o){return typeof o=="string"?document.getElementById(o):o}function Pc(o,d){var f=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!f||f==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(o,null);f=y?y[d]:null}return f==="auto"?null:f}function ut(o,d,f){var y=document.createElement(o);return y.className=d||"",f&&f.appendChild(y),y}function Mt(o){var d=o.parentNode;d&&d.removeChild(o)}function qu(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function $o(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function zo(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function Cp(o,d){if(o.classList!==void 0)return o.classList.contains(d);var f=Zu(o);return f.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(f)}function Je(o,d){if(o.classList!==void 0)for(var f=N(d),y=0,C=f.length;y<C;y++)o.classList.add(f[y]);else if(!Cp(o,d)){var P=Zu(o);kp(o,(P?P+" ":"")+d)}}function Wt(o,d){o.classList!==void 0?o.classList.remove(d):kp(o,_((" "+Zu(o)+" ").replace(" "+d+" "," ")))}function kp(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function Zu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function An(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&GR(o,d)}function GR(o,d){var f=!1,y="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(y)}catch{if(d===1)return}d=Math.round(d*100),f?(f.Enabled=d!==100,f.Opacity=d):o.style.filter+=" progid:"+y+"(opacity="+d+")"}function Ku(o){for(var d=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in d)return o[f];return!1}function La(o,d,f){var y=d||new E(0,0);o.style[Sp]=(Me.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(f?" scale("+f+")":"")}function Xt(o,d){o._leaflet_pos=d,Me.any3d?La(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function Ia(o){return o._leaflet_pos||new E(0,0)}var Ec,Tc,Pp;if("onselectstart"in document)Ec=function(){Ke(window,"selectstart",xr)},Tc=function(){Nt(window,"selectstart",xr)};else{var Rc=Ku(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ec=function(){if(Rc){var o=document.documentElement.style;Pp=o[Rc],o[Rc]="none"}},Tc=function(){Rc&&(document.documentElement.style[Rc]=Pp,Pp=void 0)}}function Ep(){Ke(window,"dragstart",xr)}function Tp(){Nt(window,"dragstart",xr)}var Gu,Rp;function Ap(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Qu(),Gu=o,Rp=o.style.outlineStyle,o.style.outlineStyle="none",Ke(window,"keydown",Qu))}function Qu(){Gu&&(Gu.style.outlineStyle=Rp,Gu=void 0,Rp=void 0,Nt(window,"keydown",Qu))}function C_(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Mp(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var QR={__proto__:null,TRANSFORM:Sp,TRANSITION:kc,TRANSITION_END:N_,get:S_,getStyle:Pc,create:ut,remove:Mt,empty:qu,toFront:$o,toBack:zo,hasClass:Cp,addClass:Je,removeClass:Wt,setClass:kp,getClass:Zu,setOpacity:An,testProp:Ku,setTransform:La,setPosition:Xt,getPosition:Ia,get disableTextSelection(){return Ec},get enableTextSelection(){return Tc},disableImageDrag:Ep,enableImageDrag:Tp,preventOutline:Ap,restoreOutline:Qu,getSizedParentNode:C_,getScale:Mp};function Ke(o,d,f,y){if(d&&typeof d=="object")for(var C in d)Lp(o,C,d[C],f);else{d=N(d);for(var P=0,D=d.length;P<D;P++)Lp(o,d[P],f,y)}return this}var Ns="_leaflet_events";function Nt(o,d,f,y){if(arguments.length===1)k_(o),delete o[Ns];else if(d&&typeof d=="object")for(var C in d)Ip(o,C,d[C],f);else if(d=N(d),arguments.length===2)k_(o,function(H){return k(d,H)!==-1});else for(var P=0,D=d.length;P<D;P++)Ip(o,d[P],f,y);return this}function k_(o,d){for(var f in o[Ns]){var y=f.split(/\d/)[0];(!d||d(y))&&Ip(o,y,null,null,f)}}var Op={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Lp(o,d,f,y){var C=d+u(f)+(y?"_"+u(y):"");if(o[Ns]&&o[Ns][C])return this;var P=function(H){return f.call(y||o,H||window.event)},D=P;!Me.touchNative&&Me.pointer&&d.indexOf("touch")===0?P=$R(o,d,P):Me.touch&&d==="dblclick"?P=ZR(o,P):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(Op[d]||d,P,Me.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(P=function(H){H=H||window.event,Fp(o,H)&&D(H)},o.addEventListener(Op[d],P,!1)):o.addEventListener(d,D,!1):o.attachEvent("on"+d,P),o[Ns]=o[Ns]||{},o[Ns][C]=P}function Ip(o,d,f,y,C){C=C||d+u(f)+(y?"_"+u(y):"");var P=o[Ns]&&o[Ns][C];if(!P)return this;!Me.touchNative&&Me.pointer&&d.indexOf("touch")===0?zR(o,d,P):Me.touch&&d==="dblclick"?KR(o,P):"removeEventListener"in o?o.removeEventListener(Op[d]||d,P,!1):o.detachEvent("on"+d,P),o[Ns][C]=null}function Da(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Dp(o){return Lp(o,"wheel",Da),this}function Ac(o){return Ke(o,"mousedown touchstart dblclick contextmenu",Da),o._leaflet_disable_click=!0,this}function xr(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Fa(o){return xr(o),Da(o),this}function P_(o){if(o.composedPath)return o.composedPath();for(var d=[],f=o.target;f;)d.push(f),f=f.parentNode;return d}function E_(o,d){if(!d)return new E(o.clientX,o.clientY);var f=Mp(d),y=f.boundingClientRect;return new E((o.clientX-y.left)/f.x-d.clientLeft,(o.clientY-y.top)/f.y-d.clientTop)}var YR=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function T_(o){return Me.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/YR:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Fp(o,d){var f=d.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch{return!1}return f!==o}var XR={__proto__:null,on:Ke,off:Nt,stopPropagation:Da,disableScrollPropagation:Dp,disableClickPropagation:Ac,preventDefault:xr,stop:Fa,getPropagationPath:P_,getMousePosition:E_,getWheelDelta:T_,isExternalTarget:Fp,addListener:Ke,removeListener:Nt},R_=Q.extend({run:function(o,d,f,y){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Ia(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,f=this._duration*1e3;d<f?this._runFrame(this._easeOut(d/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var f=this._startPos.add(this._offset.multiplyBy(o));d&&f._round(),Xt(this._el,f),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),lt=Q.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=x(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(he(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kc&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,N_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,f){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(he(o),d,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=i({animate:f.animate},f.zoom),f.pan=i({animate:f.animate,duration:f.duration},f.pan));var y=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,f.zoom):this._tryAnimatedPan(o,f.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,f){var y=this.getZoomScale(d),C=this.getSize().divideBy(2),P=o instanceof E?o:this.latLngToContainerPoint(o),D=P.subtract(C).multiplyBy(1-1/y),H=this.containerPointToLatLng(C.add(D));return this.setView(H,d,{zoom:f})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():ke(o);var f=W(d.paddingTopLeft||d.padding||[0,0]),y=W(d.paddingBottomRight||d.padding||[0,0]),C=this.getBoundsZoom(o,!1,f.add(y));if(C=typeof d.maxZoom=="number"?Math.min(d.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var P=y.subtract(f).divideBy(2),D=this.project(o.getSouthWest(),C),H=this.project(o.getNorthEast(),C),Y=this.unproject(D.add(H).divideBy(2).add(P),C);return{center:Y,zoom:C}},fitBounds:function(o,d){if(o=ke(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,d);return this.setView(f.center,f.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=W(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new R_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,f){if(f=f||{},f.animate===!1||!Me.any3d)return this.setView(o,d,f);this._stop();var y=this.project(this.getCenter()),C=this.project(o),P=this.getSize(),D=this._zoom;o=he(o),d=d===void 0?D:d;var H=Math.max(P.x,P.y),Y=H*this.getZoomScale(D,d),se=C.distanceTo(y)||1,_e=1.42,$e=_e*_e;function nt(Jt){var lh=Jt?-1:1,z4=Jt?Y:H,B4=Y*Y-H*H+lh*$e*$e*se*se,U4=2*z4*$e*se,Gp=B4/U4,uw=Math.sqrt(Gp*Gp+1)-Gp,V4=uw<1e-9?-18:Math.log(uw);return V4}function $r(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function or(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function On(Jt){return $r(Jt)/or(Jt)}var Jr=nt(0);function qo(Jt){return H*(or(Jr)/or(Jr+_e*Jt))}function I4(Jt){return H*(or(Jr)*On(Jr+_e*Jt)-$r(Jr))/$e}function D4(Jt){return 1-Math.pow(1-Jt,1.5)}var F4=Date.now(),cw=(nt(1)-Jr)/_e,$4=f.duration?1e3*f.duration:1e3*cw*.8;function dw(){var Jt=(Date.now()-F4)/$4,lh=D4(Jt)*cw;Jt<=1?(this._flyToFrame=G(dw,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(I4(lh)/se)),D),this.getScaleZoom(H/qo(lh),D),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),dw.call(this),this},flyToBounds:function(o,d){var f=this._getBoundsCenterZoom(o,d);return this.flyTo(f.center,f.zoom,d)},setMaxBounds:function(o){return o=ke(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var f=this.getCenter(),y=this._limitCenter(f,this._zoom,ke(o));return f.equals(y)||this.panTo(y,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var f=W(d.paddingTopLeft||d.padding||[0,0]),y=W(d.paddingBottomRight||d.padding||[0,0]),C=this.project(this.getCenter()),P=this.project(o),D=this.getPixelBounds(),H=de([D.min.add(f),D.max.subtract(y)]),Y=H.getSize();if(!H.contains(P)){this._enforcingBounds=!0;var se=P.subtract(H.getCenter()),_e=H.extend(P).getSize().subtract(Y);C.x+=se.x<0?-_e.x:_e.x,C.y+=se.y<0?-_e.y:_e.y,this.panTo(this.unproject(C),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),y=d.divideBy(2).round(),C=f.divideBy(2).round(),P=y.subtract(C);return!P.x&&!P.y?this:(o.animate&&o.pan?this.panBy(P):(o.pan&&this._rawPanBy(P),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,f,o):navigator.geolocation.getCurrentPosition(d,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var d=o.code,f=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var d=o.coords.latitude,f=o.coords.longitude,y=new Pe(d,f),C=y.toBounds(o.coords.accuracy*2),P=this._locateOptions;if(P.setView){var D=this.getBoundsZoom(C);this.setView(y,P.maxZoom?Math.min(D,P.maxZoom):D)}var H={latlng:y,bounds:C,timestamp:o.timestamp};for(var Y in o.coords)typeof o.coords[Y]=="number"&&(H[Y]=o.coords[Y]);this.fire("locationfound",H)}},addHandler:function(o,d){if(!d)return this;var f=this[o]=new d(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Mt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),y=ut("div",f,d||this._mapPane);return o&&(this._panes[o]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new Ne(d,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,f){o=ke(o),f=W(f||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),P=this.getMaxZoom(),D=o.getNorthWest(),H=o.getSouthEast(),Y=this.getSize().subtract(f),se=de(this.project(H,y),this.project(D,y)).getSize(),_e=Me.any3d?this.options.zoomSnap:1,$e=Y.x/se.x,nt=Y.y/se.y,$r=d?Math.max($e,nt):Math.min($e,nt);return y=this.getScaleZoom($r,y),_e&&(y=Math.round(y/(_e/100))*(_e/100),y=d?Math.ceil(y/_e)*_e:Math.floor(y/_e)*_e),Math.max(C,Math.min(P,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var f=this._getTopLeftPoint(o,d);return new J(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var f=this.options.crs;return d=d===void 0?this._zoom:d,f.scale(o)/f.scale(d)},getScaleZoom:function(o,d){var f=this.options.crs;d=d===void 0?this._zoom:d;var y=f.zoom(o*f.scale(d));return isNaN(y)?1/0:y},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(he(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(W(o),d)},layerPointToLatLng:function(o){var d=W(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(he(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(he(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ke(o))},distance:function(o,d){return this.options.crs.distance(he(o),he(d))},containerPointToLayerPoint:function(o){return W(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return W(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(W(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(o)))},mouseEventToContainerPoint:function(o){return E_(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=S_(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,Je(o,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Pc(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(o.markerPane,"leaflet-zoom-hide"),Je(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,f){Xt(this._mapPane,new E(0,0));var y=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var C=this._zoom!==d;this._moveStart(C,f)._move(o,d)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,f,y){d===void 0&&(d=this._zoom);var C=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),y?f&&f.pinch&&this.fire("zoom",f):((C||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Xt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var d=o?Nt:Ke;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var f=[],y,C=d==="mouseout"||d==="mouseover",P=o.target||o.srcElement,D=!1;P;){if(y=this._targets[u(P)],y&&(d==="click"||d==="preclick")&&this._draggableMoved(y)){D=!0;break}if(y&&y.listens(d,!0)&&(C&&!Fp(P,o)||(f.push(y),C))||P===this._container)break;P=P.parentNode}return!f.length&&!D&&!C&&this.listens(d,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var f=o.type;f==="mousedown"&&Ap(d),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,f){if(o.type==="click"){var y=i({},o);y.type="preclick",this._fireDOMEvent(y,y.type,f)}var C=this._findEventTargets(o,d);if(f){for(var P=[],D=0;D<f.length;D++)f[D].listens(d,!0)&&P.push(f[D]);C=P.concat(C)}if(C.length){d==="contextmenu"&&xr(o);var H=C[0],Y={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var se=H.getLatLng&&(!H._radius||H._radius<=10);Y.containerPoint=se?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(o),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=se?H.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(D=0;D<C.length;D++)if(C[D].fire(d,Y,!0),Y.originalEvent._stopped||C[D].options.bubblingMouseEvents===!1&&k(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return Ia(this._mapPane)||new E(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var f=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var f=this.getSize()._divideBy(2);return this.project(o,d)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,f){var y=this._getNewPixelOrigin(f,d);return this.project(o,d)._subtract(y)},_latLngBoundsToNewLayerBounds:function(o,d,f){var y=this._getNewPixelOrigin(f,d);return de([this.project(o.getSouthWest(),d)._subtract(y),this.project(o.getNorthWest(),d)._subtract(y),this.project(o.getSouthEast(),d)._subtract(y),this.project(o.getNorthEast(),d)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,f){if(!f)return o;var y=this.project(o,d),C=this.getSize().divideBy(2),P=new J(y.subtract(C),y.add(C)),D=this._getBoundsOffset(P,f,d);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?o:this.unproject(y.add(D),d)},_limitOffset:function(o,d){if(!d)return o;var f=this.getPixelBounds(),y=new J(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(y,d))},_getBoundsOffset:function(o,d,f){var y=de(this.project(d.getNorthEast(),f),this.project(d.getSouthWest(),f)),C=y.min.subtract(o.min),P=y.max.subtract(o.max),D=this._rebound(C.x,-P.x),H=this._rebound(C.y,-P.y);return new E(D,H)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),f=this.getMaxZoom(),y=Me.any3d?this.options.zoomSnap:1;return y&&(o=Math.round(o/y)*y),Math.max(d,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var f=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,d),!0)},_createAnimProxy:function(){var o=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var f=Sp,y=this._proxy.style[f];La(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),y===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();La(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(d),C=this._getCenterOffset(o)._divideBy(1-1/y);return f.animate!==!0&&!this.getSize().contains(C)?!1:(G(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,f,y){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function JR(o,d){return new lt(o,d)}var Jn=q.extend({options:{position:"topright"},initialize:function(o){x(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),f=this.getPosition(),y=o._controlCorners[f];return Je(d,"leaflet-control"),f.indexOf("bottom")!==-1?y.insertBefore(d,y.firstChild):y.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Mc=function(o){return new Jn(o)};lt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",f=this._controlContainer=ut("div",d+"control-container",this._container);function y(C,P){var D=d+C+" "+d+P;o[C+P]=ut("div",D,f)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Mt(this._controlCorners[o]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var A_=Jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,f,y){return f<y?-1:y<f?1:0}},initialize:function(o,d,f){x(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in o)this._addLayer(o[y],y);for(y in d)this._addLayer(d[y],y,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Jn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=ut("div",o),f=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Ac(d),Dp(d);var y=this._section=ut("section",o+"-list");f&&(this._map.on("click",this.collapse,this),Ke(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=ut("a",o+"-toggle",d);C.href="#",C.title="Layers",C.setAttribute("role","button"),Ke(C,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){xr(P),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ut("div",o+"-base",y),this._separator=ut("div",o+"-separator",y),this._overlaysList=ut("div",o+"-overlays",y),d.appendChild(y)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qu(this._baseLayersList),qu(this._overlaysList),this._layerControlInputs=[];var o,d,f,y,C=0;for(f=0;f<this._layers.length;f++)y=this._layers[f],this._addItem(y),d=d||y.overlay,o=o||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(u(o.target)),f=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,d)},_createRadioElement:function(o,d){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=f,y.firstChild},_addItem:function(o){var d=document.createElement("label"),f=this._map.hasLayer(o.layer),y;o.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=f):y=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(y),y.layerId=u(o.layer),Ke(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var P=document.createElement("span");d.appendChild(P),P.appendChild(y),P.appendChild(C);var D=o.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,d,f,y=[],C=[];this._handlingClick=!0;for(var P=o.length-1;P>=0;P--)d=o[P],f=this._getLayer(d.layerId).layer,d.checked?y.push(f):d.checked||C.push(f);for(P=0;P<C.length;P++)this._map.hasLayer(C[P])&&this._map.removeLayer(C[P]);for(P=0;P<y.length;P++)this._map.hasLayer(y[P])||this._map.addLayer(y[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,f,y=this._map.getZoom(),C=o.length-1;C>=0;C--)d=o[C],f=this._getLayer(d.layerId).layer,d.disabled=f.options.minZoom!==void 0&&y<f.options.minZoom||f.options.maxZoom!==void 0&&y>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ke(o,"click",xr),this.expand();var d=this;setTimeout(function(){Nt(o,"click",xr),d._preventClick=!1})}}),e4=function(o,d,f){return new A_(o,d,f)},$p=Jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",f=ut("div",d+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,d+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,d+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,f,y,C){var P=ut("a",f,y);return P.innerHTML=o,P.href="#",P.title=d,P.setAttribute("role","button"),P.setAttribute("aria-label",d),Ac(P),Ke(P,"click",Fa),Ke(P,"click",C,this),Ke(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";Wt(this._zoomInButton,d),Wt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Je(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Je(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $p,this.addControl(this.zoomControl))});var t4=function(o){return new $p(o)},M_=Jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",f=ut("div",d),y=this.options;return this._addScales(y,d+"-line",f),o.on(y.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,f){o.metric&&(this._mScale=ut("div",d,f)),o.imperial&&(this._iScale=ut("div",d,f))},_update:function(){var o=this._map,d=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),f=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,f,d/o)},_updateImperial:function(o){var d=o*3.2808399,f,y,C;d>5280?(f=d/5280,y=this._getRoundNum(f),this._updateScale(this._iScale,y+" mi",y/f)):(C=this._getRoundNum(d),this._updateScale(this._iScale,C+" ft",C/d))},_updateScale:function(o,d,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),f=o/d;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,d*f}}),r4=function(o){return new M_(o)},n4='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zp=Jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?n4+" ":"")+"Leaflet</a>"},initialize:function(o){x(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Ac(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&new zp().addTo(this)});var s4=function(o){return new zp(o)};Jn.Layers=A_,Jn.Zoom=$p,Jn.Scale=M_,Jn.Attribution=zp,Mc.layers=e4,Mc.zoom=t4,Mc.scale=r4,Mc.attribution=s4;var Ss=q.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ss.addTo=function(o,d){return o.addHandler(d,this),this};var i4={Events:K},O_=Me.touch?"touchstart mousedown":"mousedown",Ei=Q.extend({options:{clickTolerance:3},initialize:function(o,d,f,y){x(this,y),this._element=o,this._dragStartTarget=d||o,this._preventOutline=f},enable:function(){this._enabled||(Ke(this._dragStartTarget,O_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,O_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Cp(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ei._dragging=this,this._preventOutline&&Ap(this._element),Ep(),Ec(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,f=C_(this._element);this._startPoint=new E(d.clientX,d.clientY),this._startPos=Ia(this._element),this._parentScale=Mp(f);var y=o.type==="mousedown";Ke(document,y?"mousemove":"touchmove",this._onMove,this),Ke(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,f=new E(d.clientX,d.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,xr(o),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Xt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Tp(),Tc();var d=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,d&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function L_(o,d,f){var y,C=[1,4,2,8],P,D,H,Y,se,_e,$e,nt;for(P=0,_e=o.length;P<_e;P++)o[P]._code=$a(o[P],d);for(H=0;H<4;H++){for($e=C[H],y=[],P=0,_e=o.length,D=_e-1;P<_e;D=P++)Y=o[P],se=o[D],Y._code&$e?se._code&$e||(nt=Yu(se,Y,$e,d,f),nt._code=$a(nt,d),y.push(nt)):(se._code&$e&&(nt=Yu(se,Y,$e,d,f),nt._code=$a(nt,d),y.push(nt)),y.push(Y));o=y}return o}function I_(o,d){var f,y,C,P,D,H,Y,se,_e;if(!o||o.length===0)throw new Error("latlngs not passed");Mn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var $e=he([0,0]),nt=ke(o),$r=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());$r<1700&&($e=Bp(o));var or=o.length,On=[];for(f=0;f<or;f++){var Jr=he(o[f]);On.push(d.project(he([Jr.lat-$e.lat,Jr.lng-$e.lng])))}for(H=Y=se=0,f=0,y=or-1;f<or;y=f++)C=On[f],P=On[y],D=C.y*P.x-P.y*C.x,Y+=(C.x+P.x)*D,se+=(C.y+P.y)*D,H+=D*3;H===0?_e=On[0]:_e=[Y/H,se/H];var qo=d.unproject(W(_e));return he([qo.lat+$e.lat,qo.lng+$e.lng])}function Bp(o){for(var d=0,f=0,y=0,C=0;C<o.length;C++){var P=he(o[C]);d+=P.lat,f+=P.lng,y++}return he([d/y,f/y])}var a4={__proto__:null,clipPolygon:L_,polygonCenter:I_,centroid:Bp};function D_(o,d){if(!d||!o.length)return o.slice();var f=d*d;return o=c4(o,f),o=l4(o,f),o}function F_(o,d,f){return Math.sqrt(Oc(o,d,f,!0))}function o4(o,d,f){return Oc(o,d,f)}function l4(o,d){var f=o.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(f);C[0]=C[f-1]=1,Up(o,C,d,0,f-1);var P,D=[];for(P=0;P<f;P++)C[P]&&D.push(o[P]);return D}function Up(o,d,f,y,C){var P=0,D,H,Y;for(H=y+1;H<=C-1;H++)Y=Oc(o[H],o[y],o[C],!0),Y>P&&(D=H,P=Y);P>f&&(d[D]=1,Up(o,d,f,y,D),Up(o,d,f,D,C))}function c4(o,d){for(var f=[o[0]],y=1,C=0,P=o.length;y<P;y++)d4(o[y],o[C])>d&&(f.push(o[y]),C=y);return C<P-1&&f.push(o[P-1]),f}var $_;function z_(o,d,f,y,C){var P=y?$_:$a(o,f),D=$a(d,f),H,Y,se;for($_=D;;){if(!(P|D))return[o,d];if(P&D)return!1;H=P||D,Y=Yu(o,d,H,f,C),se=$a(Y,f),H===P?(o=Y,P=se):(d=Y,D=se)}}function Yu(o,d,f,y,C){var P=d.x-o.x,D=d.y-o.y,H=y.min,Y=y.max,se,_e;return f&8?(se=o.x+P*(Y.y-o.y)/D,_e=Y.y):f&4?(se=o.x+P*(H.y-o.y)/D,_e=H.y):f&2?(se=Y.x,_e=o.y+D*(Y.x-o.x)/P):f&1&&(se=H.x,_e=o.y+D*(H.x-o.x)/P),new E(se,_e,C)}function $a(o,d){var f=0;return o.x<d.min.x?f|=1:o.x>d.max.x&&(f|=2),o.y<d.min.y?f|=4:o.y>d.max.y&&(f|=8),f}function d4(o,d){var f=d.x-o.x,y=d.y-o.y;return f*f+y*y}function Oc(o,d,f,y){var C=d.x,P=d.y,D=f.x-C,H=f.y-P,Y=D*D+H*H,se;return Y>0&&(se=((o.x-C)*D+(o.y-P)*H)/Y,se>1?(C=f.x,P=f.y):se>0&&(C+=D*se,P+=H*se)),D=o.x-C,H=o.y-P,y?D*D+H*H:new E(C,P)}function Mn(o){return!j(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function B_(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(o)}function U_(o,d){var f,y,C,P,D,H,Y,se;if(!o||o.length===0)throw new Error("latlngs not passed");Mn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var _e=he([0,0]),$e=ke(o),nt=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());nt<1700&&(_e=Bp(o));var $r=o.length,or=[];for(f=0;f<$r;f++){var On=he(o[f]);or.push(d.project(he([On.lat-_e.lat,On.lng-_e.lng])))}for(f=0,y=0;f<$r-1;f++)y+=or[f].distanceTo(or[f+1])/2;if(y===0)se=or[0];else for(f=0,P=0;f<$r-1;f++)if(D=or[f],H=or[f+1],C=D.distanceTo(H),P+=C,P>y){Y=(P-y)/C,se=[H.x-Y*(H.x-D.x),H.y-Y*(H.y-D.y)];break}var Jr=d.unproject(W(se));return he([Jr.lat+_e.lat,Jr.lng+_e.lng])}var u4={__proto__:null,simplify:D_,pointToSegmentDistance:F_,closestPointOnSegment:o4,clipSegment:z_,_getEdgeIntersection:Yu,_getBitCode:$a,_sqClosestPointOnSegment:Oc,isFlat:Mn,_flat:B_,polylineCenter:U_},Vp={project:function(o){return new E(o.lng,o.lat)},unproject:function(o){return new Pe(o.y,o.x)},bounds:new J([-180,-90],[180,90])},Wp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,f=this.R,y=o.lat*d,C=this.R_MINOR/f,P=Math.sqrt(1-C*C),D=P*Math.sin(y),H=Math.tan(Math.PI/4-y/2)/Math.pow((1-D)/(1+D),P/2);return y=-f*Math.log(Math.max(H,1e-10)),new E(o.lng*d*f,y)},unproject:function(o){for(var d=180/Math.PI,f=this.R,y=this.R_MINOR/f,C=Math.sqrt(1-y*y),P=Math.exp(-o.y/f),D=Math.PI/2-2*Math.atan(P),H=0,Y=.1,se;H<15&&Math.abs(Y)>1e-7;H++)se=C*Math.sin(D),se=Math.pow((1-se)/(1+se),C/2),Y=Math.PI/2-2*Math.atan(P*se)-D,D+=Y;return new Pe(D*d,o.x*d/f)}},h4={__proto__:null,LonLat:Vp,Mercator:Wp,SphericalMercator:He},f4=i({},Fe,{code:"EPSG:3395",projection:Wp,transformation:function(){var o=.5/(Math.PI*Wp.R);return Le(o,.5,-o,.5)}()}),V_=i({},Fe,{code:"EPSG:4326",projection:Vp,transformation:Le(1/180,1,-1/180,.5)}),m4=i({},ve,{projection:Vp,transformation:Le(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var f=d.lng-o.lng,y=d.lat-o.lat;return Math.sqrt(f*f+y*y)},infinite:!0});ve.Earth=Fe,ve.EPSG3395=f4,ve.EPSG3857=kt,ve.EPSG900913=Yt,ve.EPSG4326=V_,ve.Simple=m4;var es=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var f=this.getEvents();d.on(f,this),this.once("remove",function(){d.off(f,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=u(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,d){for(var f in this._layers)o.call(d,this._layers[f]);return this},_addLayers:function(o){o=o?j(o)?o:[o]:[];for(var d=0,f=o.length;d<f;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=u(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,f=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),d=C.maxZoom===void 0?d:Math.max(d,C.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bo=es.extend({initialize:function(o,d){x(this,d),this._layers={};var f,y;if(o)for(f=0,y=o.length;f<y;f++)this.addLayer(o[f])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),f,y;for(f in this._layers)y=this._layers[f],y[o]&&y[o].apply(y,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var f in this._layers)o.call(d,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),p4=function(o,d){return new Bo(o,d)},Ys=Bo.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Bo.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Bo.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ne;for(var d in this._layers){var f=this._layers[d];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),g4=function(o,d){return new Ys(o,d)},Uo=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){x(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(f,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(y,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(o,d){var f=this.options,y=f[d+"Size"];typeof y=="number"&&(y=[y,y]);var C=W(y),P=W(d==="shadow"&&f.shadowAnchor||f.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(f.className||""),P&&(o.style.marginLeft=-P.x+"px",o.style.marginTop=-P.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return Me.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function v4(o){return new Uo(o)}var Lc=Uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Lc.imagePath!="string"&&(Lc.imagePath=this._detectIconPath()),(this.options.imagePath||Lc.imagePath)+Uo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(f,y,C){var P=y.exec(f);return P&&P[C]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ut("div","leaflet-default-icon-path",document.body),d=Pc(o,"background-image")||Pc(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),W_=Ss.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ei(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,f=d._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,P=Ia(d._icon),D=f.getPixelBounds(),H=f.getPixelOrigin(),Y=de(D.min._subtract(H).add(C),D.max._subtract(H).subtract(C));if(!Y.contains(P)){var se=W((Math.max(Y.max.x,P.x)-Y.max.x)/(D.max.x-Y.max.x)-(Math.min(Y.min.x,P.x)-Y.min.x)/(D.min.x-Y.min.x),(Math.max(Y.max.y,P.y)-Y.max.y)/(D.max.y-Y.max.y)-(Math.min(Y.min.y,P.y)-Y.min.y)/(D.min.y-Y.min.y)).multiplyBy(y);f.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),Xt(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=G(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,f=d._shadow,y=Ia(d._icon),C=d._map.layerPointToLatLng(y);f&&Xt(f,y),d._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Xu=es.extend({options:{icon:new Lc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){x(this,d),this._latlng=he(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=he(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),y=!1;f!==this._icon&&(this._icon&&this._removeIcon(),y=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),Je(f,d),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(f,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),P=!1;C!==this._shadow&&(this._removeShadow(),P=!0),C&&(Je(C,d),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&P&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Xt(this._icon,o),this._shadow&&Xt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),W_)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new W_(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&An(this._icon,o),this._shadow&&An(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var d=this.options.icon.options,f=d.iconSize?W(d.iconSize):W(0,0),y=d.iconAnchor?W(d.iconAnchor):W(0,0);o.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:f.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function x4(o,d){return new Xu(o,d)}var Ti=es.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return x(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ju=Ti.extend({options:{fill:!0,radius:10},initialize:function(o,d){x(this,d),this._latlng=he(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=he(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return Ti.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,f=this._clickTolerance(),y=[o+f,d+f];this._pxBounds=new J(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function y4(o,d){return new Ju(o,d)}var Hp=Ju.extend({initialize:function(o,d,f){if(typeof d=="number"&&(d=i({},f,{radius:d})),x(this,d),this._latlng=he(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ti.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,f=this._map,y=f.options.crs;if(y.distance===Fe.distance){var C=Math.PI/180,P=this._mRadius/Fe.R/C,D=f.project([d+P,o]),H=f.project([d-P,o]),Y=D.add(H).divideBy(2),se=f.unproject(Y).lat,_e=Math.acos((Math.cos(P*C)-Math.sin(d*C)*Math.sin(se*C))/(Math.cos(d*C)*Math.cos(se*C)))/C;(isNaN(_e)||_e===0)&&(_e=P/Math.cos(Math.PI/180*d)),this._point=Y.subtract(f.getPixelOrigin()),this._radius=isNaN(_e)?0:Y.x-f.project([se,o-_e]).x,this._radiusY=Y.y-D.y}else{var $e=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint($e).x}this._updateBounds()}});function _4(o,d,f){return new Hp(o,d,f)}var Xs=Ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){x(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,f=null,y=Oc,C,P,D=0,H=this._parts.length;D<H;D++)for(var Y=this._parts[D],se=1,_e=Y.length;se<_e;se++){C=Y[se-1],P=Y[se];var $e=y(o,C,P,!0);$e<d&&(d=$e,f=y(o,C,P))}return f&&(f.distance=Math.sqrt(d)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return U_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=he(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ne,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],f=Mn(o),y=0,C=o.length;y<C;y++)f?(d[y]=he(o[y]),this._bounds.extend(d[y])):d[y]=this._convertLatLngs(o[y]);return d},_project:function(){var o=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new E(o,o);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,f){var y=o[0]instanceof Pe,C=o.length,P,D;if(y){for(D=[],P=0;P<C;P++)D[P]=this._map.latLngToLayerPoint(o[P]),f.extend(D[P]);d.push(D)}else for(P=0;P<C;P++)this._projectLatlngs(o[P],d,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,f,y,C,P,D,H,Y;for(f=0,C=0,P=this._rings.length;f<P;f++)for(Y=this._rings[f],y=0,D=Y.length;y<D-1;y++)H=z_(Y[y],Y[y+1],o,y,!0),H&&(d[C]=d[C]||[],d[C].push(H[0]),(H[1]!==Y[y+1]||y===D-2)&&(d[C].push(H[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,f=0,y=o.length;f<y;f++)o[f]=D_(o[f],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var f,y,C,P,D,H,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,P=this._parts.length;f<P;f++)for(H=this._parts[f],y=0,D=H.length,C=D-1;y<D;C=y++)if(!(!d&&y===0)&&F_(o,H[C],H[y])<=Y)return!0;return!1}});function w4(o,d){return new Xs(o,d)}Xs._flat=B_;var Vo=Xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=Xs.prototype._convertLatLngs.call(this,o),f=d.length;return f>=2&&d[0]instanceof Pe&&d[0].equals(d[f-1])&&d.pop(),d},_setLatLngs:function(o){Xs.prototype._setLatLngs.call(this,o),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,f=new E(d,d);if(o=new J(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,P;y<C;y++)P=L_(this._rings[y],o,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,f,y,C,P,D,H,Y,se;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(P=0,Y=this._parts.length;P<Y;P++)for(f=this._parts[P],D=0,se=f.length,H=se-1;D<se;H=D++)y=f[D],C=f[H],y.y>o.y!=C.y>o.y&&o.x<(C.x-y.x)*(o.y-y.y)/(C.y-y.y)+y.x&&(d=!d);return d||Xs.prototype._containsPoint.call(this,o,!0)}});function b4(o,d){return new Vo(o,d)}var Js=Ys.extend({initialize:function(o,d){x(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=j(o)?o:o.features,f,y,C;if(d){for(f=0,y=d.length;f<y;f++)C=d[f],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var P=this.options;if(P.filter&&!P.filter(o))return this;var D=eh(o,P);return D?(D.feature=nh(o),D.defaultOptions=D.options,this.resetStyle(D),P.onEachFeature&&P.onEachFeature(o,D),this.addLayer(D)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function eh(o,d){var f=o.type==="Feature"?o.geometry:o,y=f?f.coordinates:null,C=[],P=d&&d.pointToLayer,D=d&&d.coordsToLatLng||qp,H,Y,se,_e;if(!y&&!f)return null;switch(f.type){case"Point":return H=D(y),H_(P,o,H,d);case"MultiPoint":for(se=0,_e=y.length;se<_e;se++)H=D(y[se]),C.push(H_(P,o,H,d));return new Ys(C);case"LineString":case"MultiLineString":return Y=th(y,f.type==="LineString"?0:1,D),new Xs(Y,d);case"Polygon":case"MultiPolygon":return Y=th(y,f.type==="Polygon"?1:2,D),new Vo(Y,d);case"GeometryCollection":for(se=0,_e=f.geometries.length;se<_e;se++){var $e=eh({geometry:f.geometries[se],type:"Feature",properties:o.properties},d);$e&&C.push($e)}return new Ys(C);case"FeatureCollection":for(se=0,_e=f.features.length;se<_e;se++){var nt=eh(f.features[se],d);nt&&C.push(nt)}return new Ys(C);default:throw new Error("Invalid GeoJSON object.")}}function H_(o,d,f,y){return o?o(d,f):new Xu(f,y&&y.markersInheritOptions&&y)}function qp(o){return new Pe(o[1],o[0],o[2])}function th(o,d,f){for(var y=[],C=0,P=o.length,D;C<P;C++)D=d?th(o[C],d-1,f):(f||qp)(o[C]),y.push(D);return y}function Zp(o,d){return o=he(o),o.alt!==void 0?[g(o.lng,d),g(o.lat,d),g(o.alt,d)]:[g(o.lng,d),g(o.lat,d)]}function rh(o,d,f,y){for(var C=[],P=0,D=o.length;P<D;P++)C.push(d?rh(o[P],Mn(o[P])?0:d-1,f,y):Zp(o[P],y));return!d&&f&&C.length>0&&C.push(C[0].slice()),C}function Wo(o,d){return o.feature?i({},o.feature,{geometry:d}):nh(d)}function nh(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Kp={toGeoJSON:function(o){return Wo(this,{type:"Point",coordinates:Zp(this.getLatLng(),o)})}};Xu.include(Kp),Hp.include(Kp),Ju.include(Kp),Xs.include({toGeoJSON:function(o){var d=!Mn(this._latlngs),f=rh(this._latlngs,d?1:0,!1,o);return Wo(this,{type:(d?"Multi":"")+"LineString",coordinates:f})}}),Vo.include({toGeoJSON:function(o){var d=!Mn(this._latlngs),f=d&&!Mn(this._latlngs[0]),y=rh(this._latlngs,f?2:d?1:0,!0,o);return d||(y=[y]),Wo(this,{type:(f?"Multi":"")+"Polygon",coordinates:y})}}),Bo.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(f){d.push(f.toGeoJSON(o).geometry.coordinates)}),Wo(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var f=d==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var P=C.toGeoJSON(o);if(f)y.push(P.geometry);else{var D=nh(P);D.type==="FeatureCollection"?y.push.apply(y,D.features):y.push(D)}}}),f?Wo(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function q_(o,d){return new Js(o,d)}var j4=q_,sh=es.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,f){this._url=o,this._bounds=ke(d),x(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&$o(this._image),this},bringToBack:function(){return this._map&&zo(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ke(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:ut("img");if(Je(d,"leaflet-image-layer"),this._zoomAnimated&&Je(d,"leaflet-zoom-animated"),this.options.className&&Je(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onload=l(this.fire,this,"load"),d.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;La(this._image,f,d)},_reset:function(){var o=this._image,d=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=d.getSize();Xt(o,d.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){An(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),N4=function(o,d,f){return new sh(o,d,f)},Z_=sh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:ut("video");if(Je(d,"leaflet-image-layer"),this._zoomAnimated&&Je(d,"leaflet-zoom-animated"),this.options.className&&Je(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onloadeddata=l(this.fire,this,"load"),o){for(var f=d.getElementsByTagName("source"),y=[],C=0;C<f.length;C++)y.push(f[C].src);this._url=f.length>0?y:[d.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var D=ut("source");D.src=this._url[P],d.appendChild(D)}}});function S4(o,d,f){return new Z_(o,d,f)}var K_=sh.extend({_initImage:function(){var o=this._image=this._url;Je(o,"leaflet-image-layer"),this._zoomAnimated&&Je(o,"leaflet-zoom-animated"),this.options.className&&Je(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function C4(o,d,f){return new K_(o,d,f)}var Cs=es.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof Pe||j(o))?(this._latlng=he(o),x(this,d)):(x(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&An(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&An(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(An(this._container,0),this._removeTimeout=setTimeout(l(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=he(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$o(this._container),this},bringToBack:function(){return this._map&&zo(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof Ys){d=null;var f=this._source._layers;for(var y in f)if(f[y]._map){d=f[y];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=W(this.options.offset),f=this._getAnchor();this._zoomAnimated?Xt(this._container,o.add(f)):d=d.add(o).add(f);var y=this._containerBottom=-d.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(o,d,f,y){var C=d;return C instanceof o||(C=new o(y).setContent(d)),f&&C.setLatLng(f),C}}),es.include({_initOverlay:function(o,d,f,y){var C=f;return C instanceof o?(x(C,y),C._source=this):(C=d&&!y?d:new o(y,this),C.setContent(f)),C}});var ih=Cs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Cs.prototype.openOn.call(this,o)},onAdd:function(o){Cs.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ti||this._source.on("preclick",Da))},onRemove:function(o){Cs.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ti||this._source.off("preclick",Da))},getEvents:function(){var o=Cs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=ut("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ut("div",o+"-content-wrapper",d);if(this._contentNode=ut("div",o+"-content",f),Ac(d),Dp(this._contentNode),Ke(d,"contextmenu",Da),this._tipContainer=ut("div",o+"-tip-container",d),this._tip=ut("div",o+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=ut("a",o+"-close-button",d);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(y,"click",function(C){xr(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),d.width=f+1+"px",d.whiteSpace="",d.height="";var y=o.offsetHeight,C=this.options.maxHeight,P="leaflet-popup-scrolled";C&&y>C?(d.height=C+"px",Je(o,P)):Wt(o,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();Xt(this._container,d.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,d=parseInt(Pc(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+d,y=this._containerWidth,C=new E(this._containerLeft,-f-this._containerBottom);C._add(Ia(this._container));var P=o.layerPointToContainerPoint(C),D=W(this.options.autoPanPadding),H=W(this.options.autoPanPaddingTopLeft||D),Y=W(this.options.autoPanPaddingBottomRight||D),se=o.getSize(),_e=0,$e=0;P.x+y+Y.x>se.x&&(_e=P.x+y-se.x+Y.x),P.x-_e-H.x<0&&(_e=P.x-H.x),P.y+f+Y.y>se.y&&($e=P.y+f-se.y+Y.y),P.y-$e-H.y<0&&($e=P.y-H.y),(_e||$e)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([_e,$e]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),k4=function(o,d){return new ih(o,d)};lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(o,d,f){return this._initOverlay(ih,o,d,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),es.include({bindPopup:function(o,d){return this._popup=this._initOverlay(ih,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ys||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Fa(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof Ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ah=Cs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Cs.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Cs.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Cs.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,f,y=this._map,C=this._container,P=y.latLngToContainerPoint(y.getCenter()),D=y.layerPointToContainerPoint(o),H=this.options.direction,Y=C.offsetWidth,se=C.offsetHeight,_e=W(this.options.offset),$e=this._getAnchor();H==="top"?(d=Y/2,f=se):H==="bottom"?(d=Y/2,f=0):H==="center"?(d=Y/2,f=se/2):H==="right"?(d=0,f=se/2):H==="left"?(d=Y,f=se/2):D.x<P.x?(H="right",d=0,f=se/2):(H="left",d=Y+(_e.x+$e.x)*2,f=se/2),o=o.subtract(W(d,f,!0)).add(_e).add($e),Wt(C,"leaflet-tooltip-right"),Wt(C,"leaflet-tooltip-left"),Wt(C,"leaflet-tooltip-top"),Wt(C,"leaflet-tooltip-bottom"),Je(C,"leaflet-tooltip-"+H),Xt(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&An(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),P4=function(o,d){return new ah(o,d)};lt.include({openTooltip:function(o,d,f){return this._initOverlay(ah,o,d,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),es.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ah,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[d](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ys||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&(Ke(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ke(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var d=o.latlng,f,y;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),y=this._map.containerPointToLayerPoint(f),d=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(d)}});var G_=Uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?(qu(d),d.appendChild(f.html)):d.innerHTML=f.html!==!1?f.html:"",f.bgPos){var y=W(f.bgPos);d.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function E4(o){return new G_(o)}Uo.Default=Lc;var Ic=es.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){x(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Mt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($o(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof E?o:new E(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,f=-o(-1/0,1/0),y=0,C=d.length,P;y<C;y++)P=d[y].style.zIndex,d[y]!==this._container&&P&&(f=o(f,+P));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){An(this._container,this.options.opacity);var o=+new Date,d=!1,f=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var P=Math.min(1,(o-C.loaded)/200);An(C.el,P),P<1?d=!0:(C.active?f=!0:this._onOpaqueTile(C),C.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),d&&(U(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=d-Math.abs(o-f),this._onUpdateLevel(f)):(Mt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var y=this._levels[o],C=this._map;return y||(y=this._levels[o]={},y.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=d,y.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),y.zoom=o,this._setZoomTransform(y,C.getCenter(),C.getZoom()),m(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,d,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var y=d.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Mt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,f,y){var C=Math.floor(o/2),P=Math.floor(d/2),D=f-1,H=new E(+C,+P);H.z=+D;var Y=this._tileCoordsToKey(H),se=this._tiles[Y];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),D>y?this._retainParent(C,P,D,y):!1)},_retainChildren:function(o,d,f,y){for(var C=2*o;C<2*o+2;C++)for(var P=2*d;P<2*d+2;P++){var D=new E(C,P);D.z=f+1;var H=this._tileCoordsToKey(D),Y=this._tiles[H];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);f+1<y&&this._retainChildren(C,P,f+1,y)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,f,y){var C=Math.round(d);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var P=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||P)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,d)},_setZoomTransform:function(o,d,f){var y=this._map.getZoomScale(f,o.zoom),C=o.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(d,f)).round();Me.any3d?La(o.el,C,y):Xt(o.el,C)},_resetGrid:function(){var o=this._map,d=o.options.crs,f=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],y).x/f.x),Math.ceil(o.project([0,d.wrapLng[1]],y).x/f.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],y).y/f.x),Math.ceil(o.project([d.wrapLat[1],0],y).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,f=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),y=d.getZoomScale(f,this._tileZoom),C=d.project(o,this._tileZoom).floor(),P=d.getSize().divideBy(y*2);return new J(C.subtract(P),C.add(P))},_update:function(o){var d=this._map;if(d){var f=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(y),P=C.getCenter(),D=[],H=this.options.keepBuffer,Y=new J(C.getBottomLeft().subtract([H,-H]),C.getTopRight().add([H,-H]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var _e=this._tiles[se].coords;(_e.z!==this._tileZoom||!Y.contains(new E(_e.x,_e.y)))&&(this._tiles[se].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var $e=C.min.y;$e<=C.max.y;$e++)for(var nt=C.min.x;nt<=C.max.x;nt++){var $r=new E(nt,$e);if($r.z=this._tileZoom,!!this._isValidTile($r)){var or=this._tiles[this._tileCoordsToKey($r)];or?or.current=!0:D.push($r)}}if(D.sort(function(Jr,qo){return Jr.distanceTo(P)-qo.distanceTo(P)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var On=document.createDocumentFragment();for(nt=0;nt<D.length;nt++)this._addTile(D[nt],On);this._level.el.appendChild(On)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var f=this._globalTileRange;if(!d.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!d.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(o);return ke(this.options.bounds).overlaps(y)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,f=this.getTileSize(),y=o.scaleBy(f),C=y.add(f),P=d.unproject(y,o.z),D=d.unproject(C,o.z);return[P,D]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),f=new Ne(d[0],d[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),f=new E(+d[0],+d[1]);return f.z=+d[2],f},_removeTile:function(o){var d=this._tiles[o];d&&(Mt(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Je(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=m,o.onmousemove=m,Me.ielt9&&this.options.opacity<1&&An(o,this.options.opacity)},_addTile:function(o,d){var f=this._getTilePos(o),y=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),l(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&G(l(this._tileReady,this,o,null,C)),Xt(C,f),this._tiles[y]={el:C,coords:o,current:!0},d.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,d,f){d&&this.fire("tileerror",{error:d,tile:f,coords:o});var y=this._tileCoordsToKey(o);f=this._tiles[y],f&&(f.loaded=+new Date,this._map._fadeAnimated?(An(f.el,0),U(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),d||(Je(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new E(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new J(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function T4(o){return new Ic(o)}var Ho=Ic.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=x(this,d),d.detectRetina&&Me.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var f=document.createElement("img");return Ke(f,"load",l(this._tileOnLoad,this,d,f)),Ke(f,"error",l(this._tileOnError,this,d,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var d={r:Me.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=f),d["-y"]=f}return b(this._url,i(d,this.options))},_tileOnLoad:function(o,d){Me.ielt9?setTimeout(l(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,f){var y=this.options.errorTileUrl;y&&d.getAttribute("src")!==y&&(d.src=y),o(f,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,f=this.options.zoomReverse,y=this.options.zoomOffset;return f&&(o=d-o),o+y},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=m,d.onerror=m,!d.complete)){d.src=T;var f=this._tiles[o].coords;Mt(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:f})}},_removeTile:function(o){var d=this._tiles[o];if(d)return d.el.setAttribute("src",T),Ic.prototype._removeTile.call(this,o)},_tileReady:function(o,d,f){if(!(!this._map||f&&f.getAttribute("src")===T))return Ic.prototype._tileReady.call(this,o,d,f)}});function Q_(o,d){return new Ho(o,d)}var Y_=Ho.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var f=i({},this.defaultWmsParams);for(var y in d)y in this.options||(f[y]=d[y]);d=x(this,d);var C=d.detectRetina&&Me.retina?2:1,P=this.getTileSize();f.width=P.x*C,f.height=P.y*C,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Ho.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),f=this._crs,y=de(f.project(d[0]),f.project(d[1])),C=y.min,P=y.max,D=(this._wmsVersion>=1.3&&this._crs===V_?[C.y,C.x,P.y,P.x]:[C.x,C.y,P.x,P.y]).join(","),H=Ho.prototype.getTileUrl.call(this,o);return H+S(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(o,d){return i(this.wmsParams,o),d||this.redraw(),this}});function R4(o,d){return new Y_(o,d)}Ho.WMS=Y_,Q_.wms=R4;var ei=es.extend({options:{padding:.1},initialize:function(o){x(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var f=this._map.getZoomScale(d,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,d),P=y.multiplyBy(-f).add(C).subtract(this._map._getNewPixelOrigin(o,d));Me.any3d?La(this._container,P,f):Xt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),f=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new J(f,f.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),X_=ei.extend({options:{tolerance:0},getEvents:function(){var o=ei.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ke(o,"mousemove",this._onMouseMove,this),Ke(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Mt(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var o=this._bounds,d=this._container,f=o.getSize(),y=Me.retina?2:1;Xt(d,o.min),d.width=y*f.x,d.height=y*f.y,d.style.width=f.x+"px",d.style.height=f.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,f=d.next,y=d.prev;f?f.prev=y:this._drawLast=y,y?y.next=f:this._drawFirst=f,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),f=[],y,C;for(C=0;C<d.length;C++){if(y=Number(d[C]),isNaN(y))return;f.push(y)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var f=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)o=y.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(this._drawing){var f,y,C,P,D=o._parts,H=D.length,Y=this._ctx;if(H){for(Y.beginPath(),f=0;f<H;f++){for(y=0,C=D[f].length;y<C;y++)P=D[f][y],Y[y?"lineTo":"moveTo"](P.x,P.y);d&&Y.closePath()}this._fillStroke(Y,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,f=this._ctx,y=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||y)/y;C!==1&&(f.save(),f.scale(1,C)),f.beginPath(),f.arc(d.x,d.y/C,y,0,Math.PI*2,!1),C!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,d){var f=d.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),f,y,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(y=f);this._fireEvent(y?[y]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var f,y,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(d)&&(y=f);y!==this._hoveredLayer&&(this._handleMouseOut(o),y&&(Je(this._container,"leaflet-interactive"),this._fireEvent([y],o,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,f){this._map._fireDOMEvent(d,f||d.type,o)},_bringToFront:function(o){var d=o._order;if(d){var f=d.next,y=d.prev;if(f)f.prev=y;else return;y?y.next=f:f&&(this._drawFirst=f),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(d){var f=d.next,y=d.prev;if(y)y.next=f;else return;f?f.prev=y:y&&(this._drawLast=y),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function J_(o){return Me.canvas?new X_(o):null}var Dc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),A4={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=Dc("shape");Je(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=Dc("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;Mt(d),o.removeInteractiveTarget(d),delete this._layers[u(o)]},_updateStyle:function(o){var d=o._stroke,f=o._fill,y=o.options,C=o._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(d||(d=o._stroke=Dc("stroke")),C.appendChild(d),d.weight=y.weight+"px",d.color=y.color,d.opacity=y.opacity,y.dashArray?d.dashStyle=j(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=y.lineCap.replace("butt","flat"),d.joinstyle=y.lineJoin):d&&(C.removeChild(d),o._stroke=null),y.fill?(f||(f=o._fill=Dc("fill")),C.appendChild(f),f.color=y.fillColor||y.color,f.opacity=y.fillOpacity):f&&(C.removeChild(f),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),f=Math.round(o._radius),y=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+f+","+y+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){$o(o._container)},_bringToBack:function(o){zo(o._container)}},oh=Me.vml?Dc:Qr,Fc=ei.extend({_initContainer:function(){this._container=oh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=oh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var o=this._bounds,d=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,f.setAttribute("width",d.x),f.setAttribute("height",d.y)),Xt(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=oh("path");o.options.className&&Je(d,o.options.className),o.options.interactive&&Je(d,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Mt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,f=o.options;d&&(f.stroke?(d.setAttribute("stroke",f.color),d.setAttribute("stroke-opacity",f.opacity),d.setAttribute("stroke-width",f.weight),d.setAttribute("stroke-linecap",f.lineCap),d.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?d.setAttribute("stroke-dasharray",f.dashArray):d.removeAttribute("stroke-dasharray"),f.dashOffset?d.setAttribute("stroke-dashoffset",f.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),f.fill?(d.setAttribute("fill",f.fillColor||f.color),d.setAttribute("fill-opacity",f.fillOpacity),d.setAttribute("fill-rule",f.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,ar(o._parts,d))},_updateCircle:function(o){var d=o._point,f=Math.max(Math.round(o._radius),1),y=Math.max(Math.round(o._radiusY),1)||f,C="a"+f+","+y+" 0 1,0 ",P=o._empty()?"M0 0":"M"+(d.x-f)+","+d.y+C+f*2+",0 "+C+-f*2+",0 ";this._setPath(o,P)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){$o(o._path)},_bringToBack:function(o){zo(o._path)}});Me.vml&&Fc.include(A4);function ew(o){return Me.svg||Me.vml?new Fc(o):null}lt.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&J_(o)||ew(o)}});var tw=Vo.extend({initialize:function(o,d){Vo.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ke(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function M4(o,d){return new tw(o,d)}Fc.create=oh,Fc.pointsToPath=ar,Js.geometryToLayer=eh,Js.coordsToLatLng=qp,Js.coordsToLatLngs=th,Js.latLngToCoords=Zp,Js.latLngsToCoords=rh,Js.getFeature=Wo,Js.asFeature=nh,lt.mergeOptions({boxZoom:!0});var rw=Ss.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ec(),Ep(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ke(document,{contextmenu:Fa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new J(this._point,this._startPoint),f=d.getSize();Xt(this._box,d.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Mt(this._box),Wt(this._container,"leaflet-crosshair")),Tc(),Tp(),Nt(document,{contextmenu:Fa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var d=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",rw),lt.mergeOptions({doubleClickZoom:!0});var nw=Ss.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,f=d.getZoom(),y=d.options.zoomDelta,C=o.originalEvent.shiftKey?f-y:f+y;d.options.doubleClickZoom==="center"?d.setZoom(C):d.setZoomAround(o.containerPoint,C)}});lt.addInitHook("addHandler","doubleClickZoom",nw),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sw=Ss.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ei(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=ke(this._map.options.maxBounds);this._offsetLimit=de(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),f=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-d+f)%o+d-f,P=(y+d+f)%o-d-f,D=Math.abs(C+f)<Math.abs(P+f)?C:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(o){var d=this._map,f=d.options,y=!f.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),y)d.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,D=f.easeLinearity,H=C.multiplyBy(D/P),Y=H.distanceTo([0,0]),se=Math.min(f.inertiaMaxSpeed,Y),_e=H.multiplyBy(se/Y),$e=se/(f.inertiaDeceleration*D),nt=_e.multiplyBy(-$e/2).round();!nt.x&&!nt.y?d.fire("moveend"):(nt=d._limitOffset(nt,d.options.maxBounds),G(function(){d.panBy(nt,{duration:$e,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",sw),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var iw=Ss.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ke(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,f=o.scrollTop||d.scrollTop,y=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(y,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},f=this.keyCodes,y,C;for(y=0,C=f.left.length;y<C;y++)d[f.left[y]]=[-1*o,0];for(y=0,C=f.right.length;y<C;y++)d[f.right[y]]=[o,0];for(y=0,C=f.down.length;y<C;y++)d[f.down[y]]=[0,o];for(y=0,C=f.up.length;y<C;y++)d[f.up[y]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},f=this.keyCodes,y,C;for(y=0,C=f.zoomIn.length;y<C;y++)d[f.zoomIn[y]]=o;for(y=0,C=f.zoomOut.length;y<C;y++)d[f.zoomOut[y]]=-o},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,f=this._map,y;if(d in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(y=this._panKeys[d],o.shiftKey&&(y=W(y).multiplyBy(3)),f.options.maxBounds&&(y=f._limitOffset(W(y),f.options.maxBounds)),f.options.worldCopyJump){var C=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(y)));f.panTo(C)}else f.panBy(y)}else if(d in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Fa(o)}}});lt.addInitHook("addHandler","keyboard",iw),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var aw=Ss.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=T_(o),f=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var y=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),Fa(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,P=f?Math.ceil(C/f)*f:C,D=o._limitZoom(d+(this._delta>0?P:-P))-d;this._delta=0,this._startTime=null,D&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+D):o.setZoomAround(this._lastMousePos,d+D))}});lt.addInitHook("addHandler","scrollWheelZoom",aw);var O4=600;lt.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var ow=Ss.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new E(d.clientX,d.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",xr),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),O4),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Nt(document,"touchend",xr),Nt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new E(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});f._simulated=!0,d.target.dispatchEvent(f)}});lt.addInitHook("addHandler","tapHold",ow),lt.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var lw=Ss.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var f=d.mouseEventToContainerPoint(o.touches[0]),y=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(f.add(y)._divideBy(2))),this._startDist=f.distanceTo(y),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),xr(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,f=d.mouseEventToContainerPoint(o.touches[0]),y=d.mouseEventToContainerPoint(o.touches[1]),C=f.distanceTo(y)/this._startDist;if(this._zoom=d.getScaleZoom(C,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&C<1||this._zoom>d.getMaxZoom()&&C>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var P=f._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&P.x===0&&P.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var D=l(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(D,this,!0),xr(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",lw),lt.BoxZoom=rw,lt.DoubleClickZoom=nw,lt.Drag=sw,lt.Keyboard=iw,lt.ScrollWheelZoom=aw,lt.TapHold=ow,lt.TouchZoom=lw,r.Bounds=J,r.Browser=Me,r.CRS=ve,r.Canvas=X_,r.Circle=Hp,r.CircleMarker=Ju,r.Class=q,r.Control=Jn,r.DivIcon=G_,r.DivOverlay=Cs,r.DomEvent=XR,r.DomUtil=QR,r.Draggable=Ei,r.Evented=Q,r.FeatureGroup=Ys,r.GeoJSON=Js,r.GridLayer=Ic,r.Handler=Ss,r.Icon=Uo,r.ImageOverlay=sh,r.LatLng=Pe,r.LatLngBounds=Ne,r.Layer=es,r.LayerGroup=Bo,r.LineUtil=u4,r.Map=lt,r.Marker=Xu,r.Mixin=i4,r.Path=Ti,r.Point=E,r.PolyUtil=a4,r.Polygon=Vo,r.Polyline=Xs,r.Popup=ih,r.PosAnimation=R_,r.Projection=h4,r.Rectangle=tw,r.Renderer=ei,r.SVG=Fc,r.SVGOverlay=K_,r.TileLayer=Ho,r.Tooltip=ah,r.Transformation=rt,r.Util=Z,r.VideoOverlay=Z_,r.bind=l,r.bounds=de,r.canvas=J_,r.circle=_4,r.circleMarker=y4,r.control=Mc,r.divIcon=E4,r.extend=i,r.featureGroup=g4,r.geoJSON=q_,r.geoJson=j4,r.gridLayer=T4,r.icon=v4,r.imageOverlay=N4,r.latLng=he,r.latLngBounds=ke,r.layerGroup=p4,r.map=JR,r.marker=x4,r.point=W,r.polygon=b4,r.polyline=w4,r.popup=k4,r.rectangle=M4,r.setOptions=x,r.stamp=u,r.svg=ew,r.svgOverlay=C4,r.tileLayer=Q_,r.tooltip=P4,r.transformation=Le,r.version=n,r.videoOverlay=S4;var L4=window.L;r.noConflict=function(){return window.L=L4,this},window.L=r})})(Mx,Mx.exports);var ap=Mx.exports;function cP(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function dP(e,t){return t==null?function(n,i){const a=v.useRef();return a.current||(a.current=e(n,i)),a}:function(n,i){const a=v.useRef();a.current||(a.current=e(n,i));const l=v.useRef(n),{instance:c}=a.current;return v.useEffect(function(){l.current!==n&&(t(c,n,l.current),l.current=n)},[c,n,i]),a}}function vB(e,t){v.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function uP(e){return function(r){const n=oP(),i=e(lP(r,n),n);return dB(n.map,r.attribution),gB(i.current,r.eventHandlers),vB(i.current,n),i}}function xB(e,t){const r=dP(e,t),n=uP(r);return mB(n)}function yB(e,t){const r=dP(e,t),n=uP(r);return pB(n)}function _B(e,t,r){const{opacity:n,zIndex:i}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function wB(){return oP().map}function bB(e){const t=wB();return v.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function Ox(){return Ox=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function jB({bounds:e,boundsOptions:t,center:r,children:n,className:i,id:a,placeholder:l,style:c,whenReady:u,zoom:h,...p},m){const[g]=v.useState({className:i,id:a,style:c}),[_,N]=v.useState(null);v.useImperativeHandle(m,()=>(_==null?void 0:_.map)??null,[_]);const x=v.useCallback(w=>{if(w!==null&&_===null){const b=new ap.Map(w,p);r!=null&&h!=null?b.setView(r,h):e!=null&&b.fitBounds(e,t),u!=null&&b.whenReady(u),N(hB(b))}},[]);v.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const S=_?te.createElement(aP,{value:_},n):l??null;return te.createElement("div",Ox({},g,{ref:x}),S)}const NB=v.forwardRef(jB),SB=xB(function({position:t,...r},n){const i=new ap.Marker(t,r);return cP(i,fB(n,{overlayContainer:i}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),CB=yB(function({url:t,...r},n){const i=new ap.TileLayer(t,lP(r,n));return cP(i,n)},function(t,r,n){_B(t,r,n);const{url:i}=r;i!=null&&i!==n.url&&t.setUrl(i)}),kB=new ap.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),PB=({position:e,onPositionChange:t})=>(bB({click:r=>{t(r.latlng.lat,r.latlng.lng)}}),s.jsx(SB,{position:e,icon:kB,draggable:!0,eventHandlers:{dragend:r=>{const i=r.target.getLatLng();t(i.lat,i.lng)}}})),Ij=({isOpen:e,onClose:t})=>{const{location:r,loading:n,updateLocation:i,searchAddresses:a,setManualLocation:l}=sP(),{toast:c}=fn(),[u,h]=v.useState(""),[p,m]=v.useState([]),[g,_]=v.useState(!1),[N,x]=v.useState([(r==null?void 0:r.coordinates.lat)||40.7128,(r==null?void 0:r.coordinates.lng)||-74.006]),[S,w]=v.useState((r==null?void 0:r.address)||""),[b,j]=v.useState(!1);v.useEffect(()=>{r&&(x([r.coordinates.lat,r.coordinates.lng]),w(r.address))},[r]);const k=async O=>{if(O.length<3){m([]);return}_(!0);try{const z=await a(O);m(z)}catch(z){console.error("Search error:",z),c({title:"Search Error",description:"Failed to search addresses. Please try again.",variant:"destructive"})}finally{_(!1)}};v.useEffect(()=>{const O=setTimeout(()=>{u&&k(u)},500);return()=>clearTimeout(O)},[u]);const T=async(O,z)=>{x([O,z]);try{await i({lat:O,lng:z})}catch(G){console.error("Position update error:",G)}},I=O=>{x([O.coordinates.lat,O.coordinates.lng]),w(O.address),h(""),m([])},M=async()=>{j(!0);try{await i({lat:N[0],lng:N[1]}),c({title:"Location Updated",description:"Your delivery location has been updated successfully."}),t()}catch(O){console.error("Confirm location error:",O),c({title:"Update Failed",description:"Failed to update location. Please try again.",variant:"destructive"})}finally{j(!1)}},R=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(O=>{const{latitude:z,longitude:G}=O.coords;T(z,G),c({title:"Location Detected",description:"Your current location has been detected."})},O=>{c({title:"Location Error",description:"Failed to detect your current location.",variant:"destructive"})})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(re,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:s.jsxs(ne,{className:"p-0",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Delivery Location"}),s.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:s.jsx(Vn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-4 relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{placeholder:"Search for area, street name...",value:u,onChange:O=>h(O.target.value),className:"pl-10 pr-4"}),g&&s.jsx(Zt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"})]}),p.length>0&&s.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md bg-white",children:p.map((O,z)=>s.jsx("button",{onClick:()=>I(O),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fs,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.address}),s.jsxs("p",{className:"text-xs text-gray-500",children:[O.city,", ",O.country]})]})]})},z))})]}),s.jsxs("div",{className:"relative h-96",children:[s.jsxs(NB,{center:N,zoom:15,style:{height:"100%",width:"100%"},className:"z-0",children:[s.jsx(CB,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(PB,{position:N,onPositionChange:T})]}),s.jsx(B,{onClick:R,className:"absolute top-4 right-4 z-10 bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 shadow-md",size:"sm",children:s.jsx(jL,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fs,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Selected Location"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S||"Drag the marker to select a location"})]})]})}),s.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:"outline",onClick:t,className:"flex-1",disabled:b,children:"Cancel"}),s.jsx(B,{onClick:M,className:"flex-1 bg-primary hover:bg-primary/90",disabled:b||!S,children:b?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Confirming..."]}):"Confirm Location"})]})})]})})}):null},EB=({className:e="",showChangeButton:t=!0,variant:r="header"})=>{const{location:n,loading:i,error:a,getCurrentLocation:l,clearError:c,initializeLocation:u}=sP(),[h,p]=v.useState(!1),{toast:m}=fn();v.useEffect(()=>{u()},[u]),v.useEffect(()=>{a&&(m({title:"Location Error",description:a,variant:"destructive"}),c())},[a,m,c]);const g=async()=>{try{await l(),m({title:"Location Updated",description:"Your current location has been detected."})}catch{}},_=()=>{p(!0)},N=i?"Detecting...":(n==null?void 0:n.city)||"Select Location",x=i?"Getting your location":(n==null?void 0:n.address)||"Tap to set delivery location";return r==="compact"?s.jsxs(s.Fragment,{children:[s.jsxs(B,{variant:"ghost",className:`flex items-center gap-2 text-left p-2 hover:bg-gray-50 rounded-xl ${e}`,onClick:_,disabled:i,children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-xl flex items-center justify-center",children:i?s.jsx(Zt,{className:"h-4 w-4 text-primary-foreground animate-spin"}):s.jsx(fs,{className:"h-4 w-4 text-primary-foreground"})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:i?"Locating...":"Deliver to"}),s.jsx("span",{className:"text-sm font-medium text-foreground truncate max-w-32",children:N}),!i&&(n==null?void 0:n.address)&&s.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-32",children:n.address})]})]}),s.jsx(Ij,{isOpen:h,onClose:()=>p(!1)})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center justify-between ${e}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:i?s.jsx(Zt,{className:"h-5 w-5 text-primary-foreground animate-spin"}):s.jsx(fs,{className:"h-5 w-5 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-foreground",children:i?"Detecting location...":N}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t&&s.jsx(B,{variant:"ghost",size:"sm",className:"text-primary font-medium",onClick:_,disabled:i,children:"Change"}),!n&&!i&&s.jsx(B,{variant:"ghost",size:"sm",className:"text-primary font-medium",onClick:g,children:"Detect"}),s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center relative",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1 right-1"})})]})]}),s.jsx(Ij,{isOpen:h,onClose:()=>p(!1)})]})},TB=()=>{const{toast:e}=fn();kr();const[t,r]=v.useState(!1),[n,i]=v.useState(null),[a,l]=v.useState("all"),[c,u]=v.useState(""),{cartItems:h,addToCart:p,updateQuantity:m,getTotalItems:g}=Sc(),{isFavorite:_,toggleFavorite:N}=Au(),{data:x=[]}=nP("food"),{data:S=[],isLoading:w}=Xd(a==="all"?void 0:a,"food");Xd(void 0,"food");const{data:b=[]}=Xz(),j=x.map(O=>({id:O.id,name:O.name,image_url:O.image_url})),k=S.filter(O=>{const z=O.name.toLowerCase().includes(c.toLowerCase()),G=!t||O.is_veg,U=a==="all"||O.category_id===a;return z&&G&&U&&O.is_available}),T=O=>{const z=k.find(G=>G.id===O);z&&p({id:z.id,name:z.name,price:z.price,image:z.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",isVeg:z.is_veg,description:z.description})},I=O=>{const z=k.find(G=>G.id===O);if(z){const G=x.find(U=>U.id===z.category_id);N({id:z.id,name:z.name,description:z.description,price:z.price,image:z.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",rating:z.rating,deliveryTime:"25-35 min",isVeg:z.is_veg,category:G==null?void 0:G.name})}},M=O=>{const z=h.find(G=>G.id===O);return z?z.quantity:0},R=g();return s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsxs("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-50 border-b border-neutral-100",children:[s.jsx("div",{className:"mb-4",children:s.jsx(EB,{})}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),s.jsx(Te,{placeholder:"Search here...",value:c,onChange:O=>u(O.target.value),className:"pl-12 pr-16 py-3 rounded-2xl border-neutral-200 bg-neutral-50 focus:bg-white transition-colors"}),s.jsx(B,{size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-brand-500 hover:bg-brand-600 rounded-xl px-4",children:s.jsx(Dm,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx("div",{className:"px-4 py-6",children:b.length>0?s.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:b.map(O=>s.jsx(Oj,{title:O.title,subtitle:O.subtitle||"Delicious Savings",description:O.description,image:O.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",className:"flex-shrink-0 w-80",onCTAClick:()=>e({title:"Promotion activated!"}),promotionType:O.promotion_type||"percentage_discount",discountType:O.discount_type||"percentage",discountValue:O.discount_value||30,backgroundColor:O.background_color||"#FF6B35",textColor:O.text_color||"#FFFFFF",buyQuantity:O.buy_quantity,getQuantity:O.get_quantity,minimumOrder:O.minimum_order_amount,ctaText:O.button_text||"Order Now"},O.id))}):s.jsx(Oj,{title:"Delicious Savings",subtitle:"Special Offer",discount:"30%",description:"On your first order",image:"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",onCTAClick:()=>e({title:"Welcome offer activated!"})})}),s.jsxs("div",{className:"px-4 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"font-bold text-xl text-neutral-900",children:"Category"}),s.jsx(B,{variant:"ghost",className:"text-brand-600 font-medium",children:"See All"})]}),s.jsx(rP,{categories:j,activeCategory:a,onCategoryChange:l,showAll:!0})]}),s.jsx("div",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yo,{checked:t,onCheckedChange:r,className:"data-[state=checked]:bg-green-500"}),s.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Veg Only"})]})}),s.jsxs(We,{variant:"outline",className:"text-neutral-600 border-neutral-300",children:[k.length," items found"]})]})}),s.jsx("div",{className:"px-4 pb-4",children:k.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:k.map(O=>s.jsx(k0,{id:O.id,name:O.name,description:O.description,price:O.price,image:O.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",rating:O.rating||4.8,reviewCount:435,deliveryTime:"31 min",isVeg:O.is_veg,isFavorite:_(O.id),onAddToCart:T,onToggleFavorite:I,className:"animate-fade-in"},O.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-4xl",children:"🍽️"})}),s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"No dishes found"}),s.jsx("p",{className:"text-neutral-600",children:c?"Try searching for something else":`No ${t?"vegetarian ":""}dishes available`})]})})]}),R>0&&s.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-20",children:s.jsxs(B,{className:"primary-button w-full py-4 shadow-strong",children:[s.jsx(Jl,{className:"h-5 w-5 mr-3"}),s.jsx("span",{className:"flex-1 text-left",children:"View Cart"}),s.jsx(We,{className:"bg-white/20 text-white border-0",children:R})]})}),s.jsx(ms,{}),n&&s.jsx(Gz,{product:n,onClose:()=>i(null),onAddToCart:T,cartQuantity:M(n.id),onUpdateQuantity:m})]})},RB=()=>{const{cartItems:e,updateQuantity:t,removeFromCart:r,clearCart:n,getTotalItems:i,getTotalPrice:a}=Sc(),l=a(),c=29,u=Math.round(l*.05),h=50,p=l+c+u-h;return e.length===0?s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(Nl,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Your Cart"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"0 items"})]})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-16",children:[s.jsx("div",{className:"w-32 h-32 bg-neutral-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(Nl,{className:"h-16 w-16 text-neutral-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-3",children:"Your cart is empty"}),s.jsx("p",{className:"text-neutral-600 text-center mb-8 max-w-sm",children:"Add some delicious items to your cart and they will appear here"}),s.jsx(ft,{to:"/home",children:s.jsx(B,{className:"primary-button px-8 py-3",children:"Start Shopping"})})]}),s.jsx(ms,{})]}):s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-32",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(Nl,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Your Cart"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[i()," items"]})]})]}),s.jsx(B,{variant:"ghost",className:"text-brand-600 font-medium",onClick:n,children:"Clear All"})]})}),s.jsx("div",{className:"px-4 py-4",children:s.jsx(re,{className:"interactive-card bg-brand-50 border-brand-200",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(fs,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-neutral-900",children:"Delivering to"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Home - 123 Main Street, City"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center text-brand-600",children:[s.jsx(fr,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"25-30 min"})]})})]})})})}),s.jsxs("div",{className:"px-4 space-y-4",children:[s.jsx("h3",{className:"font-bold text-lg text-neutral-900 mb-4",children:"Your Items"}),e.map(m=>s.jsx(re,{className:"interactive-card overflow-hidden shadow-card",children:s.jsx(ne,{className:"p-0",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"w-24 h-24 bg-neutral-100 flex-shrink-0 relative rounded-l-2xl overflow-hidden",children:[s.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("div",{className:`w-3 h-3 border-2 flex items-center justify-center ${m.isVeg?"border-green-500":"border-red-500"}`,children:s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m.isVeg?"bg-green-500":"bg-red-500"}`})})})]}),s.jsxs("div",{className:"flex-1 p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 mb-1",children:m.name}),s.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:m.description}),s.jsxs("p",{className:"font-bold text-lg text-neutral-900",children:["₹",m.price*m.quantity]})]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r(m.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-xl",children:s.jsx(vs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm text-neutral-600",children:["₹",m.price," each"]})}),s.jsxs("div",{className:"flex items-center space-x-2 bg-brand-500 rounded-xl px-3 py-2",children:[s.jsx(B,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-white hover:bg-brand-600 rounded-lg",onClick:()=>t(m.id,m.quantity-1),children:s.jsx(Lf,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-white font-semibold text-sm min-w-[1.5rem] text-center",children:m.quantity}),s.jsx(B,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-white hover:bg-brand-600 rounded-lg",onClick:()=>t(m.id,m.quantity+1),children:s.jsx(br,{className:"h-3 w-3"})})]})]})]})]})})},m.id))]}),s.jsx("div",{className:"px-4 py-6 mb-8",children:s.jsx(re,{className:"interactive-card shadow-card",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-neutral-900 mb-4 flex items-center",children:[s.jsx(mC,{className:"h-5 w-5 mr-2 text-brand-500"}),"Bill Details"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"Subtotal"}),s.jsxs("span",{className:"font-medium text-neutral-900",children:["₹",l]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"Delivery Fee"}),s.jsxs("span",{className:"font-medium text-neutral-900",children:["₹",c]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"Taxes"}),s.jsxs("span",{className:"font-medium text-neutral-900",children:["₹",u]})]}),s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{className:"font-medium",children:["-₹",h]})]}),s.jsxs("div",{className:"border-t-2 border-neutral-500 pt-4 mt-4 flex justify-between font-bold text-xl bg-neutral-100 p-3 rounded-lg",children:[s.jsx("span",{className:"text-neutral-900",children:"Total"}),s.jsxs("span",{className:"text-neutral-900",children:["₹",p]})]})]})]})})}),s.jsx("div",{className:"fixed bottom-20 left-0 right-0 bg-white p-4 border-t border-neutral-200 shadow-strong",children:s.jsxs(B,{className:"w-full primary-button py-4 text-lg font-semibold",children:["Proceed to Checkout - ₹",p]})}),s.jsx(ms,{})]})};function AB(e,t=[]){let r=[];function n(a,l){const c=v.createContext(l),u=r.length;r=[...r,l];function h(m){const{scope:g,children:_,...N}=m,x=(g==null?void 0:g[e][u])||c,S=v.useMemo(()=>N,Object.values(N));return s.jsx(x.Provider,{value:S,children:_})}function p(m,g){const _=(g==null?void 0:g[e][u])||c,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,p]}const i=()=>{const a=r.map(l=>v.createContext(l));return function(c){const u=(c==null?void 0:c[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[n,MB(i,...t)]}function MB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Wg="rovingFocusGroup.onEntryFocus",OB={bubbles:!1,cancelable:!0},op="RovingFocusGroup",[Lx,hP,LB]=Am(op),[IB,lp]=AB(op,[LB]),[DB,FB]=IB(op),fP=v.forwardRef((e,t)=>s.jsx(Lx.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Lx.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx($B,{...e,ref:t})})}));fP.displayName=op;var $B=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=e,g=v.useRef(null),_=ot(t,g),N=Jm(a),[x=null,S]=_i({prop:l,defaultProp:c,onChange:u}),[w,b]=v.useState(!1),j=Cr(h),k=hP(r),T=v.useRef(!1),[I,M]=v.useState(0);return v.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Wg,j),()=>R.removeEventListener(Wg,j)},[j]),s.jsx(DB,{scope:r,orientation:n,dir:N,loop:i,currentTabStopId:x,onItemFocus:v.useCallback(R=>S(R),[S]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:v.useCallback(()=>M(R=>R-1),[]),children:s.jsx(Oe.div,{tabIndex:w||I===0?-1:0,"data-orientation":n,...m,ref:_,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{T.current=!0}),onFocus:me(e.onFocus,R=>{const O=!T.current;if(R.target===R.currentTarget&&O&&!w){const z=new CustomEvent(Wg,OB);if(R.currentTarget.dispatchEvent(z),!z.defaultPrevented){const G=k().filter(K=>K.focusable),U=G.find(K=>K.active),Z=G.find(K=>K.id===x),ie=[U,Z,...G].filter(Boolean).map(K=>K.ref.current);gP(ie,p)}}T.current=!1}),onBlur:me(e.onBlur,()=>b(!1))})})}),mP="RovingFocusGroupItem",pP=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...l}=e,c=zs(),u=a||c,h=FB(mP,r),p=h.currentTabStopId===u,m=hP(r),{onFocusableItemAdd:g,onFocusableItemRemove:_}=h;return v.useEffect(()=>{if(n)return g(),()=>_()},[n,g,_]),s.jsx(Lx.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(Oe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,N=>{n?h.onItemFocus(u):N.preventDefault()}),onFocus:me(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:me(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const x=UB(N,h.orientation,h.dir);if(x!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let w=m().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const b=w.indexOf(N.currentTarget);w=h.loop?VB(w,b+1):w.slice(b+1)}setTimeout(()=>gP(w))}})})})});pP.displayName=mP;var zB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UB(e,t,r){const n=BB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return zB[n]}function gP(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function VB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vP=fP,xP=pP,P0="Tabs",[WB,pH]=ws(P0,[lp]),yP=lp(),[HB,E0]=WB(P0),_P=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:u="automatic",...h}=e,p=Jm(c),[m,g]=_i({prop:n,onChange:i,defaultProp:a});return s.jsx(HB,{scope:r,baseId:zs(),value:m,onValueChange:g,orientation:l,dir:p,activationMode:u,children:s.jsx(Oe.div,{dir:p,"data-orientation":l,...h,ref:t})})});_P.displayName=P0;var wP="TabsList",bP=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=E0(wP,r),l=yP(r);return s.jsx(vP,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Oe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});bP.displayName=wP;var jP="TabsTrigger",NP=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,l=E0(jP,r),c=yP(r),u=kP(l.baseId,n),h=PP(l.baseId,n),p=n===l.value;return s.jsx(xP,{asChild:!0,...c,focusable:!i,active:p,children:s.jsx(Oe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:t,onMouseDown:me(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:me(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:me(e.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!i&&m&&l.onValueChange(n)})})})});NP.displayName=jP;var SP="TabsContent",CP=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...l}=e,c=E0(SP,r),u=kP(c.baseId,n),h=PP(c.baseId,n),p=n===c.value,m=v.useRef(p);return v.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Gn,{present:i||p,children:({present:g})=>s.jsx(Oe.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});CP.displayName=SP;function kP(e,t){return`${e}-trigger-${t}`}function PP(e,t){return`${e}-content-${t}`}var qB=_P,EP=bP,TP=NP,RP=CP;const _o=qB,Oo=v.forwardRef(({className:e,...t},r)=>s.jsx(EP,{ref:r,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Oo.displayName=EP.displayName;const Ht=v.forwardRef(({className:e,...t},r)=>s.jsx(TP,{ref:r,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ht.displayName=TP.displayName;const ur=v.forwardRef(({className:e,...t},r)=>s.jsx(RP,{ref:r,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ur.displayName=RP.displayName;const ZB=()=>{const{user:e}=kr();return mn({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{data:t,error:r}=await ye.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;return t},enabled:!!(e!=null&&e.id)})},KB=()=>{const{user:e}=kr();return mn({queryKey:["addresses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{data:t,error:r}=await ye.from("addresses").select("*").eq("user_id",e.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!(e!=null&&e.id)})},AP=()=>{const{user:e}=kr();return mn({queryKey:["user-orders",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{data:t,error:r}=await ye.from("orders").select(`
          *,
          addresses (
            address_line_1,
            address_line_2,
            address_line_3,
            pincode,
            address_type
          ),
          order_items (
            *,
            products (
              name,
              image_url,
              price
            )
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},enabled:!!(e!=null&&e.id)})},MP=()=>mn({queryKey:["admin-orders"],queryFn:async()=>{const{data:e,error:t}=await ye.from("orders").select(`
          *,
          order_items(
            id,
            quantity,
            unit_price,
            total_price,
            product_id,
            products(
              name,
              image_url
            )
          )
        `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching admin orders:",t),t;return e}}),GB=()=>{const e=Qn(),{user:t}=kr(),r=bt({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:u,error:h}=await ye.from("profiles").update(c).eq("id",t.id).select().single();if(h)throw h;return u},onSuccess:c=>{e.setQueryData(["profile",t==null?void 0:t.id],c),Ce({title:"Profile Updated",description:"Your profile has been successfully updated."})},onError:c=>{Ce({title:"Update Failed",description:c.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),n=bt({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{data:u,error:h}=await ye.from("addresses").insert({...c,user_id:t.id}).select().single();if(h)throw h;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["addresses",t==null?void 0:t.id]}),Ce({title:"Address Added",description:"New address has been added to your account."})},onError:c=>{Ce({title:"Failed to Add Address",description:c.message||"Could not add address. Please try again.",variant:"destructive"})}}),i=bt({mutationFn:async({id:c,updates:u})=>{const{data:h,error:p}=await ye.from("addresses").update(u).eq("id",c).select().single();if(p)throw p;return h},onSuccess:()=>{e.invalidateQueries({queryKey:["addresses",t==null?void 0:t.id]}),Ce({title:"Address Updated",description:"Address has been successfully updated."})},onError:c=>{Ce({title:"Update Failed",description:c.message||"Failed to update address. Please try again.",variant:"destructive"})}}),a=bt({mutationFn:async c=>{const{error:u}=await ye.from("addresses").delete().eq("id",c);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["addresses",t==null?void 0:t.id]}),Ce({title:"Address Deleted",description:"Address has been removed from your account."})},onError:c=>{Ce({title:"Delete Failed",description:c.message||"Failed to delete address. Please try again.",variant:"destructive"})}}),l=bt({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");await ye.from("addresses").update({is_default:!1}).eq("user_id",t.id);const{error:u}=await ye.from("addresses").update({is_default:!0}).eq("id",c);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["addresses",t==null?void 0:t.id]}),Ce({title:"Default Address Set",description:"This address is now your default delivery address."})},onError:c=>{Ce({title:"Update Failed",description:c.message||"Failed to set default address. Please try again.",variant:"destructive"})}});return{updateProfile:r,addAddress:n,updateAddress:i,deleteAddress:a,setDefaultAddress:l}},QB=()=>{const{data:e=[],isLoading:t,error:r}=AP(),{toast:n}=fn(),[i,a]=v.useState("all"),l=_=>{switch(_){case"delivered":return s.jsx(Kt,{className:"h-5 w-5 text-green-500"});case"out_for_delivery":return s.jsx(er,{className:"h-5 w-5 text-blue-500"});case"preparing":return s.jsx(fr,{className:"h-5 w-5 text-orange-500"});case"confirmed":return s.jsx(Kt,{className:"h-5 w-5 text-blue-500"});case"pending":return s.jsx(fr,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return s.jsx(fr,{className:"h-5 w-5 text-red-500"});default:return s.jsx(fr,{className:"h-5 w-5 text-neutral-500"})}},c=_=>{switch(_){case"delivered":return"Delivered";case"out_for_delivery":return"Out for Delivery";case"preparing":return"Preparing";case"confirmed":return"Confirmed";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return"Unknown"}},u=_=>{switch(_){case"delivered":return"bg-green-100 text-green-800 border-green-200";case"out_for_delivery":return"bg-blue-100 text-blue-800 border-blue-200";case"preparing":return"bg-orange-100 text-orange-800 border-orange-200";case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-neutral-100 text-neutral-800 border-neutral-200"}},h=_=>!_||_.length===0?"No items":_.map(x=>{var w;const S=((w=x.products)==null?void 0:w.name)||"Unknown Product";return x.quantity>1?`${S} (${x.quantity})`:S}).join(", "),p=_=>{if(_.estimated_delivery_time){const N=new Date(_.estimated_delivery_time),x=new Date,S=Math.max(0,Math.floor((N.getTime()-x.getTime())/(1e3*60)));if(S>0)return`${S} mins`}switch(_.status){case"pending":case"confirmed":return"30-45 mins";case"preparing":return"20-30 mins";case"out_for_delivery":return"10-15 mins";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"N/A"}},m=(_,N)=>N==="all"?_:N==="active"?_.filter(x=>["pending","confirmed","preparing","out_for_delivery"].includes(x.status)):_.filter(x=>x.status===N),g=_=>{n({title:"Added to cart",description:"Previous order items have been added to your cart."})};return t?s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(er,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Order History"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Your past orders"})]})]})}),s.jsxs("div",{className:"flex items-center justify-center py-16",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin mr-3 text-brand-500"}),s.jsx("span",{className:"text-neutral-600",children:"Loading your orders..."})]}),s.jsx(ms,{})]}):r?s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(er,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Order History"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Your past orders"})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx(re,{className:"interactive-card shadow-card",children:s.jsxs(ne,{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"h-8 w-8 text-red-500"})}),s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"Failed to load orders"}),s.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:r.message}),s.jsx(B,{className:"primary-button",children:"Try Again"})]})})}),s.jsx(ms,{})]}):s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(er,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Order History"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[e.length," orders"]})]})]}),s.jsx(B,{variant:"ghost",className:"text-brand-600 font-medium",children:"Filter"})]})}),s.jsx("div",{className:"px-4 py-4",children:s.jsxs(_o,{value:i,onValueChange:a,children:[s.jsxs(Oo,{className:"grid w-full grid-cols-4 bg-neutral-100 rounded-2xl p-1",children:[s.jsx(Ht,{value:"all",className:"rounded-xl",children:"All"}),s.jsx(Ht,{value:"active",className:"rounded-xl",children:"Active"}),s.jsx(Ht,{value:"delivered",className:"rounded-xl",children:"Delivered"}),s.jsx(Ht,{value:"cancelled",className:"rounded-xl",children:"Cancelled"})]}),s.jsx(ur,{value:i,className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx(re,{className:"interactive-card shadow-card",children:s.jsxs(ne,{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"h-12 w-12 text-neutral-400"})}),s.jsx("h3",{className:"font-semibold text-xl text-neutral-900 mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-neutral-600 mb-6 max-w-sm mx-auto",children:"When you place your first order, it will appear here"}),s.jsx(ft,{to:"/home",children:s.jsx(B,{className:"primary-button",children:"Start Shopping"})})]})}):m(e,i).map(_=>s.jsx(re,{className:"interactive-card overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-300",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-xl flex items-center justify-center",children:l(_.status)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-neutral-900",children:["Order #",_.id.slice(-8)]}),s.jsx("p",{className:"text-sm text-neutral-600",children:new Date(_.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx(We,{className:`${u(_.status)} border font-medium px-3 py-1 rounded-full`,children:c(_.status)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Items:"}),s.jsx("p",{className:"text-neutral-900 font-medium",children:h(_.order_items)})]}),_.addresses&&s.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-xl",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(fs,{className:"h-4 w-4 text-neutral-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Delivery Address"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[[_.addresses.address_line_1,_.addresses.address_line_2,_.addresses.address_line_3].filter(Boolean).join(", "),_.addresses.pincode&&` - ${_.addresses.pincode}`]})]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-neutral-200",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg text-neutral-900",children:["₹",_.total_amount.toFixed(2)]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-neutral-600",children:[s.jsx(fr,{className:"h-3 w-3"}),s.jsx("span",{children:p(_)})]})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(B,{variant:"outline",size:"sm",className:"border-neutral-300 hover:bg-neutral-50 rounded-xl",children:[s.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Details"]}),_.status==="delivered"&&s.jsxs(s.Fragment,{children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>g(_.id),className:"border-brand-300 text-brand-600 hover:bg-brand-50 rounded-xl",children:[s.jsx(kL,{className:"h-4 w-4 mr-1"}),"Reorder"]}),s.jsxs(B,{variant:"outline",size:"sm",className:"border-yellow-300 text-yellow-600 hover:bg-yellow-50 rounded-xl",children:[s.jsx($t,{className:"h-4 w-4 mr-1"}),"Rate"]})]}),(_.status==="pending"||_.status==="confirmed")&&s.jsx(B,{variant:"outline",size:"sm",className:"border-red-300 text-red-600 hover:bg-red-50 rounded-xl",children:"Cancel"})]})]})]})},_.id))})})]})}),s.jsx(ms,{})]})},YB=({categories:e,onCategorySelect:t,columns:r=4,className:n=""})=>{const i={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6"}[r]||"grid-cols-4";return s.jsx("div",{className:ce(`grid ${i} gap-4`,n),children:e.map(a=>s.jsx(B,{variant:"ghost",onClick:()=>t(a.id),className:"h-auto p-0 group",children:s.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-card hover:shadow-card-hover transition-all duration-300 group-hover:-translate-y-1 w-full",children:[s.jsx("div",{className:"aspect-square mb-3 rounded-xl overflow-hidden bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center",children:a.image_url?s.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-3xl",children:a.icon||"🍽️"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-foodGray-900 text-sm mb-1",children:a.name}),a.count!==void 0&&s.jsxs("p",{className:"text-xs text-foodGray-500",children:[a.count," items"]})]})]})},a.id))})},XB=()=>{var b;kr();const{toast:e}=fn(),[t,r]=v.useState("all"),[n,i]=v.useState(""),[a,l]=v.useState(!1),[c,u]=v.useState(!0),{data:h=[]}=nP("food"),{data:p=[]}=Xd(t==="all"?void 0:t,"food");Xd(void 0,"food");const{addToCart:m}=Sc(),{isFavorite:g,toggleFavorite:_}=Au(),N=h.map(j=>({id:j.id,name:j.name,image_url:j.image_url})),x=p.filter(j=>{const k=j.name.toLowerCase().includes(n.toLowerCase()),T=!a||j.is_veg,I=t==="all"||j.category_id===t;return k&&T&&I&&j.is_available}),S=j=>{const k=x.find(T=>T.id===j);k&&m({id:k.id,name:k.name,price:k.price,image:k.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",isVeg:k.is_veg,description:k.description})},w=j=>{const k=x.find(T=>T.id===j);if(k){const T=h.find(I=>I.id===k.category_id);_({id:k.id,name:k.name,description:k.description,price:k.price,image:k.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",rating:k.rating,deliveryTime:"25-35 min",isVeg:k.is_veg,category:T==null?void 0:T.name}),e({title:g(j)?"Removed from favorites":"Added to favorites",description:`${k.name} has been ${g(j)?"removed from":"added to"} your favorites.`})}};return s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsxs("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-50 border-b border-neutral-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(Zy,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"Browse Menu"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Categories & Dishes"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>u(!c),className:"text-brand-600 font-medium",children:c?"List View":"Grid View"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),s.jsx(Te,{placeholder:"Search for dishes...",value:n,onChange:j=>i(j.target.value),className:"pl-12 pr-16 py-3 rounded-2xl border-neutral-200 bg-neutral-50 focus:bg-white transition-colors"}),s.jsx(B,{size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-brand-500 hover:bg-brand-600 rounded-xl px-4",children:s.jsx(Dm,{className:"h-4 w-4"})})]})]}),c&&s.jsxs("div",{className:"px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"font-bold text-xl text-neutral-900",children:"Categories"}),s.jsxs(We,{variant:"outline",className:"text-neutral-600 border-neutral-300",children:[h.length," categories"]})]}),s.jsx(YB,{categories:N,onCategorySelect:r,columns:2,className:"mb-6"})]}),s.jsxs("div",{className:"px-4 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"font-bold text-xl text-neutral-900",children:t==="all"?"All Dishes":(b=h.find(j=>j.id===t))==null?void 0:b.name}),s.jsx(B,{variant:"ghost",className:"text-brand-600 font-medium",children:"View All"})]}),s.jsx(rP,{categories:N,activeCategory:t,onCategoryChange:r,showAll:!0})]}),s.jsx("div",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yo,{checked:a,onCheckedChange:l,className:"data-[state=checked]:bg-green-500"}),s.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Veg Only"})]})}),s.jsxs(We,{variant:"outline",className:"text-neutral-600 border-neutral-300",children:[x.length," dishes found"]})]})}),s.jsx("div",{className:"px-4 pb-4",children:x.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(j=>s.jsx(k0,{id:j.id,name:j.name,description:j.description,price:j.price,image:j.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",rating:j.rating||4.8,reviewCount:Math.floor(Math.random()*500)+100,deliveryTime:"25-35 min",isVeg:j.is_veg,isFavorite:g(j.id),onAddToCart:S,onToggleFavorite:w,className:"animate-fade-in"},j.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"interactive-card bg-white rounded-2xl p-8 shadow-card max-w-sm mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-4xl",children:"🍽️"})}),s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"No dishes found"}),s.jsx("p",{className:"text-neutral-600 mb-4",children:n?"Try searching for something else":`No ${a?"vegetarian ":""}dishes available`}),s.jsx(B,{onClick:()=>{i(""),r("all"),l(!1)},className:"mt-4 primary-button",children:"Clear Filters"})]})})}),s.jsx(ms,{})]})},JB=()=>{const{toast:e}=fn(),{addToCart:t}=Sc(),{favorites:r,getFavoritesByCategory:n,getUniqueCategories:i,removeFromFavorites:a}=Au(),[l,c]=v.useState("all"),[u,h]=v.useState("grid"),m=["all",...i()],g=n(l),_=x=>{const S=r.find(w=>w.id===x);S&&(t({id:S.id,name:S.name,price:S.price,image:S.image,isVeg:S.isVeg,description:S.description}),e({title:"Added to cart",description:`${S.name} has been added to your cart.`}))},N=x=>{const S=r.find(w=>w.id===x);a(x),e({title:"Removed from favorites",description:`${(S==null?void 0:S.name)||"Item"} has been removed from your favorites.`})};return s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ft,{to:"/home",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx(fo,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900",children:"My Favorites"}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[g.length," items"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>h(u==="grid"?"list":"grid"),className:"text-brand-600 font-medium",children:u==="grid"?"List View":"Grid View"})})]})}),s.jsx("div",{className:"px-4 py-4",children:s.jsxs(_o,{value:l,onValueChange:c,children:[m.length>1&&s.jsx(Oo,{className:`grid w-full ${m.length<=5?`grid-cols-${m.length}`:"grid-cols-5"} bg-neutral-100 rounded-2xl p-1 mb-6`,children:m.slice(0,5).map(x=>s.jsx(Ht,{value:x,className:"rounded-xl capitalize",children:x},x))}),s.jsxs(ur,{value:l,className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-neutral-900",children:l==="all"?"All Favorites":`${l} Favorites`}),s.jsxs(We,{variant:"outline",className:"text-neutral-600 border-neutral-300",children:[g.length," items"]})]}),g.length>0?s.jsx("div",{className:`${u==="grid"?"grid grid-cols-1 sm:grid-cols-2 gap-4":"space-y-4"}`,children:g.map(x=>s.jsx(k0,{id:x.id,name:x.name,description:x.description,price:x.price,image:x.image,rating:x.rating,reviewCount:x.reviewCount,deliveryTime:x.deliveryTime,isVeg:x.isVeg,isFavorite:!0,onAddToCart:_,onToggleFavorite:N,className:"animate-fade-in"},x.id))}):s.jsx(re,{className:"interactive-card shadow-card",children:s.jsxs(ne,{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-brand-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fo,{className:"h-12 w-12 text-brand-500"})}),s.jsx("h3",{className:"font-semibold text-xl text-neutral-900 mb-2",children:l==="all"?"No favorites yet":`No ${l.toLowerCase()} favorites`}),s.jsx("p",{className:"text-neutral-600 mb-6 max-w-sm mx-auto",children:l==="all"?"Start adding items to your favorites and they will appear here":`You haven't saved any ${l.toLowerCase()} items yet`}),s.jsx(ft,{to:"/categories",children:s.jsxs(B,{className:"primary-button",children:[s.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Browse Menu"]})})]})})]})]})}),s.jsx(ms,{})]})};var eU="Separator",Dj="horizontal",tU=["horizontal","vertical"],OP=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=Dj,...i}=e,a=rU(n)?n:Dj,c=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Oe.div,{"data-orientation":a,...c,...i,ref:t})});OP.displayName=eU;function rU(e){return tU.includes(e)}var LP=OP;const Gf=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(LP,{ref:i,decorative:r,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Gf.displayName=LP.displayName;const Vs=({value:e,maxStars:t=5,size:r="default",interactive:n=!1,showValue:i=!1,showCount:a=!1,reviewCount:l=0,loading:c=!1,disabled:u=!1,onChange:h,onHover:p,className:m,color:g="yellow",allowHalf:_=!0})=>{const[N,x]=v.useState(0),[S,w]=v.useState(!1),b=n&&S?N:e,j={sm:{star:"w-4 h-4",text:"text-sm",gap:"gap-0.5"},default:{star:"w-5 h-5",text:"text-base",gap:"gap-1"},lg:{star:"w-6 h-6",text:"text-lg",gap:"gap-1.5"}},k={yellow:{filled:"text-yellow-400 fill-yellow-400",empty:"text-gray-300 fill-gray-300",hover:"hover:text-yellow-500 hover:fill-yellow-500"},orange:{filled:"text-orange-400 fill-orange-400",empty:"text-gray-300 fill-gray-300",hover:"hover:text-orange-500 hover:fill-orange-500"},red:{filled:"text-red-400 fill-red-400",empty:"text-gray-300 fill-gray-300",hover:"hover:text-red-500 hover:fill-red-500"}},T=j[r],I=k[g],M=v.useCallback(U=>{!n||u||c||h==null||h(U)},[n,u,c,h]),R=v.useCallback(U=>{!n||u||c||(x(U),w(!0),p==null||p(U))},[n,u,c,p]),O=v.useCallback(()=>{n&&(w(!1),x(0))},[n]),z=Array.from({length:t},(U,Z)=>{const q=Z+1,ie=b>=q,K=_&&!ie&&b>Z&&b<q;return{value:q,isFilled:ie,isHalfFilled:K}});if(c)return s.jsxs("div",{className:ce("flex items-center",T.gap,m),children:[Array.from({length:t}).map((U,Z)=>s.jsx("div",{className:ce(T.star,"bg-gray-200 rounded-sm animate-pulse")},Z)),(i||a)&&s.jsx("div",{className:"ml-2 h-4 bg-gray-200 rounded animate-pulse w-16"})]});const G=U=>U===0?"0":U.toFixed(1);return s.jsxs("div",{className:ce("flex items-center",T.gap,m),onMouseLeave:O,children:[s.jsx("div",{className:ce("flex items-center",T.gap,n&&!u&&!c&&"cursor-pointer"),role:n?"radiogroup":"img","aria-label":n?`Rate this product from 1 to ${t} stars`:`Rating: ${G(e)} out of ${t} stars`,children:z.map(({value:U,isFilled:Z,isHalfFilled:q})=>s.jsxs("button",{type:"button",className:ce("relative outline-none focus:outline-none",n&&!u&&!c&&["transition-all duration-150","hover:scale-110","focus:scale-110","focus:ring-2 focus:ring-offset-1 focus:ring-yellow-400","rounded-sm"]),onClick:()=>M(U),onMouseEnter:()=>R(U),disabled:!n||u||c,role:n?"radio":"presentation","aria-checked":n?Z:void 0,"aria-label":n?`${U} star${U!==1?"s":""}`:void 0,tabIndex:n?0:-1,children:[s.jsx($t,{className:ce(T.star,"transition-all duration-150",Z?I.filled:I.empty,n&&!u&&!c&&I.hover)}),q&&s.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:"50%"},children:s.jsx($t,{className:ce(T.star,"transition-all duration-150",I.filled)})})]},U))}),(i||a)&&s.jsxs("div",{className:ce("ml-2 flex items-center",T.text),children:[i&&s.jsx("span",{className:"font-medium text-gray-900",children:G(e)}),i&&a&&s.jsx("span",{className:"mx-1 text-gray-400",children:"•"}),a&&s.jsx("span",{className:"text-gray-600",children:l===0?"No reviews":l===1?"1 review":`${l.toLocaleString()} reviews`})]})]})},nU=({rating:e,reviewCount:t,size:r="sm",className:n})=>s.jsx(Vs,{value:e,size:r,showValue:!0,showCount:!0,reviewCount:t,className:n});function jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ja(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const IP=6048e5,sU=864e5,Bh=43200,Fj=1440;let iU={};function Ou(){return iU}function Jd(e,t){var c,u,h,p;const r=Ou(),n=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=jt(e),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Qf(e){return Jd(e,{weekStartsOn:1})}function DP(e){const t=jt(e),r=t.getFullYear(),n=ja(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Qf(n),a=ja(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Qf(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function $j(e){const t=jt(e);return t.setHours(0,0,0,0),t}function Yf(e){const t=jt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function aU(e,t){const r=$j(e),n=$j(t),i=+r-Yf(r),a=+n-Yf(n);return Math.round((i-a)/sU)}function oU(e){const t=DP(e),r=ja(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qf(r)}function of(e,t){const r=jt(e),n=jt(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function lU(e){return ja(e,Date.now())}function cU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dU(e){if(!cU(e)&&typeof e!="number")return!1;const t=jt(e);return!isNaN(Number(t))}function uU(e,t){const r=jt(e),n=jt(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function hU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function fU(e,t){return+jt(e)-+jt(t)}function mU(e){const t=jt(e);return t.setHours(23,59,59,999),t}function pU(e){const t=jt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function gU(e){const t=jt(e);return+mU(t)==+pU(t)}function vU(e,t){const r=jt(e),n=jt(t),i=of(r,n),a=Math.abs(uU(r,n));let l;if(a<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let c=of(r,n)===-i;gU(jt(e))&&a===1&&of(e,n)===1&&(c=!1),l=i*(a-Number(c))}return l===0?0:l}function xU(e,t,r){const n=fU(e,t)/1e3;return hU(r==null?void 0:r.roundingMethod)(n)}function yU(e){const t=jt(e),r=ja(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const _U={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wU=(e,t,r)=>{let n;const i=_U[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const bU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SU={date:Hg({formats:bU,defaultWidth:"full"}),time:Hg({formats:jU,defaultWidth:"full"}),dateTime:Hg({formats:NU,defaultWidth:"full"})},CU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kU=(e,t,r,n)=>CU[e];function Qc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;i=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const PU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},LU={ordinalNumber:OU,era:Qc({values:PU,defaultWidth:"wide"}),quarter:Qc({values:EU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qc({values:TU,defaultWidth:"wide"}),day:Qc({values:RU,defaultWidth:"wide"}),dayPeriod:Qc({values:AU,defaultWidth:"wide",formattingValues:MU,defaultFormattingWidth:"wide"})};function Yc(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?DU(c,m=>m.test(l)):IU(c,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const p=t.slice(l.length);return{value:h,rest:p}}}function IU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function DU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function FU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(i.length);return{value:l,rest:c}}}const $U=/^(\d+)(th|st|nd|rd)?/i,zU=/\d+/i,BU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UU={any:[/^b/i,/^(a|c)/i]},VU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WU={any:[/1/i,/2/i,/3/i,/4/i]},HU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YU={ordinalNumber:FU({matchPattern:$U,parsePattern:zU,valueCallback:e=>parseInt(e,10)}),era:Yc({matchPatterns:BU,defaultMatchWidth:"wide",parsePatterns:UU,defaultParseWidth:"any"}),quarter:Yc({matchPatterns:VU,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yc({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:qU,defaultParseWidth:"any"}),day:Yc({matchPatterns:ZU,defaultMatchWidth:"wide",parsePatterns:KU,defaultParseWidth:"any"}),dayPeriod:Yc({matchPatterns:GU,defaultMatchWidth:"any",parsePatterns:QU,defaultParseWidth:"any"})},FP={code:"en-US",formatDistance:wU,formatLong:SU,formatRelative:kU,localize:LU,match:YU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XU(e){const t=jt(e);return aU(t,yU(t))+1}function JU(e){const t=jt(e),r=+Qf(t)-+oU(t);return Math.round(r/IP)+1}function $P(e,t){var p,m,g,_;const r=jt(e),n=r.getFullYear(),i=Ou(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(g=i.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,l=ja(e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=Jd(l,t),u=ja(e,0);u.setFullYear(n,0,a),u.setHours(0,0,0,0);const h=Jd(u,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function e8(e,t){var c,u,h,p;const r=Ou(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=$P(e,t),a=ja(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Jd(a,t)}function t8(e,t){const r=jt(e),n=+Jd(r,t)-+e8(r,t);return Math.round(n/IP)+1}function yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Oi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):yt(r+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return yt(i,t.length)}},tl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zj={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Oi.y(e,t)},Y:function(e,t,r,n){const i=$P(e,n),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return yt(l,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):yt(a,t.length)},R:function(e,t){const r=DP(e);return yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Oi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=t8(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){const n=JU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Oi.d(e,t)},D:function(e,t,r){const n=XU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=tl.noon:n===0?i=tl.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=tl.evening:n>=12?i=tl.afternoon:n>=4?i=tl.morning:i=tl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Oi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Oi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Oi.s(e,t)},S:function(e,t){return Oi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Uj(n);case"XXXX":case"XX":return Wa(n);case"XXXXX":case"XXX":default:return Wa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Uj(n);case"xxxx":case"xx":return Wa(n);case"xxxxx":case"xxx":default:return Wa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bj(n,":");case"OOOO":default:return"GMT"+Wa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bj(n,":");case"zzzz":default:return"GMT"+Wa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return yt(n,t.length)},T:function(e,t,r){const n=e.getTime();return yt(n,t.length)}};function Bj(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+yt(a,2)}function Uj(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):Wa(e,t)}function Wa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=yt(Math.trunc(n/60),2),a=yt(n%60,2);return r+i+t+a}const Vj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},r8=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Vj(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Vj(n,t)).replace("{{time}}",zP(i,t))},n8={p:zP,P:r8},s8=/^D+$/,i8=/^Y+$/,a8=["D","DD","YY","YYYY"];function o8(e){return s8.test(e)}function l8(e){return i8.test(e)}function c8(e,t,r){const n=d8(e,t,r);if(console.warn(n),a8.includes(e))throw new RangeError(n)}function d8(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f8=/^'([^]*?)'?$/,m8=/''/g,p8=/[a-zA-Z]/;function Wj(e,t,r){var p,m,g,_;const n=Ou(),i=n.locale??FP,a=n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=n.weekStartsOn??((_=(g=n.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,c=jt(e);if(!dU(c))throw new RangeError("Invalid time value");let u=t.match(h8).map(N=>{const x=N[0];if(x==="p"||x==="P"){const S=n8[x];return S(N,i.formatLong)}return N}).join("").match(u8).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const x=N[0];if(x==="'")return{isToken:!1,value:g8(N)};if(zj[x])return{isToken:!0,value:N};if(x.match(p8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:N}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return u.map(N=>{if(!N.isToken)return N.value;const x=N.value;(l8(x)||o8(x))&&c8(x,t,String(e));const S=zj[x[0]];return S(c,x,i.localize,h)}).join("")}function g8(e){const t=e.match(f8);return t?t[1].replace(m8,"'"):e}function BP(e,t,r){const n=Ou(),i=(r==null?void 0:r.locale)??n.locale??FP,a=2520,l=of(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let u,h;l>0?(u=jt(t),h=jt(e)):(u=jt(e),h=jt(t));const p=xU(h,u),m=(Yf(h)-Yf(u))/1e3,g=Math.round((p-m)/60);let _;if(g<2)return r!=null&&r.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,c):p<10?i.formatDistance("lessThanXSeconds",10,c):p<20?i.formatDistance("lessThanXSeconds",20,c):p<40?i.formatDistance("halfAMinute",0,c):p<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<Fj){const N=Math.round(g/60);return i.formatDistance("aboutXHours",N,c)}else{if(g<a)return i.formatDistance("xDays",1,c);if(g<Bh){const N=Math.round(g/Fj);return i.formatDistance("xDays",N,c)}else if(g<Bh*2)return _=Math.round(g/Bh),i.formatDistance("aboutXMonths",_,c)}if(_=vU(h,u),_<12){const N=Math.round(g/Bh);return i.formatDistance("xMonths",N,c)}else{const N=_%12,x=Math.trunc(_/12);return N<3?i.formatDistance("aboutXYears",x,c):N<9?i.formatDistance("overXYears",x,c):i.formatDistance("almostXYears",x+1,c)}}function v8(e,t){return BP(e,lU(e),t)}var T0="Avatar",[x8,gH]=ws(T0),[y8,UP]=x8(T0),VP=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=v.useState("idle");return s.jsx(y8,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Oe.span,{...n,ref:t})})});VP.displayName=T0;var WP="AvatarImage",HP=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,l=UP(WP,r),c=_8(n,a.referrerPolicy),u=Cr(h=>{i(h),l.onImageLoadingStatusChange(h)});return vr(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?s.jsx(Oe.img,{...a,ref:t,src:n}):null});HP.displayName=WP;var qP="AvatarFallback",ZP=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=UP(qP,r),[l,c]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),l&&a.imageLoadingStatus!=="loaded"?s.jsx(Oe.span,{...i,ref:t}):null});ZP.displayName=qP;function _8(e,t){const[r,n]=v.useState("idle");return vr(()=>{if(!e){n("error");return}let i=!0;const a=new window.Image,l=c=>()=>{i&&n(c)};return n("loading"),a.onload=l("loaded"),a.onerror=l("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{i=!1}},[e,t]),r}var KP=VP,GP=HP,QP=ZP;const YP=v.forwardRef(({className:e,...t},r)=>s.jsx(KP,{ref:r,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));YP.displayName=KP.displayName;const XP=v.forwardRef(({className:e,...t},r)=>s.jsx(GP,{ref:r,className:ce("aspect-square h-full w-full",e),...t}));XP.displayName=GP.displayName;const JP=v.forwardRef(({className:e,...t},r)=>s.jsx(QP,{ref:r,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));JP.displayName=QP.displayName;var Ix=["Enter"," "],w8=["ArrowDown","PageUp","Home"],eE=["ArrowUp","PageDown","End"],b8=[...w8,...eE],j8={ltr:[...Ix,"ArrowRight"],rtl:[...Ix,"ArrowLeft"]},N8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lu="Menu",[eu,S8,C8]=Am(Lu),[Lo,tE]=ws(Lu,[C8,yc,lp]),cp=yc(),rE=lp(),[k8,Io]=Lo(Lu),[P8,Iu]=Lo(Lu),nE=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:l=!0}=e,c=cp(t),[u,h]=v.useState(null),p=v.useRef(!1),m=Cr(a),g=Jm(i);return v.useEffect(()=>{const _=()=>{p.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>p.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(GC,{...c,children:s.jsx(k8,{scope:t,open:r,onOpenChange:m,content:u,onContentChange:h,children:s.jsx(P8,{scope:t,onClose:v.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:g,modal:l,children:n})})})};nE.displayName=Lu;var E8="MenuAnchor",R0=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=cp(r);return s.jsx(s0,{...i,...n,ref:t})});R0.displayName=E8;var A0="MenuPortal",[T8,sE]=Lo(A0,{forceMount:void 0}),iE=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=Io(A0,t);return s.jsx(T8,{scope:t,forceMount:r,children:s.jsx(Gn,{present:r||a.open,children:s.jsx(Cu,{asChild:!0,container:i,children:n})})})};iE.displayName=A0;var Wn="MenuContent",[R8,M0]=Lo(Wn),aE=v.forwardRef((e,t)=>{const r=sE(Wn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Io(Wn,e.__scopeMenu),l=Iu(Wn,e.__scopeMenu);return s.jsx(eu.Provider,{scope:e.__scopeMenu,children:s.jsx(Gn,{present:n||a.open,children:s.jsx(eu.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(A8,{...i,ref:t}):s.jsx(M8,{...i,ref:t})})})})}),A8=v.forwardRef((e,t)=>{const r=Io(Wn,e.__scopeMenu),n=v.useRef(null),i=ot(t,n);return v.useEffect(()=>{const a=n.current;if(a)return N0(a)},[]),s.jsx(O0,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),M8=v.forwardRef((e,t)=>{const r=Io(Wn,e.__scopeMenu);return s.jsx(O0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O0=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:_,disableOutsideScroll:N,...x}=e,S=Io(Wn,r),w=Iu(Wn,r),b=cp(r),j=rE(r),k=S8(r),[T,I]=v.useState(null),M=v.useRef(null),R=ot(t,M,S.onContentChange),O=v.useRef(0),z=v.useRef(""),G=v.useRef(0),U=v.useRef(null),Z=v.useRef("right"),q=v.useRef(0),ie=N?rp:v.Fragment,K=N?{as:yi,allowPinchZoom:!0}:void 0,Q=A=>{var ve,Fe;const W=z.current+A,J=k().filter(Xe=>!Xe.disabled),de=document.activeElement,Ne=(ve=J.find(Xe=>Xe.ref.current===de))==null?void 0:ve.textValue,ke=J.map(Xe=>Xe.textValue),Pe=H8(ke,W,Ne),he=(Fe=J.find(Xe=>Xe.textValue===Pe))==null?void 0:Fe.ref.current;(function Xe(He){z.current=He,window.clearTimeout(O.current),He!==""&&(O.current=window.setTimeout(()=>Xe(""),1e3))})(W),he&&setTimeout(()=>he.focus())};v.useEffect(()=>()=>window.clearTimeout(O.current),[]),b0();const E=v.useCallback(A=>{var J,de;return Z.current===((J=U.current)==null?void 0:J.side)&&Z8(A,(de=U.current)==null?void 0:de.area)},[]);return s.jsx(R8,{scope:r,searchRef:z,onItemEnter:v.useCallback(A=>{E(A)&&A.preventDefault()},[E]),onItemLeave:v.useCallback(A=>{var W;E(A)||((W=M.current)==null||W.focus(),I(null))},[E]),onTriggerLeave:v.useCallback(A=>{E(A)&&A.preventDefault()},[E]),pointerGraceTimerRef:G,onPointerGraceIntentChange:v.useCallback(A=>{U.current=A},[]),children:s.jsx(ie,{...K,children:s.jsx(ep,{asChild:!0,trapped:i,onMountAutoFocus:me(a,A=>{var W;A.preventDefault(),(W=M.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:_,children:s.jsx(vP,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:me(u,A=>{w.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(i0,{role:"menu","aria-orientation":"vertical","data-state":bE(S.open),"data-radix-menu-content":"",dir:w.dir,...b,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:me(x.onKeyDown,A=>{const J=A.target.closest("[data-radix-menu-content]")===A.currentTarget,de=A.ctrlKey||A.altKey||A.metaKey,Ne=A.key.length===1;J&&(A.key==="Tab"&&A.preventDefault(),!de&&Ne&&Q(A.key));const ke=M.current;if(A.target!==ke||!b8.includes(A.key))return;A.preventDefault();const he=k().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);eE.includes(A.key)&&he.reverse(),V8(he)}),onBlur:me(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(O.current),z.current="")}),onPointerMove:me(e.onPointerMove,tu(A=>{const W=A.target,J=q.current!==A.clientX;if(A.currentTarget.contains(W)&&J){const de=A.clientX>q.current?"right":"left";Z.current=de,q.current=A.clientX}}))})})})})})})});aE.displayName=Wn;var O8="MenuGroup",L0=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Oe.div,{role:"group",...n,ref:t})});L0.displayName=O8;var L8="MenuLabel",oE=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Oe.div,{...n,ref:t})});oE.displayName=L8;var Xf="MenuItem",Hj="menu.itemSelect",dp=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=v.useRef(null),l=Iu(Xf,e.__scopeMenu),c=M0(Xf,e.__scopeMenu),u=ot(t,a),h=v.useRef(!1),p=()=>{const m=a.current;if(!r&&m){const g=new CustomEvent(Hj,{bubbles:!0,cancelable:!0});m.addEventListener(Hj,_=>n==null?void 0:n(_),{once:!0}),By(m,g),g.defaultPrevented?h.current=!1:l.onClose()}};return s.jsx(lE,{...i,ref:u,disabled:r,onClick:me(e.onClick,p),onPointerDown:m=>{var g;(g=e.onPointerDown)==null||g.call(e,m),h.current=!0},onPointerUp:me(e.onPointerUp,m=>{var g;h.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:me(e.onKeyDown,m=>{const g=c.searchRef.current!=="";r||g&&m.key===" "||Ix.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});dp.displayName=Xf;var lE=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,l=M0(Xf,r),c=rE(r),u=v.useRef(null),h=ot(t,u),[p,m]=v.useState(!1),[g,_]=v.useState("");return v.useEffect(()=>{const N=u.current;N&&_((N.textContent??"").trim())},[a.children]),s.jsx(eu.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:s.jsx(xP,{asChild:!0,...c,focusable:!n,children:s.jsx(Oe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:h,onPointerMove:me(e.onPointerMove,tu(N=>{n?l.onItemLeave(N):(l.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,tu(N=>l.onItemLeave(N))),onFocus:me(e.onFocus,()=>m(!0)),onBlur:me(e.onBlur,()=>m(!1))})})})}),I8="MenuCheckboxItem",cE=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return s.jsx(mE,{scope:e.__scopeMenu,checked:r,children:s.jsx(dp,{role:"menuitemcheckbox","aria-checked":Jf(r)?"mixed":r,...i,ref:t,"data-state":D0(r),onSelect:me(i.onSelect,()=>n==null?void 0:n(Jf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});cE.displayName=I8;var dE="MenuRadioGroup",[D8,F8]=Lo(dE,{value:void 0,onValueChange:()=>{}}),uE=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Cr(n);return s.jsx(D8,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(L0,{...i,ref:t})})});uE.displayName=dE;var hE="MenuRadioItem",fE=v.forwardRef((e,t)=>{const{value:r,...n}=e,i=F8(hE,e.__scopeMenu),a=r===i.value;return s.jsx(mE,{scope:e.__scopeMenu,checked:a,children:s.jsx(dp,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":D0(a),onSelect:me(n.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,r)},{checkForDefaultPrevented:!1})})})});fE.displayName=hE;var I0="MenuItemIndicator",[mE,$8]=Lo(I0,{checked:!1}),pE=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=$8(I0,r);return s.jsx(Gn,{present:n||Jf(a.checked)||a.checked===!0,children:s.jsx(Oe.span,{...i,ref:t,"data-state":D0(a.checked)})})});pE.displayName=I0;var z8="MenuSeparator",gE=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gE.displayName=z8;var B8="MenuArrow",vE=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=cp(r);return s.jsx(a0,{...i,...n,ref:t})});vE.displayName=B8;var U8="MenuSub",[vH,xE]=Lo(U8),ld="MenuSubTrigger",yE=v.forwardRef((e,t)=>{const r=Io(ld,e.__scopeMenu),n=Iu(ld,e.__scopeMenu),i=xE(ld,e.__scopeMenu),a=M0(ld,e.__scopeMenu),l=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,h={__scopeMenu:e.__scopeMenu},p=v.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),s.jsx(R0,{asChild:!0,...h,children:s.jsx(lE,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":bE(r.open),...e,ref:Rm(t,i.onTriggerChange),onClick:m=>{var g;(g=e.onClick)==null||g.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,tu(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:me(e.onPointerLeave,tu(m=>{var _,N;p();const g=(_=r.content)==null?void 0:_.getBoundingClientRect();if(g){const x=(N=r.content)==null?void 0:N.dataset.side,S=x==="right",w=S?-5:5,b=g[S?"left":"right"],j=g[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x:b,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:b,y:g.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,m=>{var _;const g=a.searchRef.current!=="";e.disabled||g&&m.key===" "||j8[n.dir].includes(m.key)&&(r.onOpenChange(!0),(_=r.content)==null||_.focus(),m.preventDefault())})})})});yE.displayName=ld;var _E="MenuSubContent",wE=v.forwardRef((e,t)=>{const r=sE(Wn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Io(Wn,e.__scopeMenu),l=Iu(Wn,e.__scopeMenu),c=xE(_E,e.__scopeMenu),u=v.useRef(null),h=ot(t,u);return s.jsx(eu.Provider,{scope:e.__scopeMenu,children:s.jsx(Gn,{present:n||a.open,children:s.jsx(eu.Slot,{scope:e.__scopeMenu,children:s.jsx(O0,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:me(e.onFocusOutside,p=>{p.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:me(e.onKeyDown,p=>{var _;const m=p.currentTarget.contains(p.target),g=N8[l.dir].includes(p.key);m&&g&&(a.onOpenChange(!1),(_=c.trigger)==null||_.focus(),p.preventDefault())})})})})})});wE.displayName=_E;function bE(e){return e?"open":"closed"}function Jf(e){return e==="indeterminate"}function D0(e){return Jf(e)?"indeterminate":e?"checked":"unchecked"}function V8(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function W8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function H8(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=W8(e,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==r));const u=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function q8(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a].x,u=t[a].y,h=t[l].x,p=t[l].y;u>n!=p>n&&r<(h-c)*(n-u)/(p-u)+c&&(i=!i)}return i}function Z8(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return q8(r,t)}function tu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var K8=nE,G8=R0,Q8=iE,Y8=aE,X8=L0,J8=oE,e9=dp,t9=cE,r9=uE,n9=fE,s9=pE,i9=gE,a9=vE,o9=yE,l9=wE,F0="DropdownMenu",[c9,xH]=ws(F0,[tE]),Gr=tE(),[d9,jE]=c9(F0),NE=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,u=Gr(t),h=v.useRef(null),[p=!1,m]=_i({prop:i,defaultProp:a,onChange:l});return s.jsx(d9,{scope:t,triggerId:zs(),triggerRef:h,contentId:zs(),open:p,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:c,children:s.jsx(K8,{...u,open:p,onOpenChange:m,dir:n,modal:c,children:r})})};NE.displayName=F0;var SE="DropdownMenuTrigger",CE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=jE(SE,r),l=Gr(r);return s.jsx(G8,{asChild:!0,...l,children:s.jsx(Oe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Rm(t,a.triggerRef),onPointerDown:me(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:me(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});CE.displayName=SE;var u9="DropdownMenuPortal",kE=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gr(t);return s.jsx(Q8,{...n,...r})};kE.displayName=u9;var PE="DropdownMenuContent",EE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=jE(PE,r),a=Gr(r),l=v.useRef(!1);return s.jsx(Y8,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,c=>{var u;l.current||(u=i.triggerRef.current)==null||u.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:me(e.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EE.displayName=PE;var h9="DropdownMenuGroup",f9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(X8,{...i,...n,ref:t})});f9.displayName=h9;var m9="DropdownMenuLabel",TE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(J8,{...i,...n,ref:t})});TE.displayName=m9;var p9="DropdownMenuItem",RE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(e9,{...i,...n,ref:t})});RE.displayName=p9;var g9="DropdownMenuCheckboxItem",AE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(t9,{...i,...n,ref:t})});AE.displayName=g9;var v9="DropdownMenuRadioGroup",x9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(r9,{...i,...n,ref:t})});x9.displayName=v9;var y9="DropdownMenuRadioItem",ME=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(n9,{...i,...n,ref:t})});ME.displayName=y9;var _9="DropdownMenuItemIndicator",OE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(s9,{...i,...n,ref:t})});OE.displayName=_9;var w9="DropdownMenuSeparator",LE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(i9,{...i,...n,ref:t})});LE.displayName=w9;var b9="DropdownMenuArrow",j9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(a9,{...i,...n,ref:t})});j9.displayName=b9;var N9="DropdownMenuSubTrigger",IE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(o9,{...i,...n,ref:t})});IE.displayName=N9;var S9="DropdownMenuSubContent",DE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Gr(r);return s.jsx(l9,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DE.displayName=S9;var C9=NE,k9=CE,P9=kE,FE=EE,$E=TE,zE=RE,BE=AE,UE=ME,VE=OE,WE=LE,HE=IE,qE=DE;const up=C9,hp=k9,E9=v.forwardRef(({className:e,inset:t,children:r,...n},i)=>s.jsxs(HE,{ref:i,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(fC,{className:"ml-auto h-4 w-4"})]}));E9.displayName=HE.displayName;const T9=v.forwardRef(({className:e,...t},r)=>s.jsx(qE,{ref:r,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));T9.displayName=qE.displayName;const Du=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(P9,{children:s.jsx(FE,{ref:n,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Du.displayName=FE.displayName;const hr=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(zE,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));hr.displayName=zE.displayName;const R9=v.forwardRef(({className:e,children:t,checked:r,...n},i)=>s.jsxs(BE,{ref:i,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(VE,{children:s.jsx(Im,{className:"h-4 w-4"})})}),t]}));R9.displayName=BE.displayName;const A9=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UE,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(VE,{children:s.jsx(vL,{className:"h-2 w-2 fill-current"})})}),t]}));A9.displayName=UE.displayName;const ZE=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx($E,{ref:n,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ZE.displayName=$E.displayName;const ru=v.forwardRef(({className:e,...t},r)=>s.jsx(WE,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));ru.displayName=WE.displayName;const M9=({review:e,isOwnReview:t=!1,isAdmin:r=!1,showProduct:n=!1,moderationMode:i=!1,hasVotedHelpful:a=!1,votingLoading:l=!1,onToggleHelpful:c,onEdit:u,onDelete:h,onReport:p,onApprove:m,onReject:g,className:_})=>{var M;const[N,x]=v.useState(!1),S=200,w=e.comment||"",b=w.length>S,j=N||!b?w:w.substring(0,S)+"...",k=()=>{if(!e.user)return"Anonymous";const{first_name:R,last_name:O}=e.user;return`${R} ${O}`.trim()||"Anonymous"},T=R=>{try{const O=new Date(R);return v8(O,{addSuffix:!0})}catch{return"Unknown date"}},I=()=>{l||t||c==null||c(e.id)};return s.jsx(re,{className:ce("w-full",_),children:s.jsx(ne,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(YP,{className:"w-10 h-10",children:[s.jsx(XP,{src:((M=e.user)==null?void 0:M.avatar_url)||void 0,alt:k()}),s.jsx(JP,{children:s.jsx(wi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:k()}),i&&s.jsx(We,{variant:e.is_approved?"default":"secondary",className:"text-xs",children:e.is_approved?"Approved":"Pending"}),t&&s.jsx(We,{variant:"outline",className:"text-xs",children:"Your Review"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[s.jsx(Vs,{value:e.rating,size:"sm"}),s.jsx("span",{children:"•"}),s.jsx("time",{dateTime:e.created_at,children:T(e.created_at)}),n&&e.product&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"font-medium truncate",children:e.product.name})]})]})]})]}),s.jsxs(up,{children:[s.jsx(hp,{asChild:!0,children:s.jsxs(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[s.jsx(qy,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Review actions"})]})}),s.jsxs(Du,{align:"end",children:[t&&s.jsxs(s.Fragment,{children:[s.jsxs(hr,{onClick:()=>u==null?void 0:u(e),className:"flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4"}),"Edit Review"]}),s.jsxs(hr,{onClick:()=>h==null?void 0:h(e.id),className:"flex items-center gap-2 text-red-600",children:[s.jsx(vs,{className:"h-4 w-4"}),"Delete Review"]})]}),!t&&!r&&s.jsxs(hr,{onClick:()=>p==null?void 0:p(e.id),className:"flex items-center gap-2",children:[s.jsx(yL,{className:"h-4 w-4"}),"Report Review"]}),r&&s.jsxs(s.Fragment,{children:[!e.is_approved&&s.jsxs(hr,{onClick:()=>m==null?void 0:m(e.id),className:"flex items-center gap-2 text-green-600",children:[s.jsx(Eb,{className:"h-4 w-4"}),"Approve Review"]}),s.jsxs(hr,{onClick:()=>g==null?void 0:g(e.id),className:"flex items-center gap-2 text-red-600",children:[s.jsx(vs,{className:"h-4 w-4"}),e.is_approved?"Remove Review":"Reject Review"]})]})]})]})]}),w&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:j}),b&&s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>x(!N),className:"h-auto p-0 text-sm text-blue-600 hover:text-blue-700",children:N?"Show less":"Read more"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[s.jsxs(B,{variant:"ghost",size:"sm",onClick:I,disabled:l||t,className:ce("flex items-center gap-2 h-8",a&&"text-blue-600 bg-blue-50",t&&"opacity-50 cursor-not-allowed"),children:[s.jsx(Eb,{className:ce("h-4 w-4",a&&"fill-current")}),s.jsxs("span",{className:"text-sm",children:["Helpful ",e.helpful_count>0&&`(${e.helpful_count})`]})]}),e.updated_at!==e.created_at&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Edited ",T(e.updated_at)]})]})]})})})};var $0="Dialog",[KE,GE]=ws($0),[O9,bs]=KE($0),QE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=v.useRef(null),u=v.useRef(null),[h=!1,p]=_i({prop:n,defaultProp:i,onChange:a});return s.jsx(O9,{scope:t,triggerRef:c,contentRef:u,contentId:zs(),titleId:zs(),descriptionId:zs(),open:h,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),modal:l,children:r})};QE.displayName=$0;var YE="DialogTrigger",XE=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bs(YE,r),a=ot(t,i.triggerRef);return s.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":U0(i.open),...n,ref:a,onClick:me(e.onClick,i.onOpenToggle)})});XE.displayName=YE;var z0="DialogPortal",[L9,JE]=KE(z0,{forceMount:void 0}),eT=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=bs(z0,t);return s.jsx(L9,{scope:t,forceMount:r,children:v.Children.map(n,l=>s.jsx(Gn,{present:r||a.open,children:s.jsx(Cu,{asChild:!0,container:i,children:l})}))})};eT.displayName=z0;var em="DialogOverlay",tT=v.forwardRef((e,t)=>{const r=JE(em,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=bs(em,e.__scopeDialog);return a.modal?s.jsx(Gn,{present:n||a.open,children:s.jsx(I9,{...i,ref:t})}):null});tT.displayName=em;var I9=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bs(em,r);return s.jsx(rp,{as:yi,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Oe.div,{"data-state":U0(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),wo="DialogContent",rT=v.forwardRef((e,t)=>{const r=JE(wo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=bs(wo,e.__scopeDialog);return s.jsx(Gn,{present:n||a.open,children:a.modal?s.jsx(D9,{...i,ref:t}):s.jsx(F9,{...i,ref:t})})});rT.displayName=wo;var D9=v.forwardRef((e,t)=>{const r=bs(wo,e.__scopeDialog),n=v.useRef(null),i=ot(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return N0(a)},[]),s.jsx(nT,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault())})}),F9=v.forwardRef((e,t)=>{const r=bs(wo,e.__scopeDialog),n=v.useRef(!1),i=v.useRef(!1);return s.jsx(nT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),nT=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=e,c=bs(wo,r),u=v.useRef(null),h=ot(t,u);return b0(),s.jsxs(s.Fragment,{children:[s.jsx(ep,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(fc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":U0(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(z9,{titleId:c.titleId}),s.jsx(U9,{contentRef:u,descriptionId:c.descriptionId})]})]})}),B0="DialogTitle",sT=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bs(B0,r);return s.jsx(Oe.h2,{id:i.titleId,...n,ref:t})});sT.displayName=B0;var iT="DialogDescription",aT=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bs(iT,r);return s.jsx(Oe.p,{id:i.descriptionId,...n,ref:t})});aT.displayName=iT;var oT="DialogClose",lT=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bs(oT,r);return s.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>i.onOpenChange(!1))})});lT.displayName=oT;function U0(e){return e?"open":"closed"}var cT="DialogTitleWarning",[$9,dT]=EO(cT,{contentName:wo,titleName:B0,docsSlug:"dialog"}),z9=({titleId:e})=>{const t=dT(cT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},B9="DialogDescriptionWarning",U9=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dT(B9).contentName}}.`;return v.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},V0=QE,W0=XE,H0=eT,Fu=tT,$u=rT,zu=sT,Bu=aT,fp=lT;const ic=V0,Uu=W0,V9=H0,uT=v.forwardRef(({className:e,...t},r)=>s.jsx(Fu,{ref:r,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uT.displayName=Fu.displayName;const bo=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(V9,{children:[s.jsx(uT,{}),s.jsxs($u,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(fp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bo.displayName=$u.displayName;const jo=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});jo.displayName="DialogHeader";const tm=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tm.displayName="DialogFooter";const No=v.forwardRef(({className:e,...t},r)=>s.jsx(zu,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));No.displayName=zu.displayName;const Dx=v.forwardRef(({className:e,...t},r)=>s.jsx(Bu,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Dx.displayName=Bu.displayName;var Vu=e=>e.type==="checkbox",Ga=e=>e instanceof Date,Vr=e=>e==null;const hT=e=>typeof e=="object";var Qt=e=>!Vr(e)&&!Array.isArray(e)&&hT(e)&&!Ga(e),fT=e=>Qt(e)&&e.target?Vu(e.target)?e.target.checked:e.target.value:e,W9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mT=(e,t)=>e.has(W9(t)),H9=e=>{const t=e.constructor&&e.constructor.prototype;return Qt(t)&&t.hasOwnProperty("isPrototypeOf")},q0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tn(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(q0&&(e instanceof Blob||e instanceof FileList))&&(r||Qt(e)))if(t=r?[]:{},!r&&!H9(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=tn(e[n]));else return e;return t}var mp=e=>Array.isArray(e)?e.filter(Boolean):[],Vt=e=>e===void 0,fe=(e,t,r)=>{if(!t||!Qt(e))return r;const n=mp(t.split(/[,[\].]+?/)).reduce((i,a)=>Vr(i)?i:i[a],e);return Vt(n)||n===e?Vt(e[t])?r:e[t]:n},Dn=e=>typeof e=="boolean",Z0=e=>/^\w*$/.test(e),pT=e=>mp(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(e,t,r)=>{let n=-1;const i=Z0(t)?[t]:pT(t),a=i.length,l=a-1;for(;++n<a;){const c=i[n];let u=r;if(n!==l){const h=e[c];u=Qt(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(c==="__proto__")return;e[c]=u,e=e[c]}return e};const rm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ri={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gT=te.createContext(null),pp=()=>te.useContext(gT),q9=e=>{const{children:t,...r}=e;return te.createElement(gT.Provider,{value:r},t)};var vT=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const l=a;return t._proxyFormState[l]!==cs.all&&(t._proxyFormState[l]=!n||cs.all),r&&(r[l]=!0),e[l]}});return i},sn=e=>Qt(e)&&!Object.keys(e).length,xT=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return sn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!n||cs.all))},Nd=e=>Array.isArray(e)?e:[e],yT=(e,t,r)=>!e||!t||e===t||Nd(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function K0(e){const t=te.useRef(e);t.current=e,te.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Z9(e){const t=pp(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[l,c]=te.useState(r._formState),u=te.useRef(!0),h=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=te.useRef(i);return p.current=i,K0({disabled:n,next:m=>u.current&&yT(p.current,m.name,a)&&xT(m,h.current,r._updateFormState)&&c({...r._formState,...m}),subject:r._subjects.state}),te.useEffect(()=>(u.current=!0,h.current.isValid&&r._updateValid(!0),()=>{u.current=!1}),[r]),vT(l,r,h.current,!1)}var Is=e=>typeof e=="string",_T=(e,t,r,n,i)=>Is(e)?(n&&t.watch.add(e),fe(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),fe(r,a))):(n&&(t.watchAll=!0),r);function K9(e){const t=pp(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:l}=e||{},c=te.useRef(n);c.current=n,K0({disabled:a,subject:r._subjects.values,next:p=>{yT(c.current,p.name,l)&&h(tn(_T(c.current,r._names,p.values||r._formValues,!1,i)))}});const[u,h]=te.useState(r._getWatch(n,i));return te.useEffect(()=>r._removeUnmounted()),u}function G9(e){const t=pp(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a}=e,l=mT(i._names.array,r),c=K9({control:i,name:r,defaultValue:fe(i._formValues,r,fe(i._defaultValues,r,e.defaultValue)),exact:!0}),u=Z9({control:i,name:r,exact:!0}),h=te.useRef(i.register(r,{...e.rules,value:c,...Dn(e.disabled)?{disabled:e.disabled}:{}}));return te.useEffect(()=>{const p=i._options.shouldUnregister||a,m=(g,_)=>{const N=fe(i._fields,g);N&&N._f&&(N._f.mount=_)};if(m(r,!0),p){const g=tn(fe(i._options.defaultValues,r));pt(i._defaultValues,r,g),Vt(fe(i._formValues,r))&&pt(i._formValues,r,g)}return()=>{(l?p&&!i._state.action:p)?i.unregister(r):m(r,!1)}},[r,i,l,a]),te.useEffect(()=>{fe(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:fe(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:c,...Dn(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:te.useCallback(p=>h.current.onChange({target:{value:fT(p),name:r},type:rm.CHANGE}),[r]),onBlur:te.useCallback(()=>h.current.onBlur({target:{value:fe(i._formValues,r),name:r},type:rm.BLUR}),[r,i]),ref:te.useCallback(p=>{const m=fe(i._fields,r);m&&p&&(m._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:g=>p.setCustomValidity(g),reportValidity:()=>p.reportValidity()})},[i._fields,r])},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!fe(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!fe(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!fe(u.validatingFields,r)},error:{enumerable:!0,get:()=>fe(u.errors,r)}})}}const Q9=e=>e.render(G9(e));var wT=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},qj=e=>({isOnSubmit:!e||e===cs.onSubmit,isOnBlur:e===cs.onBlur,isOnChange:e===cs.onChange,isOnAll:e===cs.all,isOnTouch:e===cs.onTouched}),Zj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Sd=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=fe(e,i);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Sd(c,t))break}else if(Qt(c)&&Sd(c,t))break}}};var Y9=(e,t,r)=>{const n=Nd(fe(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},G0=e=>e.type==="file",hi=e=>typeof e=="function",nm=e=>{if(!q0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lf=e=>Is(e),Q0=e=>e.type==="radio",sm=e=>e instanceof RegExp;const Kj={value:!1,isValid:!1},Gj={value:!0,isValid:!0};var bT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?Gj:{value:e[0].value,isValid:!0}:Gj:Kj}return Kj};const Qj={isValid:!1,value:null};var jT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Qj):Qj;function Yj(e,t,r="validate"){if(lf(e)||Array.isArray(e)&&e.every(lf)||Dn(e)&&!e)return{type:r,message:lf(e)?e:"",ref:t}}var rl=e=>Qt(e)&&!sm(e)?e:{value:e,message:""},Xj=async(e,t,r,n,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:h,min:p,max:m,pattern:g,validate:_,name:N,valueAsNumber:x,mount:S,disabled:w}=e._f,b=fe(t,N);if(!S||w)return{};const j=l?l[0]:a,k=U=>{n&&j.reportValidity&&(j.setCustomValidity(Dn(U)?"":U||""),j.reportValidity())},T={},I=Q0(a),M=Vu(a),R=I||M,O=(x||G0(a))&&Vt(a.value)&&Vt(b)||nm(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,z=wT.bind(null,N,r,T),G=(U,Z,q,ie=ri.maxLength,K=ri.minLength)=>{const Q=U?Z:q;T[N]={type:U?ie:K,message:Q,ref:a,...z(U?ie:K,Q)}};if(i?!Array.isArray(b)||!b.length:c&&(!R&&(O||Vr(b))||Dn(b)&&!b||M&&!bT(l).isValid||I&&!jT(l).isValid)){const{value:U,message:Z}=lf(c)?{value:!!c,message:c}:rl(c);if(U&&(T[N]={type:ri.required,message:Z,ref:j,...z(ri.required,Z)},!r))return k(Z),T}if(!O&&(!Vr(p)||!Vr(m))){let U,Z;const q=rl(m),ie=rl(p);if(!Vr(b)&&!isNaN(b)){const K=a.valueAsNumber||b&&+b;Vr(q.value)||(U=K>q.value),Vr(ie.value)||(Z=K<ie.value)}else{const K=a.valueAsDate||new Date(b),Q=W=>new Date(new Date().toDateString()+" "+W),E=a.type=="time",A=a.type=="week";Is(q.value)&&b&&(U=E?Q(b)>Q(q.value):A?b>q.value:K>new Date(q.value)),Is(ie.value)&&b&&(Z=E?Q(b)<Q(ie.value):A?b<ie.value:K<new Date(ie.value))}if((U||Z)&&(G(!!U,q.message,ie.message,ri.max,ri.min),!r))return k(T[N].message),T}if((u||h)&&!O&&(Is(b)||i&&Array.isArray(b))){const U=rl(u),Z=rl(h),q=!Vr(U.value)&&b.length>+U.value,ie=!Vr(Z.value)&&b.length<+Z.value;if((q||ie)&&(G(q,U.message,Z.message),!r))return k(T[N].message),T}if(g&&!O&&Is(b)){const{value:U,message:Z}=rl(g);if(sm(U)&&!b.match(U)&&(T[N]={type:ri.pattern,message:Z,ref:a,...z(ri.pattern,Z)},!r))return k(Z),T}if(_){if(hi(_)){const U=await _(b,t),Z=Yj(U,j);if(Z&&(T[N]={...Z,...z(ri.validate,Z.message)},!r))return k(Z.message),T}else if(Qt(_)){let U={};for(const Z in _){if(!sn(U)&&!r)break;const q=Yj(await _[Z](b,t),j,Z);q&&(U={...q,...z(Z,q.message)},k(q.message),r&&(T[N]=U))}if(!sn(U)&&(T[N]={ref:j,...U},!r))return T}}return k(!0),T};function X9(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Vt(e)?n++:e[t[n++]];return e}function J9(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function rr(e,t){const r=Array.isArray(t)?t:Z0(t)?[t]:pT(t),n=r.length===1?e:X9(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Qt(n)&&sn(n)||Array.isArray(n)&&J9(n))&&rr(e,r.slice(0,-1)),e}var qg=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Fx=e=>Vr(e)||!hT(e);function qi(e,t){if(Fx(e)||Fx(t))return e===t;if(Ga(e)&&Ga(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ga(a)&&Ga(l)||Qt(a)&&Qt(l)||Array.isArray(a)&&Array.isArray(l)?!qi(a,l):a!==l)return!1}}return!0}var NT=e=>e.type==="select-multiple",eV=e=>Q0(e)||Vu(e),Zg=e=>nm(e)&&e.isConnected,ST=e=>{for(const t in e)if(hi(e[t]))return!0;return!1};function im(e,t={}){const r=Array.isArray(e);if(Qt(e)||r)for(const n in e)Array.isArray(e[n])||Qt(e[n])&&!ST(e[n])?(t[n]=Array.isArray(e[n])?[]:{},im(e[n],t[n])):Vr(e[n])||(t[n]=!0);return t}function CT(e,t,r){const n=Array.isArray(e);if(Qt(e)||n)for(const i in e)Array.isArray(e[i])||Qt(e[i])&&!ST(e[i])?Vt(t)||Fx(r[i])?r[i]=Array.isArray(e[i])?im(e[i],[]):{...im(e[i])}:CT(e[i],Vr(t)?{}:t[i],r[i]):r[i]=!qi(e[i],t[i]);return r}var Xc=(e,t)=>CT(e,t,im(t)),kT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Vt(e)?e:t?e===""?NaN:e&&+e:r&&Is(e)?new Date(e):n?n(e):e;function Kg(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return G0(t)?t.files:Q0(t)?jT(e.refs).value:NT(t)?[...t.selectedOptions].map(({value:r})=>r):Vu(t)?bT(e.refs).value:kT(Vt(t.value)?e.ref.value:t.value,e)}var tV=(e,t,r,n)=>{const i={};for(const a of e){const l=fe(t,a);l&&pt(i,a,l._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Jc=e=>Vt(e)?e:sm(e)?e.source:Qt(e)?sm(e.value)?e.value.source:e.value:e;const Jj="AsyncFunction";var rV=e=>(!e||!e.validate)&&!!(hi(e.validate)&&e.validate.constructor.name===Jj||Qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Jj)),nV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function e1(e,t,r){const n=fe(e,r);if(n||Z0(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),l=fe(t,a),c=fe(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};i.pop()}return{name:r}}var sV=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,iV=(e,t)=>!mp(fe(e,t)).length&&rr(e,t);const aV={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function oV(e={}){let t={...aV,...e},r={submitCount:0,isDirty:!1,isLoading:hi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Qt(t.defaultValues)||Qt(t.values)?tn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:tn(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:qg(),array:qg(),state:qg()},g=qj(t.mode),_=qj(t.reValidateMode),N=t.criteriaMode===cs.all,x=F=>V=>{clearTimeout(h),h=setTimeout(F,V)},S=async F=>{if(!e.disabled&&(p.isValid||F)){const V=t.resolver?sn((await R()).errors):await z(n,!0);V!==r.isValid&&m.state.next({isValid:V})}},w=(F,V)=>{!e.disabled&&(p.isValidating||p.validatingFields)&&((F||Array.from(c.mount)).forEach(X=>{X&&(V?pt(r.validatingFields,X,V):rr(r.validatingFields,X))}),m.state.next({validatingFields:r.validatingFields,isValidating:!sn(r.validatingFields)}))},b=(F,V=[],X,pe,ue=!0,ae=!0)=>{if(pe&&X&&!e.disabled){if(l.action=!0,ae&&Array.isArray(fe(n,F))){const Re=X(fe(n,F),pe.argA,pe.argB);ue&&pt(n,F,Re)}if(ae&&Array.isArray(fe(r.errors,F))){const Re=X(fe(r.errors,F),pe.argA,pe.argB);ue&&pt(r.errors,F,Re),iV(r.errors,F)}if(p.touchedFields&&ae&&Array.isArray(fe(r.touchedFields,F))){const Re=X(fe(r.touchedFields,F),pe.argA,pe.argB);ue&&pt(r.touchedFields,F,Re)}p.dirtyFields&&(r.dirtyFields=Xc(i,a)),m.state.next({name:F,isDirty:U(F,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(a,F,V)},j=(F,V)=>{pt(r.errors,F,V),m.state.next({errors:r.errors})},k=F=>{r.errors=F,m.state.next({errors:r.errors,isValid:!1})},T=(F,V,X,pe)=>{const ue=fe(n,F);if(ue){const ae=fe(a,F,Vt(X)?fe(i,F):X);Vt(ae)||pe&&pe.defaultChecked||V?pt(a,F,V?ae:Kg(ue._f)):ie(F,ae),l.mount&&S()}},I=(F,V,X,pe,ue)=>{let ae=!1,Re=!1;const Ve={name:F};if(!e.disabled){const wt=!!(fe(n,F)&&fe(n,F)._f&&fe(n,F)._f.disabled);if(!X||pe){p.isDirty&&(Re=r.isDirty,r.isDirty=Ve.isDirty=U(),ae=Re!==Ve.isDirty);const mt=wt||qi(fe(i,F),V);Re=!!(!wt&&fe(r.dirtyFields,F)),mt||wt?rr(r.dirtyFields,F):pt(r.dirtyFields,F,!0),Ve.dirtyFields=r.dirtyFields,ae=ae||p.dirtyFields&&Re!==!mt}if(X){const mt=fe(r.touchedFields,F);mt||(pt(r.touchedFields,F,X),Ve.touchedFields=r.touchedFields,ae=ae||p.touchedFields&&mt!==X)}ae&&ue&&m.state.next(Ve)}return ae?Ve:{}},M=(F,V,X,pe)=>{const ue=fe(r.errors,F),ae=p.isValid&&Dn(V)&&r.isValid!==V;if(e.delayError&&X?(u=x(()=>j(F,X)),u(e.delayError)):(clearTimeout(h),u=null,X?pt(r.errors,F,X):rr(r.errors,F)),(X?!qi(ue,X):ue)||!sn(pe)||ae){const Re={...pe,...ae&&Dn(V)?{isValid:V}:{},errors:r.errors,name:F};r={...r,...Re},m.state.next(Re)}},R=async F=>{w(F,!0);const V=await t.resolver(a,t.context,tV(F||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(F),V},O=async F=>{const{errors:V}=await R(F);if(F)for(const X of F){const pe=fe(V,X);pe?pt(r.errors,X,pe):rr(r.errors,X)}else r.errors=V;return V},z=async(F,V,X={valid:!0})=>{for(const pe in F){const ue=F[pe];if(ue){const{_f:ae,...Re}=ue;if(ae){const Ve=c.array.has(ae.name),wt=ue._f&&rV(ue._f);wt&&p.validatingFields&&w([pe],!0);const mt=await Xj(ue,a,N,t.shouldUseNativeValidation&&!V,Ve);if(wt&&p.validatingFields&&w([pe]),mt[ae.name]&&(X.valid=!1,V))break;!V&&(fe(mt,ae.name)?Ve?Y9(r.errors,mt,ae.name):pt(r.errors,ae.name,mt[ae.name]):rr(r.errors,ae.name))}!sn(Re)&&await z(Re,V,X)}}return X.valid},G=()=>{for(const F of c.unMount){const V=fe(n,F);V&&(V._f.refs?V._f.refs.every(X=>!Zg(X)):!Zg(V._f.ref))&&he(F)}c.unMount=new Set},U=(F,V)=>!e.disabled&&(F&&V&&pt(a,F,V),!qi(J(),i)),Z=(F,V,X)=>_T(F,c,{...l.mount?a:Vt(V)?i:Is(F)?{[F]:V}:V},X,V),q=F=>mp(fe(l.mount?a:i,F,e.shouldUnregister?fe(i,F,[]):[])),ie=(F,V,X={})=>{const pe=fe(n,F);let ue=V;if(pe){const ae=pe._f;ae&&(!ae.disabled&&pt(a,F,kT(V,ae)),ue=nm(ae.ref)&&Vr(V)?"":V,NT(ae.ref)?[...ae.ref.options].forEach(Re=>Re.selected=ue.includes(Re.value)):ae.refs?Vu(ae.ref)?ae.refs.length>1?ae.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(ue)?!!ue.find(Ve=>Ve===Re.value):ue===Re.value)):ae.refs[0]&&(ae.refs[0].checked=!!ue):ae.refs.forEach(Re=>Re.checked=Re.value===ue):G0(ae.ref)?ae.ref.value="":(ae.ref.value=ue,ae.ref.type||m.values.next({name:F,values:{...a}})))}(X.shouldDirty||X.shouldTouch)&&I(F,ue,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&W(F)},K=(F,V,X)=>{for(const pe in V){const ue=V[pe],ae=`${F}.${pe}`,Re=fe(n,ae);(c.array.has(F)||Qt(ue)||Re&&!Re._f)&&!Ga(ue)?K(ae,ue,X):ie(ae,ue,X)}},Q=(F,V,X={})=>{const pe=fe(n,F),ue=c.array.has(F),ae=tn(V);pt(a,F,ae),ue?(m.array.next({name:F,values:{...a}}),(p.isDirty||p.dirtyFields)&&X.shouldDirty&&m.state.next({name:F,dirtyFields:Xc(i,a),isDirty:U(F,ae)})):pe&&!pe._f&&!Vr(ae)?K(F,ae,X):ie(F,ae,X),Zj(F,c)&&m.state.next({...r}),m.values.next({name:l.mount?F:void 0,values:{...a}})},E=async F=>{l.mount=!0;const V=F.target;let X=V.name,pe=!0;const ue=fe(n,X),ae=()=>V.type?Kg(ue._f):fT(F),Re=Ve=>{pe=Number.isNaN(Ve)||Ga(Ve)&&isNaN(Ve.getTime())||qi(Ve,fe(a,X,Ve))};if(ue){let Ve,wt;const mt=ae(),Dr=F.type===rm.BLUR||F.type===rm.FOCUS_OUT,Rn=!nV(ue._f)&&!t.resolver&&!fe(r.errors,X)&&!ue._f.deps||sV(Dr,fe(r.touchedFields,X),r.isSubmitted,_,g),Yn=Zj(X,c,Dr);pt(a,X,mt),Dr?(ue._f.onBlur&&ue._f.onBlur(F),u&&u(0)):ue._f.onChange&&ue._f.onChange(F);const Xn=I(X,mt,Dr,!1),Ee=!sn(Xn)||Yn;if(!Dr&&m.values.next({name:X,type:F.type,values:{...a}}),Rn)return p.isValid&&(e.mode==="onBlur"?Dr&&S():S()),Ee&&m.state.next({name:X,...Yn?{}:Xn});if(!Dr&&Yn&&m.state.next({...r}),t.resolver){const{errors:Pt}=await R([X]);if(Re(mt),pe){const Fr=e1(r.errors,n,X),Xr=e1(Pt,n,Fr.name||X);Ve=Xr.error,X=Xr.name,wt=sn(Pt)}}else w([X],!0),Ve=(await Xj(ue,a,N,t.shouldUseNativeValidation))[X],w([X]),Re(mt),pe&&(Ve?wt=!1:p.isValid&&(wt=await z(n,!0)));pe&&(ue._f.deps&&W(ue._f.deps),M(X,wt,Ve,Xn))}},A=(F,V)=>{if(fe(r.errors,V)&&F.focus)return F.focus(),1},W=async(F,V={})=>{let X,pe;const ue=Nd(F);if(t.resolver){const ae=await O(Vt(F)?F:ue);X=sn(ae),pe=F?!ue.some(Re=>fe(ae,Re)):X}else F?(pe=(await Promise.all(ue.map(async ae=>{const Re=fe(n,ae);return await z(Re&&Re._f?{[ae]:Re}:Re)}))).every(Boolean),!(!pe&&!r.isValid)&&S()):pe=X=await z(n);return m.state.next({...!Is(F)||p.isValid&&X!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:X}:{},errors:r.errors}),V.shouldFocus&&!pe&&Sd(n,A,F?ue:c.mount),pe},J=F=>{const V={...l.mount?a:i};return Vt(F)?V:Is(F)?fe(V,F):F.map(X=>fe(V,X))},de=(F,V)=>({invalid:!!fe((V||r).errors,F),isDirty:!!fe((V||r).dirtyFields,F),error:fe((V||r).errors,F),isValidating:!!fe(r.validatingFields,F),isTouched:!!fe((V||r).touchedFields,F)}),Ne=F=>{F&&Nd(F).forEach(V=>rr(r.errors,V)),m.state.next({errors:F?r.errors:{}})},ke=(F,V,X)=>{const pe=(fe(n,F,{_f:{}})._f||{}).ref,ue=fe(r.errors,F)||{},{ref:ae,message:Re,type:Ve,...wt}=ue;pt(r.errors,F,{...wt,...V,ref:pe}),m.state.next({name:F,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&pe&&pe.focus&&pe.focus()},Pe=(F,V)=>hi(F)?m.values.subscribe({next:X=>F(Z(void 0,V),X)}):Z(F,V,!0),he=(F,V={})=>{for(const X of F?Nd(F):c.mount)c.mount.delete(X),c.array.delete(X),V.keepValue||(rr(n,X),rr(a,X)),!V.keepError&&rr(r.errors,X),!V.keepDirty&&rr(r.dirtyFields,X),!V.keepTouched&&rr(r.touchedFields,X),!V.keepIsValidating&&rr(r.validatingFields,X),!t.shouldUnregister&&!V.keepDefaultValue&&rr(i,X);m.values.next({values:{...a}}),m.state.next({...r,...V.keepDirty?{isDirty:U()}:{}}),!V.keepIsValid&&S()},ve=({disabled:F,name:V,field:X,fields:pe,value:ue})=>{if(Dn(F)&&l.mount||F){const ae=F?void 0:Vt(ue)?Kg(X?X._f:fe(pe,V)._f):ue;pt(a,V,ae),I(V,ae,!1,!1,!0)}},Fe=(F,V={})=>{let X=fe(n,F);const pe=Dn(V.disabled)||Dn(e.disabled);return pt(n,F,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:F}},name:F,mount:!0,...V}}),c.mount.add(F),X?ve({field:X,disabled:Dn(V.disabled)?V.disabled:e.disabled,name:F,value:V.value}):T(F,!0,V.value),{...pe?{disabled:V.disabled||e.disabled}:{},...t.progressive?{required:!!V.required,min:Jc(V.min),max:Jc(V.max),minLength:Jc(V.minLength),maxLength:Jc(V.maxLength),pattern:Jc(V.pattern)}:{},name:F,onChange:E,onBlur:E,ref:ue=>{if(ue){Fe(F,V),X=fe(n,F);const ae=Vt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Re=eV(ae),Ve=X._f.refs||[];if(Re?Ve.find(wt=>wt===ae):ae===X._f.ref)return;pt(n,F,{_f:{...X._f,...Re?{refs:[...Ve.filter(Zg),ae,...Array.isArray(fe(i,F))?[{}]:[]],ref:{type:ae.type,name:F}}:{ref:ae}}}),T(F,!1,void 0,ae)}else X=fe(n,F,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(mT(c.array,F)&&l.action)&&c.unMount.add(F)}}},Xe=()=>t.shouldFocusError&&Sd(n,A,c.mount),He=F=>{Dn(F)&&(m.state.next({disabled:F}),Sd(n,(V,X)=>{const pe=fe(n,X);pe&&(V.disabled=pe._f.disabled||F,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(ue=>{ue.disabled=pe._f.disabled||F}))},0,!1))},rt=(F,V)=>async X=>{let pe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ue=tn(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Re}=await R();r.errors=ae,ue=Re}else await z(n);if(rr(r.errors,"root"),sn(r.errors)){m.state.next({errors:{}});try{await F(ue,X)}catch(ae){pe=ae}}else V&&await V({...r.errors},X),Xe(),setTimeout(Xe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sn(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Le=(F,V={})=>{fe(n,F)&&(Vt(V.defaultValue)?Q(F,tn(fe(i,F))):(Q(F,V.defaultValue),pt(i,F,tn(V.defaultValue))),V.keepTouched||rr(r.touchedFields,F),V.keepDirty||(rr(r.dirtyFields,F),r.isDirty=V.defaultValue?U(F,tn(fe(i,F))):U()),V.keepError||(rr(r.errors,F),p.isValid&&S()),m.state.next({...r}))},kt=(F,V={})=>{const X=F?tn(F):i,pe=tn(X),ue=sn(F),ae=ue?i:pe;if(V.keepDefaultValues||(i=X),!V.keepValues){if(V.keepDirtyValues){const Re=new Set([...c.mount,...Object.keys(Xc(i,a))]);for(const Ve of Array.from(Re))fe(r.dirtyFields,Ve)?pt(ae,Ve,fe(a,Ve)):Q(Ve,fe(ae,Ve))}else{if(q0&&Vt(F))for(const Re of c.mount){const Ve=fe(n,Re);if(Ve&&Ve._f){const wt=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(nm(wt)){const mt=wt.closest("form");if(mt){mt.reset();break}}}}n={}}a=e.shouldUnregister?V.keepDefaultValues?tn(i):{}:tn(ae),m.array.next({values:{...ae}}),m.values.next({values:{...ae}})}c={mount:V.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!V.keepIsValid||!!V.keepDirtyValues,l.watch=!!e.shouldUnregister,m.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!qi(F,i)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:V.keepDirtyValues?V.keepDefaultValues&&a?Xc(i,a):r.dirtyFields:V.keepDefaultValues&&F?Xc(i,F):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Yt=(F,V)=>kt(hi(F)?F(a):F,V);return{control:{register:Fe,unregister:he,getFieldState:de,handleSubmit:rt,setError:ke,_executeSchema:R,_getWatch:Z,_getDirty:U,_updateValid:S,_removeUnmounted:G,_updateFieldArray:b,_updateDisabledField:ve,_getFieldArray:q,_reset:kt,_resetDefaultValues:()=>hi(t.defaultValues)&&t.defaultValues().then(F=>{Yt(F,t.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:F=>{r={...r,...F}},_disableForm:He,_subjects:m,_proxyFormState:p,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(F){l=F},get _defaultValues(){return i},get _names(){return c},set _names(F){c=F},get _formState(){return r},set _formState(F){r=F},get _options(){return t},set _options(F){t={...t,...F}}},trigger:W,register:Fe,handleSubmit:rt,watch:Pe,setValue:Q,getValues:J,reset:Yt,resetField:Le,clearErrors:Ne,unregister:he,setError:ke,setFocus:(F,V={})=>{const X=fe(n,F),pe=X&&X._f;if(pe){const ue=pe.refs?pe.refs[0]:pe.ref;ue.focus&&(ue.focus(),V.shouldSelect&&ue.select())}},getFieldState:de}}function Y0(e={}){const t=te.useRef(),r=te.useRef(),[n,i]=te.useState({isDirty:!1,isValidating:!1,isLoading:hi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:hi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...oV(e),formState:n});const a=t.current.control;return a._options=e,K0({subject:a._subjects.state,next:l=>{xT(l,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),te.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),te.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),te.useEffect(()=>{e.values&&!qi(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[e.values,a]),te.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),te.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),te.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),te.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=vT(n,a),t.current}const t1=(e,t,r)=>{if(e&&"reportValidity"in e){const n=fe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},PT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?t1(n.ref,r,e):n.refs&&n.refs.forEach(i=>t1(i,r,e))}},lV=(e,t)=>{t.shouldUseNativeValidation&&PT(e,t);const r={};for(const n in e){const i=fe(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(cV(t.names||Object.keys(e),n)){const l=Object.assign({},fe(r,n));pt(l,"root",a),pt(r,n,l)}else pt(r,n,a)}return r},cV=(e,t)=>e.some(r=>r.startsWith(t+"."));var dV=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(m){return e.push(m)})}),t){var u=r[l].types,h=u&&u[n.code];r[l]=wT(l,t,r,i,h?[].concat(h,n.message):n.message)}e.shift()}return r},X0=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(l,c){try{var u=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(h){return a.shouldUseNativeValidation&&PT({},a),{errors:{},values:r.raw?n:h}})}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u}(0,function(l){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(l))return{values:{},errors:lV(dV(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const J0=q9,ET=v.createContext({}),Wr=({...e})=>s.jsx(ET.Provider,{value:{name:e.name},children:s.jsx(Q9,{...e})}),gp=()=>{const e=v.useContext(ET),t=v.useContext(TT),{getFieldState:r,formState:n}=pp(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},TT=v.createContext({}),Ar=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return s.jsx(TT.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ce("space-y-2",e),...t})})});Ar.displayName="FormItem";const Mr=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=gp();return s.jsx(be,{ref:r,className:ce(n&&"text-destructive",e),htmlFor:i,...t})});Mr.displayName="FormLabel";const an=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=gp();return s.jsx(yi,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});an.displayName="FormControl";const Fn=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=gp();return s.jsx("p",{ref:r,id:n,className:ce("text-sm text-muted-foreground",e),...t})});Fn.displayName="FormDescription";const bn=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=gp(),l=i?String(i==null?void 0:i.message):t;return l?s.jsx("p",{ref:n,id:a,className:ce("text-sm font-medium text-destructive",e),...r,children:l}):null});bn.displayName="FormMessage";const vp=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vp.displayName="Textarea";const uV=mc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ws=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ce(uV({variant:t}),e),...r}));Ws.displayName="Alert";const hV=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));hV.displayName="AlertTitle";const Hs=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));Hs.displayName="AlertDescription";const fV=()=>{const e=Qn();return bt({mutationFn:async t=>{var i;const{data:r,error:n}=await ye.from("reviews").insert({user_id:(i=(await ye.auth.getUser()).data.user)==null?void 0:i.id,product_id:t.product_id,rating:t.rating,comment:t.comment,is_approved:!1}).select().single();if(n)throw console.error("Error creating review:",n),n;return r},onMutate:async t=>{await e.cancelQueries({queryKey:["product-reviews",t.product_id]}),await e.cancelQueries({queryKey:["products"]});const r=e.getQueryData(["product-reviews",t.product_id]),n=e.getQueryData(["products"]);return e.setQueryData(["products"],i=>i&&i.map(a=>{if(a.id===t.product_id){const l=a.review_count||0,c=a.average_rating||0,u=l+1,h=(c*l+t.rating)/u;return{...a,review_count:u,average_rating:Math.round(h*100)/100}}return a})),{previousReviews:r,previousProducts:n}},onError:(t,r,n)=>{n!=null&&n.previousReviews&&e.setQueryData(["product-reviews",r.product_id],n.previousReviews),n!=null&&n.previousProducts&&e.setQueryData(["products"],n.previousProducts),ht.error("Failed to submit review. Please try again.")},onSuccess:(t,r)=>{ht.success("Review submitted successfully! It will be visible after approval."),e.invalidateQueries({queryKey:["product-reviews",r.product_id]}),e.invalidateQueries({queryKey:["user-reviews"]}),e.invalidateQueries({queryKey:["can-review-product",r.product_id]}),e.invalidateQueries({queryKey:["products"]})}})},mV=()=>{const e=Qn();return bt({mutationFn:async t=>{const{data:r,error:n}=await ye.from("reviews").update({rating:t.rating,comment:t.comment,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(n)throw console.error("Error updating review:",n),n;return r},onSuccess:t=>{ht.success("Review updated successfully!"),e.invalidateQueries({queryKey:["product-reviews",t.product_id]}),e.invalidateQueries({queryKey:["user-reviews"]}),e.invalidateQueries({queryKey:["products"]})},onError:t=>{console.error("Update review error:",t),ht.error("Failed to update review. Please try again.")}})},RT=()=>{const e=Qn();return bt({mutationFn:async t=>{const{data:r,error:n}=await ye.from("reviews").update({is_approved:t.is_approved,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(n)throw console.error("Error moderating review:",n),n;return r},onSuccess:(t,r)=>{const n=r.is_approved?"approved":"rejected";ht.success(`Review ${n} successfully!`),e.invalidateQueries({queryKey:["admin-reviews"]}),e.invalidateQueries({queryKey:["product-reviews",t.product_id]}),e.invalidateQueries({queryKey:["products"]})},onError:t=>{console.error("Moderate review error:",t),ht.error("Failed to moderate review. Please try again.")}})},pV=()=>{const e=Qn();return bt({mutationFn:async t=>{const r=[],n=[];for(const i of t.review_ids)try{if(t.action==="delete"){const{error:a}=await ye.from("reviews").delete().eq("id",i);a?n.push({reviewId:i,error:a}):r.push({reviewId:i,action:"delete"})}else{const a=t.action==="approve",{error:l}=await ye.from("reviews").update({is_approved:a,updated_at:new Date().toISOString()}).eq("id",i);l?n.push({reviewId:i,error:l}):r.push({reviewId:i,action:t.action})}}catch(a){n.push({reviewId:i,error:a})}if(n.length>0)throw console.error("Bulk moderation errors:",n),new Error(`Failed to process ${n.length} of ${t.review_ids.length} reviews`);return{success:!0,processedCount:r.length,action:t.action,results:r}},onSuccess:t=>{ht.success(`Successfully ${t.action}d ${t.processedCount} review(s)!`),e.invalidateQueries({queryKey:["admin-reviews"]}),e.invalidateQueries({queryKey:["product-reviews"]}),e.invalidateQueries({queryKey:["products"]})},onError:t=>{console.error("Bulk moderate reviews error:",t),ht.error("Failed to process some reviews. Please try again.")}})};var ct;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of a)l[c]=i[c];return e.objectValues(l)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},e.find=(i,a)=>{for(const l of i)if(a(l))return l},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ct||(ct={}));var $x;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})($x||($x={}));const je=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zi=e=>{switch(typeof e){case"undefined":return je.undefined;case"string":return je.string;case"number":return isNaN(e)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(e)?je.array:e===null?je.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?je.promise:typeof Map<"u"&&e instanceof Map?je.map:typeof Set<"u"&&e instanceof Set?je.set:typeof Date<"u"&&e instanceof Date?je.date:je.object;default:return je.unknown}},le=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gV=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cn extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,u=0;for(;u<l.path.length;){const h=l.path[u];u===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(r(l))):c[h]=c[h]||{_errors:[]},c=c[h],u++}}};return i(this),n}static assert(t){if(!(t instanceof Cn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cn.create=e=>new Cn(e);const ac=(e,t)=>{let r;switch(e.code){case le.invalid_type:e.received===je.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ct.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(e.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(e.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ct.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case le.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case le.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=t.defaultError,ct.assertNever(e)}return{message:r}};let AT=ac;function vV(e){AT=e}function am(){return AT}const om=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const u=n.filter(h=>!!h).slice().reverse();for(const h of u)c=h(l,{data:t,defaultError:c}).message;return{...i,path:a,message:c}},xV=[];function xe(e,t){const r=am(),n=om({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ac?void 0:ac].filter(i=>!!i)});e.common.issues.push(n)}class Ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Be;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,l=await i.value;n.push({key:a,value:l})}return Ir.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return Be;a.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(n[a.value]=l.value)}return{status:t.value,value:n}}}const Be=Object.freeze({status:"aborted"}),vl=e=>({status:"dirty",value:e}),qr=e=>({status:"valid",value:e}),zx=e=>e.status==="aborted",Bx=e=>e.status==="dirty",nu=e=>e.status==="valid",su=e=>typeof Promise<"u"&&e instanceof Promise;function lm(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function MT(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ae;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ae||(Ae={}));var cd,dd;class qs{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r1=(e,t)=>{if(nu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cn(e.common.issues);return this._error=r,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,c)=>{var u,h;const{message:p}=e;return l.code==="invalid_enum_value"?{message:p??c.defaultError}:typeof c.data>"u"?{message:(u=p??n)!==null&&u!==void 0?u:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(h=p??r)!==null&&h!==void 0?h:c.defaultError}},description:i}}class tt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Zi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ir,ctx:{common:t.parent.common,data:t.data,parsedType:Zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(su(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zi(t)},a=this._parseSync({data:t,path:i.path,parent:i});return r1(i,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zi(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(su(i)?i:Promise.resolve(i));return r1(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const l=t(i),c=()=>a.addIssue({code:le.custom,...n(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new _s({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Bs.create(this,this._def)}nullable(){return ka.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ps.create(this,this._def)}promise(){return lc.create(this,this._def)}or(t){return lu.create([this,t],this._def)}and(t){return cu.create(this,t,this._def)}transform(t){return new _s({...Ge(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new mu({...Ge(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new e_({typeName:ze.ZodBranded,type:this,...Ge(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new pu({...Ge(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wu.create(this,t)}readonly(){return gu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yV=/^c[^\s-]{8,}$/i,_V=/^[0-9a-z]+$/,wV=/^[0-9A-HJKMNP-TV-Z]{26}$/,bV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jV=/^[a-z0-9_-]{21}$/i,NV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gg;const kV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PV=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,EV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TV=new RegExp(`^${OT}$`);function LT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function RV(e){return new RegExp(`^${LT(e)}$`)}function IT(e){let t=`${OT}T${LT(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function AV(e,t){return!!((t==="v4"||!t)&&kV.test(e)||(t==="v6"||!t)&&PV.test(e))}class ds extends tt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==je.string){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.string,received:a.parsedType}),Be}const n=new Ir;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=t.data.length>a.value,c=t.data.length<a.value;(l||c)&&(i=this._getOrReturnCtx(t,i),l?xe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")SV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"email",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Gg||(Gg=new RegExp(CV,"u")),Gg.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"emoji",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")bV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"uuid",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")jV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"nanoid",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")yV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")_V.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid2",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")wV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ulid",code:le.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),xe(i,{validation:"url",code:le.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"regex",code:le.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?IT(a).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?TV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?RV(a).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:le.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?NV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"duration",code:le.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?AV(t.data,a.version)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ip",code:le.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?EV.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"base64",code:le.invalid_string,message:a.message}),n.dirty()):ct.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:le.invalid_string,...Ae.errToObj(n)})}_addCheck(t){return new ds({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ae.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ae.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ae.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ae.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ae.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ae.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ae.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ae.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ae.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ae.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ae.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ae.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ae.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ae.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ae.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ae.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ae.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ae.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ae.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ae.errToObj(r)})}nonempty(t){return this.min(1,Ae.errToObj(t))}trim(){return new ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ds.create=e=>{var t;return new ds({checks:[],typeName:ze.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function MV(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),l=parseInt(t.toFixed(i).replace(".",""));return a%l/Math.pow(10,i)}class Na extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==je.number){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.number,received:a.parsedType}),Be}let n;const i=new Ir;for(const a of this._def.checks)a.kind==="int"?ct.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?MV(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),xe(n,{code:le.not_finite,message:a.message}),i.dirty()):ct.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,i){return new Na({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(i)}]})}_addCheck(t){return new Na({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ae.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ae.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ct.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Na.create=e=>new Na({checks:[],typeName:ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Sa extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==je.bigint){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.bigint,received:a.parsedType}),Be}let n;const i=new Ir;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),xe(n,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ct.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,i){return new Sa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(i)}]})}_addCheck(t){return new Sa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Sa.create=e=>{var t;return new Sa({checks:[],typeName:ze.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class iu extends tt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==je.boolean){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.boolean,received:n.parsedType}),Be}return qr(t.data)}}iu.create=e=>new iu({typeName:ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class So extends tt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==je.date){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_type,expected:je.date,received:a.parsedType}),Be}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return xe(a,{code:le.invalid_date}),Be}const n=new Ir;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ct.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new So({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ae.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ae.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}So.create=e=>new So({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ze.ZodDate,...Ge(e)});class cm extends tt{_parse(t){if(this._getType(t)!==je.symbol){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.symbol,received:n.parsedType}),Be}return qr(t.data)}}cm.create=e=>new cm({typeName:ze.ZodSymbol,...Ge(e)});class au extends tt{_parse(t){if(this._getType(t)!==je.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.undefined,received:n.parsedType}),Be}return qr(t.data)}}au.create=e=>new au({typeName:ze.ZodUndefined,...Ge(e)});class ou extends tt{_parse(t){if(this._getType(t)!==je.null){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.null,received:n.parsedType}),Be}return qr(t.data)}}ou.create=e=>new ou({typeName:ze.ZodNull,...Ge(e)});class oc extends tt{constructor(){super(...arguments),this._any=!0}_parse(t){return qr(t.data)}}oc.create=e=>new oc({typeName:ze.ZodAny,...Ge(e)});class ao extends tt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qr(t.data)}}ao.create=e=>new ao({typeName:ze.ZodUnknown,...Ge(e)});class Ni extends tt{_parse(t){const r=this._getOrReturnCtx(t);return xe(r,{code:le.invalid_type,expected:je.never,received:r.parsedType}),Be}}Ni.create=e=>new Ni({typeName:ze.ZodNever,...Ge(e)});class dm extends tt{_parse(t){if(this._getType(t)!==je.undefined){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.void,received:n.parsedType}),Be}return qr(t.data)}}dm.create=e=>new dm({typeName:ze.ZodVoid,...Ge(e)});class ps extends tt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==je.array)return xe(r,{code:le.invalid_type,expected:je.array,received:r.parsedType}),Be;if(i.exactLength!==null){const l=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(l||c)&&(xe(r,{code:l?le.too_big:le.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(xe(r,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(xe(r,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>i.type._parseAsync(new qs(r,l,r.path,c)))).then(l=>Ir.mergeArray(n,l));const a=[...r.data].map((l,c)=>i.type._parseSync(new qs(r,l,r.path,c)));return Ir.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new ps({...this._def,minLength:{value:t,message:Ae.toString(r)}})}max(t,r){return new ps({...this._def,maxLength:{value:t,message:Ae.toString(r)}})}length(t,r){return new ps({...this._def,exactLength:{value:t,message:Ae.toString(r)}})}nonempty(t){return this.min(1,t)}}ps.create=(e,t)=>new ps({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ge(t)});function sl(e){if(e instanceof Ot){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Bs.create(sl(n))}return new Ot({...e._def,shape:()=>t})}else return e instanceof ps?new ps({...e._def,type:sl(e.element)}):e instanceof Bs?Bs.create(sl(e.unwrap())):e instanceof ka?ka.create(sl(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>sl(t))):e}class Ot extends tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ct.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==je.object){const h=this._getOrReturnCtx(t);return xe(h,{code:le.invalid_type,expected:je.object,received:h.parsedType}),Be}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ni&&this._def.unknownKeys==="strip"))for(const h in i.data)l.includes(h)||c.push(h);const u=[];for(const h of l){const p=a[h],m=i.data[h];u.push({key:{status:"valid",value:h},value:p._parse(new qs(i,m,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Ni){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of c)u.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(h==="strict")c.length>0&&(xe(i,{code:le.unrecognized_keys,keys:c}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of c){const m=i.data[p];u.push({key:{status:"valid",value:p},value:h._parse(new qs(i,m,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of u){const m=await p.key,g=await p.value;h.push({key:m,value:g,alwaysSet:p.alwaysSet})}return h}).then(h=>Ir.mergeObjectSync(n,h)):Ir.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return Ae.errToObj,new Ot({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,l,c;const u=(l=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Ae.errToObj(t).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ot({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ot({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ot({...this._def,catchall:t})}pick(t){const r={};return ct.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ot({...this._def,shape:()=>r})}omit(t){const r={};return ct.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ot({...this._def,shape:()=>r})}deepPartial(){return sl(this)}partial(t){const r={};return ct.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Ot({...this._def,shape:()=>r})}required(t){const r={};return ct.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Bs;)a=a._def.innerType;r[n]=a}}),new Ot({...this._def,shape:()=>r})}keyof(){return DT(ct.objectKeys(this.shape))}}Ot.create=(e,t)=>new Ot({shape:()=>e,unknownKeys:"strip",catchall:Ni.create(),typeName:ze.ZodObject,...Ge(t)});Ot.strictCreate=(e,t)=>new Ot({shape:()=>e,unknownKeys:"strict",catchall:Ni.create(),typeName:ze.ZodObject,...Ge(t)});Ot.lazycreate=(e,t)=>new Ot({shape:e,unknownKeys:"strip",catchall:Ni.create(),typeName:ze.ZodObject,...Ge(t)});class lu extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new Cn(c.ctx.common.issues));return xe(r,{code:le.invalid_union,unionErrors:l}),Be}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const u of n){const h={...r,common:{...r.common,issues:[]},parent:null},p=u._parseSync({data:r.data,path:r.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(u=>new Cn(u));return xe(r,{code:le.invalid_union,unionErrors:c}),Be}}get options(){return this._def.options}}lu.create=(e,t)=>new lu({options:e,typeName:ze.ZodUnion,...Ge(t)});const si=e=>e instanceof uu?si(e.schema):e instanceof _s?si(e.innerType()):e instanceof hu?[e.value]:e instanceof Ca?e.options:e instanceof fu?ct.objectValues(e.enum):e instanceof mu?si(e._def.innerType):e instanceof au?[void 0]:e instanceof ou?[null]:e instanceof Bs?[void 0,...si(e.unwrap())]:e instanceof ka?[null,...si(e.unwrap())]:e instanceof e_||e instanceof gu?si(e.unwrap()):e instanceof pu?si(e._def.innerType):[];class xp extends tt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.object)return xe(r,{code:le.invalid_type,expected:je.object,received:r.parsedType}),Be;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xe(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const l=si(a.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,a)}}return new xp({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Ge(n)})}}function Ux(e,t){const r=Zi(e),n=Zi(t);if(e===t)return{valid:!0,data:e};if(r===je.object&&n===je.object){const i=ct.objectKeys(t),a=ct.objectKeys(e).filter(c=>i.indexOf(c)!==-1),l={...e,...t};for(const c of a){const u=Ux(e[c],t[c]);if(!u.valid)return{valid:!1};l[c]=u.data}return{valid:!0,data:l}}else if(r===je.array&&n===je.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const l=e[a],c=t[a],u=Ux(l,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===je.date&&n===je.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class cu extends tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,l)=>{if(zx(a)||zx(l))return Be;const c=Ux(a.value,l.value);return c.valid?((Bx(a)||Bx(l))&&r.dirty(),{status:r.value,value:c.data}):(xe(n,{code:le.invalid_intersection_types}),Be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cu.create=(e,t,r)=>new cu({left:e,right:t,typeName:ze.ZodIntersection,...Ge(r)});class Zs extends tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==je.array)return xe(n,{code:le.invalid_type,expected:je.array,received:n.parsedType}),Be;if(n.data.length<this._def.items.length)return xe(n,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&n.data.length>this._def.items.length&&(xe(n,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new qs(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Ir.mergeArray(r,l)):Ir.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:ze.ZodTuple,rest:null,...Ge(t)})};class du extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==je.object)return xe(n,{code:le.invalid_type,expected:je.object,received:n.parsedType}),Be;const i=[],a=this._def.keyType,l=this._def.valueType;for(const c in n.data)i.push({key:a._parse(new qs(n,c,n.path,c)),value:l._parse(new qs(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Ir.mergeObjectAsync(r,i):Ir.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof tt?new du({keyType:t,valueType:r,typeName:ze.ZodRecord,...Ge(n)}):new du({keyType:ds.create(),valueType:t,typeName:ze.ZodRecord,...Ge(r)})}}class um extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==je.map)return xe(n,{code:le.invalid_type,expected:je.map,received:n.parsedType}),Be;const i=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([c,u],h)=>({key:i._parse(new qs(n,c,n.path,[h,"key"])),value:a._parse(new qs(n,u,n.path,[h,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of l){const h=await u.key,p=await u.value;if(h.status==="aborted"||p.status==="aborted")return Be;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),c.set(h.value,p.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const u of l){const h=u.key,p=u.value;if(h.status==="aborted"||p.status==="aborted")return Be;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),c.set(h.value,p.value)}return{status:r.value,value:c}}}}um.create=(e,t,r)=>new um({valueType:t,keyType:e,typeName:ze.ZodMap,...Ge(r)});class Co extends tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==je.set)return xe(n,{code:le.invalid_type,expected:je.set,received:n.parsedType}),Be;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(xe(n,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(xe(n,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function l(u){const h=new Set;for(const p of u){if(p.status==="aborted")return Be;p.status==="dirty"&&r.dirty(),h.add(p.value)}return{status:r.value,value:h}}const c=[...n.data.values()].map((u,h)=>a._parse(new qs(n,u,n.path,h)));return n.common.async?Promise.all(c).then(u=>l(u)):l(c)}min(t,r){return new Co({...this._def,minSize:{value:t,message:Ae.toString(r)}})}max(t,r){return new Co({...this._def,maxSize:{value:t,message:Ae.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Co.create=(e,t)=>new Co({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ge(t)});class Tl extends tt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.function)return xe(r,{code:le.invalid_type,expected:je.function,received:r.parsedType}),Be;function n(c,u){return om({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,am(),ac].filter(h=>!!h),issueData:{code:le.invalid_arguments,argumentsError:u}})}function i(c,u){return om({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,am(),ac].filter(h=>!!h),issueData:{code:le.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof lc){const c=this;return qr(async function(...u){const h=new Cn([]),p=await c._def.args.parseAsync(u,a).catch(_=>{throw h.addIssue(n(u,_)),h}),m=await Reflect.apply(l,this,p);return await c._def.returns._def.type.parseAsync(m,a).catch(_=>{throw h.addIssue(i(m,_)),h})})}else{const c=this;return qr(function(...u){const h=c._def.args.safeParse(u,a);if(!h.success)throw new Cn([n(u,h.error)]);const p=Reflect.apply(l,this,h.data),m=c._def.returns.safeParse(p,a);if(!m.success)throw new Cn([i(p,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Tl({...this._def,args:Zs.create(t).rest(ao.create())})}returns(t){return new Tl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Tl({args:t||Zs.create([]).rest(ao.create()),returns:r||ao.create(),typeName:ze.ZodFunction,...Ge(n)})}}class uu extends tt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uu.create=(e,t)=>new uu({getter:e,typeName:ze.ZodLazy,...Ge(t)});class hu extends tt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return xe(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:t.data}}get value(){return this._def.value}}hu.create=(e,t)=>new hu({value:e,typeName:ze.ZodLiteral,...Ge(t)});function DT(e,t){return new Ca({values:e,typeName:ze.ZodEnum,...Ge(t)})}class Ca extends tt{constructor(){super(...arguments),cd.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{expected:ct.joinValues(n),received:r.parsedType,code:le.invalid_type}),Be}if(lm(this,cd)||MT(this,cd,new Set(this._def.values)),!lm(this,cd).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return xe(r,{received:r.data,code:le.invalid_enum_value,options:n}),Be}return qr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ca.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ca.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}cd=new WeakMap;Ca.create=DT;class fu extends tt{constructor(){super(...arguments),dd.set(this,void 0)}_parse(t){const r=ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==je.string&&n.parsedType!==je.number){const i=ct.objectValues(r);return xe(n,{expected:ct.joinValues(i),received:n.parsedType,code:le.invalid_type}),Be}if(lm(this,dd)||MT(this,dd,new Set(ct.getValidEnumValues(this._def.values))),!lm(this,dd).has(t.data)){const i=ct.objectValues(r);return xe(n,{received:n.data,code:le.invalid_enum_value,options:i}),Be}return qr(t.data)}get enum(){return this._def.values}}dd=new WeakMap;fu.create=(e,t)=>new fu({values:e,typeName:ze.ZodNativeEnum,...Ge(t)});class lc extends tt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.promise&&r.common.async===!1)return xe(r,{code:le.invalid_type,expected:je.promise,received:r.parsedType}),Be;const n=r.parsedType===je.promise?r.data:Promise.resolve(r.data);return qr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}lc.create=(e,t)=>new lc({type:e,typeName:ze.ZodPromise,...Ge(t)});class _s extends tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:l=>{xe(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async c=>{if(r.value==="aborted")return Be;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?Be:u.status==="dirty"||r.value==="dirty"?vl(u.value):u});{if(r.value==="aborted")return Be;const c=this._def.schema._parseSync({data:l,path:n.path,parent:n});return c.status==="aborted"?Be:c.status==="dirty"||r.value==="dirty"?vl(c.value):c}}if(i.type==="refinement"){const l=c=>{const u=i.refinement(c,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Be:(c.status==="dirty"&&r.dirty(),l(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Be:(c.status==="dirty"&&r.dirty(),l(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nu(l))return l;const c=i.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>nu(l)?Promise.resolve(i.transform(l.value,a)).then(c=>({status:r.value,value:c})):l);ct.assertNever(i)}}_s.create=(e,t,r)=>new _s({schema:e,typeName:ze.ZodEffects,effect:t,...Ge(r)});_s.createWithPreprocess=(e,t,r)=>new _s({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Ge(r)});class Bs extends tt{_parse(t){return this._getType(t)===je.undefined?qr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bs.create=(e,t)=>new Bs({innerType:e,typeName:ze.ZodOptional,...Ge(t)});class ka extends tt{_parse(t){return this._getType(t)===je.null?qr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ka.create=(e,t)=>new ka({innerType:e,typeName:ze.ZodNullable,...Ge(t)});class mu extends tt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===je.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}mu.create=(e,t)=>new mu({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class pu extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return su(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}pu.create=(e,t)=>new pu({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class hm extends tt{_parse(t){if(this._getType(t)!==je.nan){const n=this._getOrReturnCtx(t);return xe(n,{code:le.invalid_type,expected:je.nan,received:n.parsedType}),Be}return{status:"valid",value:t.data}}}hm.create=e=>new hm({typeName:ze.ZodNaN,...Ge(e)});const OV=Symbol("zod_brand");class e_ extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wu extends tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Be:a.status==="dirty"?(r.dirty(),vl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Be:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Wu({in:t,out:r,typeName:ze.ZodPipeline})}}class gu extends tt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(nu(i)&&(i.value=Object.freeze(i.value)),i);return su(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}gu.create=(e,t)=>new gu({innerType:e,typeName:ze.ZodReadonly,...Ge(t)});function FT(e,t={},r){return e?oc.create().superRefine((n,i)=>{var a,l;if(!e(n)){const c=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(l=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,h=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...h,fatal:u})}}):oc.create()}const LV={object:Ot.lazycreate};var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));const IV=(e,t={message:`Input not instance of ${e.name}`})=>FT(r=>r instanceof e,t),$T=ds.create,zT=Na.create,DV=hm.create,FV=Sa.create,BT=iu.create,$V=So.create,zV=cm.create,BV=au.create,UV=ou.create,VV=oc.create,WV=ao.create,HV=Ni.create,qV=dm.create,ZV=ps.create,KV=Ot.create,GV=Ot.strictCreate,QV=lu.create,YV=xp.create,XV=cu.create,JV=Zs.create,e7=du.create,t7=um.create,r7=Co.create,n7=Tl.create,s7=uu.create,i7=hu.create,a7=Ca.create,o7=fu.create,l7=lc.create,n1=_s.create,c7=Bs.create,d7=ka.create,u7=_s.createWithPreprocess,h7=Wu.create,f7=()=>$T().optional(),m7=()=>zT().optional(),p7=()=>BT().optional(),g7={string:e=>ds.create({...e,coerce:!0}),number:e=>Na.create({...e,coerce:!0}),boolean:e=>iu.create({...e,coerce:!0}),bigint:e=>Sa.create({...e,coerce:!0}),date:e=>So.create({...e,coerce:!0})},v7=Be;var ee=Object.freeze({__proto__:null,defaultErrorMap:ac,setErrorMap:vV,getErrorMap:am,makeIssue:om,EMPTY_PATH:xV,addIssueToContext:xe,ParseStatus:Ir,INVALID:Be,DIRTY:vl,OK:qr,isAborted:zx,isDirty:Bx,isValid:nu,isAsync:su,get util(){return ct},get objectUtil(){return $x},ZodParsedType:je,getParsedType:Zi,ZodType:tt,datetimeRegex:IT,ZodString:ds,ZodNumber:Na,ZodBigInt:Sa,ZodBoolean:iu,ZodDate:So,ZodSymbol:cm,ZodUndefined:au,ZodNull:ou,ZodAny:oc,ZodUnknown:ao,ZodNever:Ni,ZodVoid:dm,ZodArray:ps,ZodObject:Ot,ZodUnion:lu,ZodDiscriminatedUnion:xp,ZodIntersection:cu,ZodTuple:Zs,ZodRecord:du,ZodMap:um,ZodSet:Co,ZodFunction:Tl,ZodLazy:uu,ZodLiteral:hu,ZodEnum:Ca,ZodNativeEnum:fu,ZodPromise:lc,ZodEffects:_s,ZodTransformer:_s,ZodOptional:Bs,ZodNullable:ka,ZodDefault:mu,ZodCatch:pu,ZodNaN:hm,BRAND:OV,ZodBranded:e_,ZodPipeline:Wu,ZodReadonly:gu,custom:FT,Schema:tt,ZodSchema:tt,late:LV,get ZodFirstPartyTypeKind(){return ze},coerce:g7,any:VV,array:ZV,bigint:FV,boolean:BT,date:$V,discriminatedUnion:YV,effect:n1,enum:a7,function:n7,instanceof:IV,intersection:XV,lazy:s7,literal:i7,map:t7,nan:DV,nativeEnum:o7,never:HV,null:UV,nullable:d7,number:zT,object:KV,oboolean:p7,onumber:m7,optional:c7,ostring:f7,pipeline:h7,preprocess:u7,promise:l7,record:e7,set:r7,strictObject:GV,string:$T,symbol:zV,transformer:n1,tuple:JV,undefined:BV,union:QV,unknown:WV,void:qV,NEVER:v7,ZodIssueCode:le,quotelessJson:gV,ZodError:Cn});const UT={rating:ee.number().int("Rating must be a whole number").min(1,"Rating must be at least 1 star").max(5,"Rating cannot exceed 5 stars"),comment:ee.string().trim().max(2e3,"Review comment cannot exceed 2000 characters").optional().nullable()},x7=ee.object({product_id:ee.string().uuid("Invalid product ID format"),...UT,comment:ee.string().trim().min(10,"Review comment must be at least 10 characters").max(2e3,"Review comment cannot exceed 2000 characters").optional().nullable()}),y7=ee.object({id:ee.string().uuid("Invalid review ID format"),...UT,comment:ee.string().trim().max(2e3,"Review comment cannot exceed 2000 characters").optional().nullable()});ee.object({id:ee.string().uuid("Invalid review ID format"),is_approved:ee.boolean().describe("Whether the review is approved for public display"),moderation_reason:ee.string().trim().max(500,"Moderation reason cannot exceed 500 characters").optional().describe("Optional reason for approval/rejection")});ee.object({review_ids:ee.array(ee.string().uuid("Invalid review ID format")).min(1,"At least one review ID is required").max(100,"Cannot moderate more than 100 reviews at once"),action:ee.enum(["approve","reject","delete"]).describe("Action to perform on selected reviews"),reason:ee.string().trim().max(500,"Reason cannot exceed 500 characters").optional().describe("Optional reason for bulk action")});ee.object({review_id:ee.string().uuid("Invalid review ID format")});ee.object({product_id:ee.string().uuid("Invalid product ID format").optional(),user_id:ee.string().uuid("Invalid user ID format").optional(),rating:ee.number().int().min(1).max(5).optional().describe("Filter by specific rating"),min_rating:ee.number().int().min(1).max(5).optional().describe("Filter by minimum rating"),is_approved:ee.boolean().optional().describe("Filter by approval status"),search:ee.string().trim().min(3,"Search term must be at least 3 characters").max(100,"Search term cannot exceed 100 characters").optional().describe("Search in review comments"),sort_by:ee.enum(["newest","oldest","highest_rating","lowest_rating","most_helpful"]).default("newest").describe("Sort order for reviews"),limit:ee.number().int().min(1).max(100).default(20).describe("Number of reviews to return"),offset:ee.number().int().min(0).default(0).describe("Number of reviews to skip")});ee.object({product_id:ee.string().uuid("Invalid product ID format").optional(),date_from:ee.string().datetime("Invalid date format").optional().describe("Start date for analytics range"),date_to:ee.string().datetime("Invalid date format").optional().describe("End date for analytics range"),group_by:ee.enum(["day","week","month"]).default("day").describe("How to group analytics data")});ee.object({user_id:ee.string().uuid("Invalid user ID format"),product_id:ee.string().uuid("Invalid product ID format")});ee.object({review_id:ee.string().uuid("Invalid review ID format"),user_id:ee.string().uuid("Invalid user ID format")});const _7=ee.object({id:ee.string().uuid(),user_id:ee.string().uuid(),product_id:ee.string().uuid(),rating:ee.number().int().min(1).max(5),comment:ee.string().nullable(),is_approved:ee.boolean(),helpful_count:ee.number().int().min(0),created_at:ee.string().datetime(),updated_at:ee.string().datetime(),user:ee.object({first_name:ee.string(),last_name:ee.string(),avatar_url:ee.string().nullable()}).optional(),product:ee.object({name:ee.string(),image_url:ee.string().nullable()}).optional()});ee.object({data:ee.array(_7),count:ee.number().int().min(0),total:ee.number().int().min(0),has_more:ee.boolean(),next_offset:ee.number().int().min(0).nullable()});function VT({productId:e,productName:t,existingReview:r,onSuccess:n,onCancel:i,className:a=""}){const{user:l}=kr(),c=fV(),u=mV(),[h,p]=v.useState(!1),m=!!r,g=Y0({resolver:X0(m?y7:x7),defaultValues:m?{id:r.id,rating:r.rating,comment:r.comment||""}:{product_id:e,rating:0,comment:""}}),_=async b=>{if(!l){g.setError("root",{type:"manual",message:"You must be logged in to submit a review"});return}p(!0);try{r?await u.mutateAsync(b):await c.mutateAsync(b),n==null||n(),r||g.reset()}catch(j){console.error("Failed to submit review:",j),g.setError("root",{type:"manual",message:"Failed to submit review. Please try again."})}finally{p(!1)}},N=g.watch("rating"),x=g.watch("comment"),S=(x==null?void 0:x.length)||0,w=1e3;return l?s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 ${a}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r?"Edit Your Review":"Write a Review"}),t&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["for ",t]})]}),i&&s.jsx(B,{variant:"ghost",size:"sm",onClick:i,className:"h-8 w-8 p-0",children:s.jsx(Vn,{className:"h-4 w-4"})})]}),s.jsx(J0,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(_),className:"space-y-6",children:[s.jsx(Wr,{control:g.control,name:"rating",render:({field:b})=>s.jsxs(Ar,{children:[s.jsx(Mr,{className:"text-base font-medium",children:"Your Rating *"}),s.jsx(an,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vs,{value:b.value,onChange:b.onChange,interactive:!0,size:"lg",className:"cursor-pointer"}),b.value>0&&s.jsxs(We,{variant:"secondary",className:"px-2 py-1",children:[b.value," ",b.value===1?"star":"stars"]})]})}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:g.control,name:"comment",render:({field:b})=>s.jsxs(Ar,{children:[s.jsx(Mr,{className:"text-base font-medium",children:"Your Review (optional)"}),s.jsx(an,{children:s.jsx(vp,{...b,placeholder:"Share your experience with this product. What did you like or dislike about it?",className:"min-h-[120px] resize-none",maxLength:w})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(bn,{}),s.jsxs("span",{className:`text-sm ${S>w*.9?"text-red-600":"text-gray-500"}`,children:[S,"/",w]})]})]})}),g.formState.errors.root&&s.jsxs(Ws,{variant:"destructive",children:[s.jsx(Mf,{className:"h-4 w-4"}),s.jsx(Hs,{children:g.formState.errors.root.message})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[i&&s.jsx(B,{type:"button",variant:"outline",onClick:i,disabled:h,children:"Cancel"}),s.jsx(B,{type:"submit",disabled:!N||h,className:"min-w-[120px]",children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(EL,{className:"h-4 w-4"}),r?"Update Review":"Submit Review"]})})]})]})})]})}):s.jsx("div",{className:`p-6 bg-gray-50 rounded-lg border border-gray-200 ${a}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mf,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sign in to write a review"}),s.jsx("p",{className:"text-gray-600",children:"You need to be logged in to leave a review for this product."})]})})}function Qg({productId:e,productName:t,onSuccess:r,triggerText:n="Write a Review",triggerVariant:i="default",children:a}){const[l,c]=te.useState(!1),u=()=>{c(!1),r==null||r()},h=()=>{c(!1)};return s.jsxs(ic,{open:l,onOpenChange:c,children:[s.jsx(Uu,{asChild:!0,children:a||s.jsxs(B,{variant:i,className:"gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),n]})}),s.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(jo,{children:s.jsx(No,{children:"Write a Review"})}),s.jsx(VT,{productId:e,productName:t,onSuccess:u,onCancel:h,className:"border-0 shadow-none"})]})]})}function w7({productId:e,productName:t,existingReview:r,onSuccess:n,triggerText:i="Edit Review",children:a}){const[l,c]=te.useState(!1),u=()=>{c(!1),n==null||n()},h=()=>{c(!1)};return s.jsxs(ic,{open:l,onOpenChange:c,children:[s.jsx(Uu,{asChild:!0,children:a||s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(mo,{className:"h-4 w-4"}),i]})}),s.jsxs(bo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(jo,{children:s.jsx(No,{children:"Edit Your Review"})}),s.jsx(VT,{productId:e,productName:t,existingReview:r,onSuccess:u,onCancel:h,className:"border-0 shadow-none"})]})]})}function s1({productId:e,productName:t,userReview:r,onSuccess:n,variant:i="button",className:a=""}){return r?s.jsx(w7,{productId:e,productName:t,existingReview:r,onSuccess:n,children:s.jsxs(B,{variant:"outline",className:`gap-2 ${a}`,children:[s.jsx(mo,{className:"h-4 w-4"}),"Edit Your Review"]})}):i==="inline"?s.jsx(Qg,{productId:e,productName:t,onSuccess:n,triggerVariant:"outline",children:s.jsxs(B,{variant:"outline",size:"lg",className:`w-full gap-2 ${a}`,children:[s.jsx($t,{className:"h-5 w-5"}),"Write the First Review"]})}):i==="floating"?s.jsx("div",{className:`fixed bottom-6 right-6 z-50 ${a}`,children:s.jsx(Qg,{productId:e,productName:t,onSuccess:n,children:s.jsxs(B,{size:"lg",className:"rounded-full shadow-lg gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Review"]})})}):s.jsx(Qg,{productId:e,productName:t,onSuccess:n,triggerVariant:"default",children:s.jsxs(B,{className:`gap-2 ${a}`,children:[s.jsx($t,{className:"h-4 w-4"}),"Write a Review"]})})}const b7=(e,t={})=>mn({queryKey:["product-reviews",e,t],queryFn:async()=>{const{sort_by:r="newest",limit:n=20,offset:i=0,min_rating:a,search:l}=t;let c=ye.from("reviews").select(`
          id,
          user_id,
          product_id,
          rating,
          comment,
          is_approved,
          helpful_count,
          created_at,
          updated_at,
          profiles (
            first_name,
            last_name,
            avatar_url
          )
        `).eq("product_id",e).eq("is_approved",!0);switch(a&&(c=c.gte("rating",a)),l&&(c=c.ilike("comment",`%${l}%`)),r){case"newest":c=c.order("created_at",{ascending:!1});break;case"oldest":c=c.order("created_at",{ascending:!0});break;case"highest_rating":c=c.order("rating",{ascending:!1});break;case"lowest_rating":c=c.order("rating",{ascending:!0});break;case"most_helpful":c=c.order("helpful_count",{ascending:!1});break}c=c.range(i,i+n-1);const{data:u,error:h,count:p}=await c;if(h)throw console.error("Error fetching product reviews:",h),h;const m=(u||[]).map(g=>{var _,N,x;return{...g,user:g.profiles?{first_name:(_=g.profiles)==null?void 0:_.first_name,last_name:(N=g.profiles)==null?void 0:N.last_name,avatar_url:(x=g.profiles)==null?void 0:x.avatar_url}:void 0}});return{data:m,count:m.length,total:p||0,has_more:(p||0)>i+n,next_offset:(p||0)>i+n?i+n:null}},staleTime:5*60*1e3,enabled:!!e}),j7=e=>mn({queryKey:["user-reviews",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await ye.from("reviews").select(`
          id,
          user_id,
          product_id,
          rating,
          comment,
          is_approved,
          helpful_count,
          created_at,
          updated_at,
          products (
            name,
            image_url
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching user reviews:",r),r;return(t||[]).map(n=>{var i,a;return{...n,product:n.products?{name:(i=n.products)==null?void 0:i.name,image_url:(a=n.products)==null?void 0:a.image_url}:void 0}})},enabled:!!e,staleTime:5*60*1e3}),N7=e=>mn({queryKey:["product-review-stats",e],queryFn:async()=>{const{data:t,error:r}=await ye.from("review_analytics").select("*").eq("product_id",e).single();if(r)throw console.error("Error fetching review stats:",r),r;return t},enabled:!!e,staleTime:10*60*1e3}),t_=(e={})=>mn({queryKey:["admin-reviews",e],queryFn:async()=>{let t=ye.from("admin_reviews_overview").select("*");if(e.is_approved!==void 0&&(t=t.eq("is_approved",e.is_approved)),e.limit){const a=e.offset||0;t=t.range(a,a+e.limit-1)}t=t.order("created_at",{ascending:!1});const{data:r,error:n,count:i}=await t;if(n)throw console.error("Error fetching admin reviews:",n),n;return{data:r||[],total:i||0}},staleTime:2*60*1e3}),WT=()=>{const e=Qn();v.useEffect(()=>{const t=ye.channel("admin-reviews").on("postgres_changes",{event:"*",schema:"public",table:"reviews"},r=>{console.log("Admin review update received:",r),e.invalidateQueries({queryKey:["admin-reviews"]}),e.invalidateQueries({queryKey:["review-analytics"]})}).subscribe();return()=>{t.unsubscribe()}},[e])};function S7({productId:e,className:t=""}){const{data:r}=N7(e);if(!r)return s.jsx("div",{className:`space-y-3 ${t}`,children:[5,4,3,2,1].map(a=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium w-3",children:a}),s.jsx($t,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),s.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gray-300 rounded-full animate-pulse",style:{width:"0%"}})}),s.jsx("span",{className:"text-sm text-gray-500 w-8",children:"0"})]},a))});const n=r.review_count||0,i=[{stars:5,count:r.five_star_count||0},{stars:4,count:r.four_star_count||0},{stars:3,count:r.three_star_count||0},{stars:2,count:r.two_star_count||0},{stars:1,count:r.one_star_count||0}];return s.jsx("div",{className:`space-y-3 ${t}`,children:i.map(({stars:a,count:l})=>{const c=n>0?l/n*100:0;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium w-3",children:a}),s.jsx($t,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),s.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),s.jsx("span",{className:"text-sm text-gray-500 w-8",children:l})]},a)})})}function C7({onFilterChange:e,onSortChange:t,currentFilter:r,currentSort:n}){return s.jsxs("div",{className:"flex items-center gap-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dm,{className:"h-4 w-4 text-gray-500"}),s.jsxs(jr,{value:r,onValueChange:e,children:[s.jsx(pr,{className:"w-[150px]",children:s.jsx(Nr,{placeholder:"Filter by rating"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"all",children:"All Reviews"}),s.jsx(Ie,{value:"5",children:"5 Stars"}),s.jsx(Ie,{value:"4",children:"4 Stars"}),s.jsx(Ie,{value:"3",children:"3 Stars"}),s.jsx(Ie,{value:"2",children:"2 Stars"}),s.jsx(Ie,{value:"1",children:"1 Star"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pL,{className:"h-4 w-4 text-gray-500"}),s.jsxs(jr,{value:n,onValueChange:t,children:[s.jsx(pr,{className:"w-[150px]",children:s.jsx(Nr,{placeholder:"Sort by"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"newest",children:"Newest First"}),s.jsx(Ie,{value:"oldest",children:"Oldest First"}),s.jsx(Ie,{value:"highest_rating",children:"Highest Rated"}),s.jsx(Ie,{value:"lowest_rating",children:"Lowest Rated"}),s.jsx(Ie,{value:"most_helpful",children:"Most Helpful"})]})]})]})]})}function k7({productId:e,productName:t,averageRating:r=0,reviewCount:n=0,className:i=""}){const{user:a}=kr(),[l,c]=v.useState("all"),[u,h]=v.useState("newest"),[p,m]=v.useState(0),{data:g,isLoading:_,error:N,refetch:x}=b7(e,{rating:l!=="all"?parseInt(l):void 0,sort_by:u,limit:10,offset:p*10}),{data:S}=j7(a==null?void 0:a.id),w=S==null?void 0:S.find(M=>M.product_id===e),b=w&&w.id&&w.rating!==void 0?{id:w.id,rating:w.rating,comment:w.comment||null}:void 0,j=(g==null?void 0:g.data)||[],k=(g==null?void 0:g.has_more)||!1,T=()=>{x()},I=()=>{m(M=>M+1)};return s.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 ${i}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(nU,{rating:r,reviewCount:n,size:"default"}),n>0&&s.jsxs(We,{variant:"secondary",className:"gap-1",children:[s.jsx(_C,{className:"h-3 w-3"}),n," ",n===1?"review":"reviews"]})]})]})}),s.jsx(s1,{productId:e,productName:t,userReview:b,onSuccess:T,variant:"button"})]})}),s.jsxs(_o,{defaultValue:"reviews",className:"w-full",children:[s.jsxs(Oo,{className:"w-full justify-start rounded-none border-b",children:[s.jsxs(Ht,{value:"reviews",className:"gap-2",children:[s.jsx(xa,{className:"h-4 w-4"}),"All Reviews (",n,")"]}),s.jsxs(Ht,{value:"breakdown",className:"gap-2",children:[s.jsx(sd,{className:"h-4 w-4"}),"Rating Breakdown"]})]}),s.jsx(ur,{value:"reviews",className:"mt-0",children:n===0?s.jsx("div",{className:"p-12 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(xa,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Be the first to share your experience with ",t]}),s.jsx(s1,{productId:e,productName:t,userReview:b,onSuccess:T,variant:"inline"})]})}):s.jsxs("div",{className:"space-y-0",children:[s.jsx("div",{className:"px-6 border-b border-gray-100",children:s.jsx(C7,{onFilterChange:c,onSortChange:h,currentFilter:l,currentSort:u})}),s.jsx("div",{className:"divide-y divide-gray-100",children:_?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:[...Array(3)].map((M,R)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})},R))})}):N?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("p",{className:"text-red-600",children:"Failed to load reviews. Please try again."}),s.jsx(B,{variant:"outline",onClick:()=>x(),className:"mt-2",children:"Retry"})]}):j.length===0?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"No reviews match your current filters."})}):s.jsxs(s.Fragment,{children:[j.map(M=>s.jsx("div",{className:"p-6",children:s.jsx(M9,{review:M,showProduct:!1})},M.id)),k&&s.jsx("div",{className:"p-6 border-t border-gray-100",children:s.jsx(B,{variant:"outline",onClick:I,className:"w-full",children:"Load More Reviews"})})]})})]})}),s.jsx(ur,{value:"breakdown",className:"mt-0",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rating Distribution"}),s.jsx(S7,{productId:e})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{value:r,size:"sm"}),s.jsx("span",{className:"font-medium",children:r.toFixed(1)})]})]}),s.jsx(Gf,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Reviews"}),s.jsx("span",{className:"font-medium",children:n})]}),s.jsx(Gf,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Recommendation Rate"}),s.jsx("span",{className:"font-medium",children:n>0?`${Math.round(n>0?n/n*100:0)}%`:"No data"})]})]})]})]})})})]})]})}const P7=()=>{const{id:e}=b5(),t=Ao(),{toast:r}=fn(),[n,i]=v.useState(1),{data:a=[]}=Xd(),{cartItems:l,addToCart:c,updateQuantity:u}=Sc(),{isFavorite:h,toggleFavorite:p}=Au(),m=a.find(j=>j.id===e),g=l.find(j=>j.id===e),_=(g==null?void 0:g.quantity)||0;if(!m)return s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"font-bold text-neutral-900",children:"Product Not Found"})]})}),s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"Product Not Found"}),s.jsx("p",{className:"text-neutral-600 mb-6",children:"The product you're looking for doesn't exist."}),s.jsx(ft,{to:"/home",children:s.jsx(B,{className:"primary-button",children:"Back to Home"})})]})}),s.jsx(ms,{})]});const N=()=>{for(let j=0;j<n;j++)c({id:m.id,name:m.name,price:m.price,image:m.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",isVeg:m.is_veg||!1,description:m.description});i(1)},x=j=>{g&&j>=0&&u(g.id,j)},S=()=>{var j;p({id:m.id,name:m.name,price:m.price,image:m.image_url||"/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",description:m.description,isVeg:m.is_veg,category:(j=m.categories)==null?void 0:j.name,rating:m.average_rating,reviewCount:m.review_count})},w=async()=>{if(navigator.share)try{await navigator.share({title:m.name,text:`Check out this delicious ${m.name} on Seabites!`,url:window.location.href})}catch(j){console.log("Error sharing:",j)}else navigator.clipboard.writeText(window.location.href),r({title:"Link copied!",description:"Product link has been copied to clipboard."})},b=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(j);return s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-24",children:[s.jsx("div",{className:"bg-white shadow-soft px-4 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(wr,{className:"h-5 w-5"})}),s.jsx("h1",{className:"font-bold text-neutral-900",children:"Product Details"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:w,className:"p-2 hover:bg-neutral-100 rounded-xl",children:s.jsx(RL,{className:"h-5 w-5"})}),s.jsx(B,{variant:"ghost",size:"sm",onClick:S,className:`p-2 rounded-xl ${h(m.id)?"text-red-500 bg-red-50 hover:bg-red-100":"hover:bg-neutral-100"}`,children:s.jsx(fo,{className:`h-5 w-5 ${h(m.id)?"fill-current":""}`})})]})]})}),s.jsxs("div",{className:"relative aspect-[4/3] bg-gray-100",children:[m.image_url?s.jsx("img",{src:m.image_url,alt:m.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-neutral-100 to-neutral-200 flex items-center justify-center",children:s.jsxs("div",{className:"text-neutral-400 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:"🍽️"}),s.jsx("p",{className:"text-lg",children:"No Image Available"})]})}),!m.is_available&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsx(We,{variant:"secondary",className:"bg-white text-neutral-800 font-medium text-lg px-4 py-2",children:"Currently Unavailable"})}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs(We,{className:"bg-white/90 text-neutral-700 border-0 shadow-sm backdrop-blur-sm flex items-center gap-2 px-3 py-2",children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"25-30 min"})]})})]}),s.jsxs("div",{className:"px-4 py-6 space-y-6",children:[s.jsx(re,{className:"border-0 shadow-soft",children:s.jsxs(ne,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:m.name}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($t,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-semibold text-neutral-900",children:m.average_rating?m.average_rating.toFixed(1):"4.8"})]}),s.jsxs("span",{className:"text-sm text-neutral-600",children:["(",m.review_count||"435","+ reviews)"]})]}),m.is_veg!==null&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 border-2 flex items-center justify-center ${m.is_veg?"border-green-600":"border-red-600"}`,children:s.jsx("div",{className:`w-2 h-2 rounded-full ${m.is_veg?"bg-green-600":"bg-red-600"}`})}),s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:m.is_veg?"Vegetarian":"Non-Vegetarian"})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-3xl font-bold text-neutral-900",children:b(m.price)})}),m.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[s.jsx(Of,{className:"w-4 h-4"}),"About this dish"]}),s.jsx("p",{className:"text-neutral-700 leading-relaxed",children:m.description})]})]})}),s.jsx(re,{className:"border-0 shadow-soft",children:s.jsx(ne,{className:"p-6",children:_>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold text-neutral-900",children:["In Cart: ",_," items"]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-brand-500 rounded-xl px-4 py-2",children:[s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-brand-600 rounded-lg",onClick:()=>x(_-1),children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-white font-semibold min-w-[2rem] text-center",children:_}),s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-brand-600 rounded-lg",onClick:()=>x(_+1),children:s.jsx(br,{className:"h-4 w-4"})})]})]}),s.jsxs(B,{className:"w-full primary-button py-3 text-lg font-semibold",onClick:()=>t("/cart"),children:[s.jsx(Jl,{className:"h-5 w-5 mr-2"}),"View Cart"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-neutral-900",children:"Quantity"}),s.jsxs("div",{className:"flex items-center space-x-3 border border-neutral-300 rounded-xl px-4 py-2",children:[s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-neutral-100 rounded-lg",onClick:()=>i(Math.max(1,n-1)),children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-semibold min-w-[2rem] text-center",children:n}),s.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-neutral-100 rounded-lg",onClick:()=>i(n+1),children:s.jsx(br,{className:"h-4 w-4"})})]})]}),s.jsxs(B,{className:"w-full primary-button py-3 text-lg font-semibold",onClick:N,disabled:!m.is_available,children:[s.jsx(Jl,{className:"h-5 w-5 mr-2"}),"Add to Cart • ",b(m.price*n)]})]})})}),s.jsx(k7,{productId:m.id,productName:m.name,averageRating:m.average_rating,reviewCount:m.review_count})]}),s.jsx(ms,{})]})};var HT="AlertDialog",[E7,yH]=ws(HT,[GE]),Pi=GE(),qT=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pi(t);return s.jsx(V0,{...n,...r,modal:!0})};qT.displayName=HT;var T7="AlertDialogTrigger",ZT=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Pi(r);return s.jsx(W0,{...i,...n,ref:t})});ZT.displayName=T7;var R7="AlertDialogPortal",KT=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pi(t);return s.jsx(H0,{...n,...r})};KT.displayName=R7;var A7="AlertDialogOverlay",GT=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Pi(r);return s.jsx(Fu,{...i,...n,ref:t})});GT.displayName=A7;var Rl="AlertDialogContent",[M7,O7]=E7(Rl),QT=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Pi(r),l=v.useRef(null),c=ot(t,l),u=v.useRef(null);return s.jsx($9,{contentName:Rl,titleName:YT,docsSlug:"alert-dialog",children:s.jsx(M7,{scope:r,cancelRef:u,children:s.jsxs($u,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:me(i.onOpenAutoFocus,h=>{var p;h.preventDefault(),(p=u.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(zy,{children:n}),s.jsx(I7,{contentRef:l})]})})})});QT.displayName=Rl;var YT="AlertDialogTitle",XT=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Pi(r);return s.jsx(zu,{...i,...n,ref:t})});XT.displayName=YT;var JT="AlertDialogDescription",eR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Pi(r);return s.jsx(Bu,{...i,...n,ref:t})});eR.displayName=JT;var L7="AlertDialogAction",tR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Pi(r);return s.jsx(fp,{...i,...n,ref:t})});tR.displayName=L7;var rR="AlertDialogCancel",nR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=O7(rR,r),a=Pi(r),l=ot(t,i);return s.jsx(fp,{...a,...n,ref:l})});nR.displayName=rR;var I7=({contentRef:e})=>{const t=`\`${Rl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rl}\` by passing a \`${JT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},D7=qT,F7=ZT,$7=KT,sR=GT,iR=QT,aR=tR,oR=nR,lR=XT,cR=eR;const dR=D7,uR=F7,z7=$7,hR=v.forwardRef(({className:e,...t},r)=>s.jsx(sR,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hR.displayName=sR.displayName;const r_=v.forwardRef(({className:e,...t},r)=>s.jsxs(z7,{children:[s.jsx(hR,{}),s.jsx(iR,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));r_.displayName=iR.displayName;const n_=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});n_.displayName="AlertDialogHeader";const s_=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});s_.displayName="AlertDialogFooter";const i_=v.forwardRef(({className:e,...t},r)=>s.jsx(lR,{ref:r,className:ce("text-lg font-semibold",e),...t}));i_.displayName=lR.displayName;const a_=v.forwardRef(({className:e,...t},r)=>s.jsx(cR,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));a_.displayName=cR.displayName;const o_=v.forwardRef(({className:e,...t},r)=>s.jsx(aR,{ref:r,className:ce(w0(),e),...t}));o_.displayName=aR.displayName;const l_=v.forwardRef(({className:e,...t},r)=>s.jsx(oR,{ref:r,className:ce(w0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));l_.displayName=oR.displayName;const B7=()=>{const{user:e,signOut:t}=kr(),{data:r,isLoading:n}=ZB(),{data:i=[],isLoading:a}=KB(),{data:l=[],isLoading:c}=AP(),{updateProfile:u,addAddress:h,updateAddress:p,deleteAddress:m,setDefaultAddress:g}=GB(),{favorites:_}=Au(),[N,x]=v.useState("profile"),[S,w]=v.useState(!1),[b,j]=v.useState(!1),[k,T]=v.useState(null),[I,M]=v.useState({first_name:"",last_name:"",phone:""}),[R,O]=v.useState({address_line_1:"",address_line_2:"",address_line_3:"",pincode:"",address_type:"home",custom_name:"",landmark:""});te.useEffect(()=>{r&&M({first_name:r.first_name||"",last_name:r.last_name||"",phone:r.phone||""})},[r]);const z=async()=>{try{await u.mutateAsync(I),w(!1)}catch(A){console.error("Failed to update profile:",A)}},G=async()=>{try{await h.mutateAsync(R),j(!1),O({address_line_1:"",address_line_2:"",address_line_3:"",pincode:"",address_type:"home",custom_name:"",landmark:""})}catch(A){console.error("Failed to add address:",A)}},U=async A=>{try{await p.mutateAsync({id:A,updates:R}),T(null)}catch(W){console.error("Failed to update address:",W)}},Z=async A=>{try{await m.mutateAsync(A)}catch(W){console.error("Failed to delete address:",W)}},q=async A=>{try{await g.mutateAsync(A)}catch(W){console.error("Failed to set default address:",W)}},ie=A=>{O({address_line_1:A.address_line_1,address_line_2:A.address_line_2||"",address_line_3:A.address_line_3,pincode:A.pincode,address_type:A.address_type,custom_name:A.custom_name||"",landmark:A.landmark||""}),T(A.id)},K=A=>{switch(A){case"delivered":return s.jsx(Kt,{className:"h-4 w-4 text-green-600"});case"out_for_delivery":return s.jsx(ec,{className:"h-4 w-4 text-blue-600"});case"preparing":return s.jsx(fr,{className:"h-4 w-4 text-yellow-600"});case"cancelled":return s.jsx($s,{className:"h-4 w-4 text-red-600"});default:return s.jsx(fr,{className:"h-4 w-4 text-neutral-600"})}},Q=A=>{switch(A){case"delivered":return"bg-green-100 text-green-800 border-green-200";case"out_for_delivery":return"bg-blue-100 text-blue-800 border-blue-200";case"preparing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-neutral-100 text-neutral-800 border-neutral-200"}},E=A=>A.split("_").map(W=>W.charAt(0).toUpperCase()+W.slice(1)).join(" ");return n?s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500"})}):s.jsxs("div",{className:"min-h-screen bg-neutral-50 pb-20",children:[s.jsxs("div",{className:"bg-white shadow-soft px-4 py-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl flex items-center justify-center",children:s.jsx(wi,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:r?`${r.first_name} ${r.last_name}`:"My Profile"}),s.jsxs("p",{className:"text-neutral-600 flex items-center",children:[s.jsx(Pu,{className:"h-4 w-4 mr-1"}),e==null?void 0:e.email]})]})]})}),s.jsx("div",{className:"px-4 py-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(re,{className:"interactive-card text-center bg-gradient-to-br from-brand-50 to-orange-50 border-brand-200",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(er,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900 mb-1",children:l.length}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Orders"})]})}),s.jsx(re,{className:"interactive-card text-center bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(fs,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900 mb-1",children:i.length}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Addresses"})]})}),s.jsx(re,{className:"interactive-card text-center bg-gradient-to-br from-red-50 to-pink-50 border-red-200",children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(fo,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-neutral-900 mb-1",children:_.length}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Favorites"})]})})]})})]}),s.jsx("div",{className:"px-4 py-6",children:s.jsxs(_o,{value:N,onValueChange:x,className:"space-y-6",children:[s.jsxs(Oo,{className:"grid w-full grid-cols-3 bg-neutral-100 rounded-2xl p-1",children:[s.jsx(Ht,{value:"profile",className:"rounded-xl",children:"Personal"}),s.jsx(Ht,{value:"addresses",className:"rounded-xl",children:"Addresses"}),s.jsx(Ht,{value:"orders",className:"rounded-xl",children:"Orders"})]}),s.jsxs(ur,{value:"profile",className:"space-y-4",children:[s.jsxs(re,{className:"interactive-card shadow-card",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 bg-brand-50 rounded-xl flex items-center justify-center",children:s.jsx(wi,{className:"h-6 w-6 text-brand-600"})}),s.jsxs("div",{children:[s.jsx(Ze,{className:"text-neutral-900",children:"Personal Information"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Manage your personal details"})]})]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>w(!0),disabled:S,className:"border-brand-300 text-brand-600 hover:bg-brand-50 rounded-xl",children:[s.jsx(mo,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),s.jsx(ne,{className:"space-y-4",children:S?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"first_name",children:"First Name"}),s.jsx(Te,{id:"first_name",value:I.first_name,onChange:A=>M({...I,first_name:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"last_name",children:"Last Name"}),s.jsx(Te,{id:"last_name",value:I.last_name,onChange:A=>M({...I,last_name:A.target.value}),className:"rounded-xl"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Te,{id:"phone",type:"tel",value:I.phone,onChange:A=>M({...I,phone:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(B,{onClick:z,disabled:u.isPending,className:"primary-button",children:u.isPending?"Saving...":"Save Changes"}),s.jsx(B,{variant:"outline",onClick:()=>w(!1),className:"border-neutral-300 hover:bg-neutral-50 rounded-xl",children:"Cancel"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-neutral-600",children:"First Name"}),s.jsx("p",{className:"font-medium text-neutral-900",children:(r==null?void 0:r.first_name)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-neutral-600",children:"Last Name"}),s.jsx("p",{className:"font-medium text-neutral-900",children:(r==null?void 0:r.last_name)||"Not set"})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-neutral-600",children:"Email"}),s.jsx("p",{className:"font-medium text-neutral-900",children:e==null?void 0:e.email})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-neutral-600",children:"Phone"}),s.jsx("p",{className:"font-medium text-neutral-900",children:(r==null?void 0:r.phone)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-neutral-600",children:"Member Since"}),s.jsx("p",{className:"font-medium text-neutral-900",children:r!=null&&r.created_at?Wj(new Date(r.created_at),"MMMM yyyy"):"Recently joined"})]})]})})]}),s.jsxs(re,{className:"interactive-card shadow-card mb-6",children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center",children:[s.jsx(If,{className:"h-5 w-5 mr-2 text-brand-500"}),"Quick Actions"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ft,{to:"/favorites",children:s.jsxs(B,{variant:"outline",className:"w-full h-16 flex flex-col items-center justify-center space-y-2 hover:bg-red-50 hover:border-red-300",children:[s.jsx(fo,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm",children:"Favorites"})]})}),s.jsxs(B,{variant:"outline",className:"h-16 flex flex-col items-center justify-center space-y-2 hover:bg-green-50 hover:border-green-300",children:[s.jsx(mC,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Payment"})]}),s.jsxs(B,{variant:"outline",className:"h-16 flex flex-col items-center justify-center space-y-2 hover:bg-blue-50 hover:border-blue-300",children:[s.jsx(Vd,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-sm",children:"Notifications"})]}),s.jsxs(B,{variant:"outline",className:"h-16 flex flex-col items-center justify-center space-y-2 hover:bg-red-50 hover:border-red-300",onClick:t,children:[s.jsx(vC,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})]})]}),s.jsxs(ur,{value:"addresses",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Delivery Addresses"}),s.jsxs(ic,{open:b,onOpenChange:j,children:[s.jsx(Uu,{asChild:!0,children:s.jsxs(B,{className:"primary-button",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Add Address"]})}),s.jsxs(bo,{className:"rounded-2xl",children:[s.jsxs(jo,{children:[s.jsx(No,{children:"Add New Address"}),s.jsx(Dx,{children:"Add a new delivery address to your account."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"address_type",children:"Address Type"}),s.jsxs(jr,{value:R.address_type,onValueChange:A=>O({...R,address_type:A}),children:[s.jsx(pr,{className:"rounded-xl",children:s.jsx(Nr,{})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"home",children:"Home"}),s.jsx(Ie,{value:"office",children:"Office"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"address_line_1",children:"Address Line 1"}),s.jsx(Te,{id:"address_line_1",value:R.address_line_1,onChange:A=>O({...R,address_line_1:A.target.value}),placeholder:"House/Flat number, Building name",className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"address_line_2",children:"Address Line 2 (Optional)"}),s.jsx(Te,{id:"address_line_2",value:R.address_line_2,onChange:A=>O({...R,address_line_2:A.target.value}),placeholder:"Street name",className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"address_line_3",children:"City/Area"}),s.jsx(Te,{id:"address_line_3",value:R.address_line_3,onChange:A=>O({...R,address_line_3:A.target.value}),placeholder:"City, Area",className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"pincode",children:"Pincode"}),s.jsx(Te,{id:"pincode",value:R.pincode,onChange:A=>O({...R,pincode:A.target.value}),placeholder:"Pincode",className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"landmark",children:"Landmark (Optional)"}),s.jsx(Te,{id:"landmark",value:R.landmark,onChange:A=>O({...R,landmark:A.target.value}),placeholder:"Nearby landmark",className:"rounded-xl"})]})]}),s.jsxs(tm,{children:[s.jsx(B,{variant:"outline",onClick:()=>j(!1),className:"rounded-xl",children:"Cancel"}),s.jsx(B,{onClick:G,disabled:h.isPending,className:"primary-button",children:h.isPending?"Adding...":"Add Address"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:a?s.jsx(re,{className:"shadow-card",children:s.jsxs(ne,{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-neutral-600",children:"Loading addresses..."})]})}):i.length===0?s.jsx(re,{className:"shadow-card",children:s.jsxs(ne,{className:"text-center py-12",children:[s.jsx(fs,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"No addresses added"}),s.jsx("p",{className:"text-neutral-600 mb-4",children:"Add your first delivery address to get started"}),s.jsx(B,{onClick:()=>j(!0),className:"primary-button",children:"Add Address"})]})}):i.map(A=>s.jsx(re,{className:"shadow-card",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-50 rounded-xl flex items-center justify-center",children:A.address_type==="home"?s.jsx(Fm,{className:"h-5 w-5 text-brand-600"}):A.address_type==="office"?s.jsx(dC,{className:"h-5 w-5 text-brand-600"}):s.jsx(fs,{className:"h-5 w-5 text-brand-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold text-neutral-900 capitalize",children:A.custom_name||A.address_type}),A.is_default&&s.jsx(We,{className:"bg-brand-100 text-brand-700 border-brand-200",children:"Default"})]}),s.jsxs("p",{className:"text-sm text-neutral-600",children:[[A.address_line_1,A.address_line_2,A.address_line_3].filter(Boolean).join(", "),A.pincode&&` - ${A.pincode}`]}),A.landmark&&s.jsxs("p",{className:"text-xs text-neutral-500",children:["Near ",A.landmark]})]})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>ie(A),className:"text-brand-600 hover:bg-brand-50 rounded-xl",children:s.jsx(mo,{className:"h-4 w-4"})}),s.jsxs(dR,{children:[s.jsx(uR,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 rounded-xl",children:s.jsx(vs,{className:"h-4 w-4"})})}),s.jsxs(r_,{className:"rounded-2xl",children:[s.jsxs(n_,{children:[s.jsx(i_,{children:"Delete Address"}),s.jsx(a_,{children:"Are you sure you want to delete this address? This action cannot be undone."})]}),s.jsxs(s_,{children:[s.jsx(l_,{className:"rounded-xl",children:"Cancel"}),s.jsx(o_,{onClick:()=>Z(A.id),className:"bg-red-500 hover:bg-red-600 rounded-xl",children:"Delete"})]})]})]})]})]}),!A.is_default&&s.jsx(B,{variant:"outline",size:"sm",onClick:()=>q(A.id),disabled:g.isPending,className:"border-brand-300 text-brand-600 hover:bg-brand-50 rounded-xl",children:"Set as Default"})]})},A.id))})]}),s.jsxs(ur,{value:"orders",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recent Orders"}),s.jsx(ft,{to:"/orders",children:s.jsx(B,{variant:"ghost",className:"text-brand-600 font-medium",children:"View All"})})]}),s.jsx("div",{className:"space-y-4",children:c?s.jsx(re,{className:"shadow-card",children:s.jsxs(ne,{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-neutral-600",children:"Loading orders..."})]})}):l.length===0?s.jsx(re,{className:"shadow-card",children:s.jsxs(ne,{className:"text-center py-12",children:[s.jsx(er,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-neutral-600 mb-4",children:"Your order history will appear here"}),s.jsx(B,{className:"primary-button",children:"Start Shopping"})]})}):l.slice(0,3).map(A=>{var W;return s.jsx(re,{className:"interactive-card shadow-card",children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-50 rounded-xl flex items-center justify-center",children:K(A.status)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-neutral-900",children:["Order #",A.id.slice(-8)]}),s.jsx("p",{className:"text-sm text-neutral-600",children:Wj(new Date(A.created_at),"MMM dd, yyyy")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(We,{className:`${Q(A.status)} border font-medium px-3 py-1 rounded-full`,children:E(A.status)}),s.jsxs("p",{className:"font-bold text-neutral-900 mt-1",children:["₹",A.total_amount.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-neutral-600",children:[((W=A.order_items)==null?void 0:W.length)||0," items"]}),s.jsxs(B,{variant:"ghost",size:"sm",className:"text-brand-600 hover:bg-brand-50 rounded-xl",children:["View Details",s.jsx(fC,{className:"h-4 w-4 ml-1"})]})]})]})},A.id)})})]})]})}),k&&s.jsx(ic,{open:!!k,onOpenChange:()=>T(null),children:s.jsxs(bo,{className:"rounded-2xl",children:[s.jsxs(jo,{children:[s.jsx(No,{children:"Edit Address"}),s.jsx(Dx,{children:"Update your delivery address details."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_address_type",children:"Address Type"}),s.jsxs(jr,{value:R.address_type,onValueChange:A=>O({...R,address_type:A}),children:[s.jsx(pr,{className:"rounded-xl",children:s.jsx(Nr,{})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"home",children:"Home"}),s.jsx(Ie,{value:"office",children:"Office"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_address_line_1",children:"Address Line 1"}),s.jsx(Te,{id:"edit_address_line_1",value:R.address_line_1,onChange:A=>O({...R,address_line_1:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_address_line_2",children:"Address Line 2 (Optional)"}),s.jsx(Te,{id:"edit_address_line_2",value:R.address_line_2,onChange:A=>O({...R,address_line_2:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_address_line_3",children:"City/Area"}),s.jsx(Te,{id:"edit_address_line_3",value:R.address_line_3,onChange:A=>O({...R,address_line_3:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_pincode",children:"Pincode"}),s.jsx(Te,{id:"edit_pincode",value:R.pincode,onChange:A=>O({...R,pincode:A.target.value}),className:"rounded-xl"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"edit_landmark",children:"Landmark (Optional)"}),s.jsx(Te,{id:"edit_landmark",value:R.landmark,onChange:A=>O({...R,landmark:A.target.value}),className:"rounded-xl"})]})]}),s.jsxs(tm,{children:[s.jsx(B,{variant:"outline",onClick:()=>T(null),className:"rounded-xl",children:"Cancel"}),s.jsx(B,{onClick:()=>k&&U(k),disabled:p.isPending,className:"primary-button",children:p.isPending?"Updating...":"Update Address"})]})]})}),s.jsx(ms,{})]})},fR=()=>{const e=Ro();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Li=({children:e})=>{const{user:t,loading:r}=kr();return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(qf,{to:"/welcome",replace:!0})},Yg=({children:e})=>{const{user:t,loading:r}=kr();return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?s.jsx(qf,{to:"/home",replace:!0}):s.jsx(s.Fragment,{children:e})},U7=()=>{const{user:e,loading:t}=kr();return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs(k2,{children:[s.jsx(lr,{path:"/",element:e?s.jsx(qf,{to:"/home",replace:!0}):s.jsx(qf,{to:"/welcome",replace:!0})}),s.jsx(lr,{path:"/welcome",element:s.jsx(Yg,{children:s.jsx(m$,{})})}),s.jsx(lr,{path:"/login",element:s.jsx(Yg,{children:s.jsx(Uz,{})})}),s.jsx(lr,{path:"/signup",element:s.jsx(Yg,{children:s.jsx(y$,{})})}),s.jsx(lr,{path:"/address-setup",element:s.jsx(Li,{children:s.jsx(Bz,{})})}),s.jsx(lr,{path:"/home",element:s.jsx(Li,{children:s.jsx(TB,{})})}),s.jsx(lr,{path:"/categories",element:s.jsx(Li,{children:s.jsx(XB,{})})}),s.jsx(lr,{path:"/cart",element:s.jsx(Li,{children:s.jsx(RB,{})})}),s.jsx(lr,{path:"/favorites",element:s.jsx(Li,{children:s.jsx(JB,{})})}),s.jsx(lr,{path:"/orders",element:s.jsx(Li,{children:s.jsx(QB,{})})}),s.jsx(lr,{path:"/profile",element:s.jsx(Li,{children:s.jsx(B7,{})})}),s.jsx(lr,{path:"/product/:id",element:s.jsx(Li,{children:s.jsx(P7,{})})}),s.jsx(lr,{path:"*",element:s.jsx(fR,{})})]})})},V7=()=>{const e=Ao(),{toast:t}=fn(),{signInAdmin:r}=kr(),[n,i]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState({email:"",password:""}),h=m=>{u({...c,[m.target.name]:m.target.value})},p=async m=>{m.preventDefault(),l(!0);try{await r(c.email,c.password),t({title:"Admin Access Granted",description:"Welcome to the admin dashboard."}),e("/admin/dashboard")}catch(g){t({title:"Admin login failed",description:g.message||"Invalid credentials or insufficient privileges.",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ft,{to:"/",className:"mr-4",children:s.jsx(B,{variant:"ghost",size:"sm",className:"p-2 text-slate-300 hover:text-white hover:bg-slate-700",children:s.jsx(wr,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Login"})]}),s.jsxs(Ws,{className:"mb-6 border-amber-200 bg-amber-50",children:[s.jsx(Mf,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Hs,{className:"text-amber-800",children:[s.jsx("strong",{children:"Restricted Access:"})," This portal is for authorized administrators only. All login attempts are monitored and logged."]})]}),s.jsxs(re,{className:"shadow-2xl border-slate-700 bg-slate-800",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 ring-4 ring-blue-500 ring-opacity-20",children:s.jsx(Df,{className:"h-8 w-8 text-blue-600"})}),s.jsx(Ze,{className:"text-xl text-white",children:"Administrative Access"}),s.jsx("p",{className:"text-slate-300",children:"Enter your admin credentials to continue"})]}),s.jsxs(ne,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"email",className:"text-slate-200",children:"Admin Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Te,{id:"email",name:"email",type:"email",value:c.email,onChange:h,placeholder:"admin@seabites.com",className:"pl-10 bg-slate-700 border-slate-600 text-white placeholder:text-slate-400 focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"password",className:"text-slate-200",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Te,{id:"password",name:"password",type:n?"text":"password",value:c.password,onChange:h,placeholder:"Enter admin password",className:"pl-10 pr-10 bg-slate-700 border-slate-600 text-white placeholder:text-slate-400 focus:border-blue-500",required:!0}),s.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-slate-400 hover:text-slate-200",onClick:()=>i(!n),children:n?s.jsx(pc,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})})]})]}),s.jsx(B,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",disabled:a,children:a?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Verifying Access..."]}):s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Df,{className:"h-4 w-4"}),"Access Admin Dashboard"]})})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-slate-400",children:"Need admin access? Contact your system administrator."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(ft,{to:"/login",children:s.jsx(B,{variant:"outline",className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white",children:"Regular User Login"})}),s.jsx(ft,{to:"/",children:s.jsxs(B,{variant:"ghost",className:"w-full text-slate-400 hover:text-slate-200 hover:bg-slate-700",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Back to Homepage"]})})]})]})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-slate-500",children:"© 2024 Seabites Admin Portal. All administrative actions are logged."})})]})})},W7=({children:e})=>{const{user:t,loading:r,isAdmin:n,checkAdminRole:i}=kr(),[a,l]=v.useState(!0),[c,u]=v.useState(!1);return v.useEffect(()=>{(async()=>{if(!r&&t)try{const p=await i();u(p)}catch(p){console.error("Error verifying admin access:",p),u(!1)}l(!1)})()},[t,r,i]),r||a?s.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-300",children:"Verifying admin access..."})]})}):t?c?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md border-slate-700 bg-slate-800",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:s.jsx(Df,{className:"h-6 w-6 text-red-600"})}),s.jsx(Ze,{className:"text-xl text-white",children:"Access Denied"})]}),s.jsxs(ne,{className:"text-center space-y-4",children:[s.jsxs(Ws,{className:"border-red-200 bg-red-50",children:[s.jsx(Wd,{className:"h-4 w-4 text-red-600"}),s.jsxs(Hs,{className:"text-red-800",children:[s.jsx("strong",{children:"Insufficient Privileges:"})," Administrator role required for this portal."]})]}),s.jsx("p",{className:"text-slate-300",children:"Your account does not have administrator privileges. Contact your system administrator if you believe this is an error."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:s.jsx(ft,{to:"/admin/login",children:"Try Admin Login"})}),s.jsx(B,{variant:"outline",asChild:!0,className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700",children:s.jsx(ft,{to:"/",children:"Regular User Dashboard"})}),s.jsx(B,{variant:"ghost",asChild:!0,className:"w-full text-slate-400 hover:text-slate-200",children:s.jsxs(ft,{to:"/",className:"flex items-center justify-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),"Back to Home"]})})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:s.jsxs(re,{className:"w-full max-w-md border-slate-700 bg-slate-800",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:s.jsx($m,{className:"h-6 w-6 text-red-600"})}),s.jsx(Ze,{className:"text-xl text-white",children:"Authentication Required"})]}),s.jsxs(ne,{className:"text-center space-y-4",children:[s.jsxs(Ws,{className:"border-red-200 bg-red-50",children:[s.jsx(Wd,{className:"h-4 w-4 text-red-600"}),s.jsxs(Hs,{className:"text-red-800",children:[s.jsx("strong",{children:"Access Restricted:"})," Admin authentication required to access this portal."]})]}),s.jsx("p",{className:"text-slate-300",children:"You must be logged in with admin credentials to access the admin dashboard."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:s.jsx(ft,{to:"/admin/login",children:"Admin Login"})}),s.jsx(B,{variant:"outline",asChild:!0,className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700",children:s.jsx(ft,{to:"/login",children:"Regular User Login"})}),s.jsx(B,{variant:"ghost",asChild:!0,className:"w-full text-slate-400 hover:text-slate-200",children:s.jsxs(ft,{to:"/",className:"flex items-center justify-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),"Back to Home"]})})]})]})]})})},yp=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ce("w-full caption-bottom text-sm",e),...t})}));yp.displayName="Table";const _p=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ce("[&_tr]:border-b",e),...t}));_p.displayName="TableHeader";const wp=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ce("[&_tr:last-child]:border-0",e),...t}));wp.displayName="TableBody";const H7=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));H7.displayName="TableFooter";const ko=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ko.displayName="TableRow";const Lt=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Lt.displayName="TableHead";const It=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableCell";const q7=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));q7.displayName="TableCaption";const Z7=({products:e,loading:t,onEdit:r,onDelete:n,onToggleAvailability:i,onAddNew:a})=>{const[l,c]=v.useState(null),u=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(m),h=m=>m==="food"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800",p=m=>m===null?"bg-gray-100 text-gray-800":m?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return t?s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):s.jsxs(re,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between",children:[s.jsx(Ze,{children:"Product Management"}),s.jsxs(B,{onClick:a,className:"flex items-center gap-2",children:[s.jsx(br,{className:"h-4 w-4"}),"Add New Product"]})]}),s.jsx(ne,{children:e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),s.jsx(B,{onClick:a,children:"Add Your First Product"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(yp,{children:[s.jsx(_p,{children:s.jsxs(ko,{children:[s.jsx(Lt,{children:"Image"}),s.jsx(Lt,{children:"Name"}),s.jsx(Lt,{children:"Category"}),s.jsx(Lt,{children:"Type"}),s.jsx(Lt,{children:"Price"}),s.jsx(Lt,{children:"Rating"}),s.jsx(Lt,{children:"Veg/Non-Veg"}),s.jsx(Lt,{children:"Status"}),s.jsx(Lt,{children:"Actions"})]})}),s.jsx(wp,{children:e.map(m=>{var g,_;return s.jsxs(ko,{children:[s.jsx(It,{children:m.image_url?s.jsx("img",{src:m.image_url,alt:m.name,className:"w-12 h-12 object-cover rounded-md"}):s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),s.jsx(It,{className:"font-medium",children:m.name}),s.jsx(It,{children:((g=m.categories)==null?void 0:g.name)||"Uncategorized"}),s.jsx(It,{children:s.jsx(We,{className:h(m.type),children:m.type})}),s.jsx(It,{children:u(m.price)}),s.jsx(It,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-500",children:"★"}),s.jsx("span",{className:"ml-1",children:((_=m.rating)==null?void 0:_.toFixed(1))||"N/A"})]})}),s.jsx(It,{children:s.jsx(We,{className:p(m.is_veg),children:m.is_veg===null?"N/A":m.is_veg?"Veg":"Non-Veg"})}),s.jsx(It,{children:s.jsx(We,{variant:m.is_available?"default":"secondary",children:m.is_available?"Available":"Unavailable"})}),s.jsx(It,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(m),children:s.jsx(mo,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>i(m.id,!m.is_available),children:m.is_available?s.jsx(pc,{className:"h-4 w-4"}):s.jsx(Zn,{className:"h-4 w-4"})}),s.jsxs(dR,{children:[s.jsx(uR,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"sm",onClick:()=>c(m.id),children:s.jsx(vs,{className:"h-4 w-4 text-red-500"})})}),s.jsxs(r_,{children:[s.jsxs(n_,{children:[s.jsx(i_,{children:"Delete Product"}),s.jsxs(a_,{children:['Are you sure you want to delete "',m.name,'"? This action cannot be undone.']})]}),s.jsxs(s_,{children:[s.jsx(l_,{onClick:()=>c(null),children:"Cancel"}),s.jsx(o_,{onClick:()=>{n(m.id),c(null)},className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},m.id)})})]})})})]})};function K7(e,t=[]){let r=[];function n(a,l){const c=v.createContext(l),u=r.length;r=[...r,l];function h(m){const{scope:g,children:_,...N}=m,x=(g==null?void 0:g[e][u])||c,S=v.useMemo(()=>N,Object.values(N));return s.jsx(x.Provider,{value:S,children:_})}function p(m,g){const _=(g==null?void 0:g[e][u])||c,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,p]}const i=()=>{const a=r.map(l=>v.createContext(l));return function(c){const u=(c==null?void 0:c[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[n,G7(i,...t)]}function G7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var c_="Progress",d_=100,[Q7,_H]=K7(c_),[Y7,X7]=Q7(c_),mR=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=J7,...l}=e;(i||i===0)&&!i1(i)&&console.error(eW(`${i}`,"Progress"));const c=i1(i)?i:d_;n!==null&&!a1(n,c)&&console.error(tW(`${n}`,"Progress"));const u=a1(n,c)?n:null,h=fm(u)?a(u,c):void 0;return s.jsx(Y7,{scope:r,value:u,max:c,children:s.jsx(Oe.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":fm(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":vR(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});mR.displayName=c_;var pR="ProgressIndicator",gR=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=X7(pR,r);return s.jsx(Oe.div,{"data-state":vR(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});gR.displayName=pR;function J7(e,t){return`${Math.round(e/t*100)}%`}function vR(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function fm(e){return typeof e=="number"}function i1(e){return fm(e)&&!isNaN(e)&&e>0}function a1(e,t){return fm(e)&&!isNaN(e)&&e<=t&&e>=0}function eW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${d_}\`.`}function tW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${d_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xR=mR,rW=gR;const cc=v.forwardRef(({className:e,value:t,...r},n)=>s.jsx(xR,{ref:n,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(rW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cc.displayName=xR.displayName;const nW=ee.object({name:ee.string().min(1,"Product name is required").min(2,"Product name must be at least 2 characters").max(100,"Product name must be less than 100 characters").trim(),description:ee.string().max(500,"Description must be less than 500 characters").trim().nullable().optional(),price:ee.number().min(.01,"Price must be at least 0.01").max(999999.99,"Price must be less than 1,000,000").refine(e=>Number.isFinite(e),"Price must be a valid number").refine(e=>Number(e.toFixed(2))===e,"Price can have maximum 2 decimal places"),category_id:ee.string().min(1,"Category is required").uuid("Invalid category ID"),image_url:ee.string().optional().nullable().refine(e=>{if(!e||e===""||e.startsWith("/")||e.startsWith("data:")||e.startsWith("blob:"))return!0;try{return new URL(e),!0}catch{return!1}},"Invalid image URL"),is_available:ee.boolean().default(!0),is_veg:ee.boolean().nullable().optional(),type:ee.enum(["food"],{required_error:"Product type is required",invalid_type_error:"Product type must be food"})}),sW=ee.object({name:ee.string().min(1,"Category name is required").min(2,"Category name must be at least 2 characters").max(50,"Category name must be less than 50 characters").trim(),type:ee.enum(["food"],{required_error:"Category type is required",invalid_type_error:"Category type must be food"}),image_url:ee.string().optional().nullable().refine(e=>{if(!e||e===""||e.startsWith("/")||e.startsWith("data:")||e.startsWith("blob:"))return!0;try{return new URL(e),!0}catch{return!1}},"Invalid image URL"),is_visible:ee.boolean().default(!0),sort_order:ee.number().int("Sort order must be a whole number").min(0,"Sort order must be 0 or greater").max(999,"Sort order must be less than 1000").nullable().optional()});ee.object({type:ee.enum(["percentage","fixed_amount","set_price"],{required_error:"Update type is required"}),value:ee.number().min(.01,"Value must be at least 0.01").max(999999.99,"Value must be less than 1,000,000"),product_ids:ee.array(ee.string().uuid("Invalid product ID")).min(1,"At least one product must be selected").max(100,"Cannot update more than 100 products at once")});ee.object({files:ee.array(ee.instanceof(File)).min(1,"At least one image is required").max(5,"Maximum 5 images allowed").refine(e=>e.every(t=>t.size<=5*1024*1024),"Each image must be smaller than 5MB").refine(e=>e.every(t=>["image/jpeg","image/png","image/webp"].includes(t.type)),"Only JPEG, PNG, and WebP images are allowed"),compress:ee.boolean().default(!0),quality:ee.number().min(.1,"Quality must be at least 0.1").max(1,"Quality must be at most 1").default(.8)});ee.object({status:ee.enum(["pending","confirmed","preparing","out_for_delivery","delivered","cancelled"],{required_error:"Order status is required"}),estimated_delivery_time:ee.string().datetime("Invalid delivery time format").nullable().optional(),notes:ee.string().max(200,"Notes must be less than 200 characters").trim().nullable().optional()});ee.object({title:ee.string().min(1,"Promotion title is required").min(3,"Title must be at least 3 characters").max(100,"Title must be less than 100 characters").trim(),description:ee.string().max(300,"Description must be less than 300 characters").trim().nullable().optional(),image_url:ee.string().min(1,"Promotion image is required").refine(e=>{if(e.startsWith("/")||e.startsWith("data:")||e.startsWith("blob:"))return!0;try{return new URL(e),!0}catch{return!1}},"Invalid image URL"),is_active:ee.boolean().default(!0),start_date:ee.string().datetime("Invalid start date format").nullable().optional(),end_date:ee.string().datetime("Invalid end date format").nullable().optional(),sort_order:ee.number().int("Sort order must be a whole number").min(0,"Sort order must be 0 or greater").max(999,"Sort order must be less than 1000").nullable().optional()}).refine(e=>e.start_date&&e.end_date?new Date(e.start_date)<new Date(e.end_date):!0,{message:"End date must be after start date",path:["end_date"]});ee.object({search:ee.string().max(100,"Search term must be less than 100 characters").trim().optional(),category_id:ee.string().uuid("Invalid category ID").nullable().optional(),type:ee.enum(["food"]).nullable().optional(),is_available:ee.boolean().nullable().optional(),is_veg:ee.boolean().nullable().optional(),min_price:ee.number().min(0,"Minimum price must be 0 or greater").nullable().optional(),max_price:ee.number().min(0,"Maximum price must be 0 or greater").nullable().optional(),sort_by:ee.enum(["name","price","created_at","updated_at"]).default("name"),sort_order:ee.enum(["asc","desc"]).default("asc")}).refine(e=>e.min_price!==null&&e.max_price!==null&&e.min_price!==void 0&&e.max_price!==void 0?e.min_price<=e.max_price:!0,{message:"Maximum price must be greater than or equal to minimum price",path:["max_price"]});ee.object({email:ee.string().email("Invalid email address").min(1,"Email is required"),first_name:ee.string().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters").trim(),last_name:ee.string().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters").trim(),phone:ee.string().regex(/^\+?[\d\s\-\(\)]{10,15}$/,"Invalid phone number format").nullable().optional(),role:ee.enum(["admin","super_admin"]).default("admin")});ee.object({field:ee.enum(["price","is_available","category_id","name"]),value:ee.union([ee.string(),ee.number(),ee.boolean()]),product_id:ee.string().uuid("Invalid product ID")});const Ks={maxFileSize:5*1024*1024,allowedTypes:["image/jpeg","image/png","image/webp"],maxImages:5,compressionQuality:.8,maxDimensions:{width:2048,height:2048}},u_=(e,t=Ks)=>{if(!t.allowedTypes.includes(e.type))throw new Error(`Invalid file type. Please use ${t.allowedTypes.join(", ").replace(/image\//g,"").toUpperCase()}.`);if(e.size>t.maxFileSize){const r=t.maxFileSize/1048576;throw new Error(`File too large. Maximum size is ${r}MB.`)}return!0},iW=(e,t,r=Ks.maxDimensions)=>{const n=e/t;let i=e,a=t;return(e>r.width||t>r.height)&&(n>1?(i=Math.min(e,r.width),a=i/n):(a=Math.min(t,r.height),i=a*n)),{width:Math.round(i),height:Math.round(a)}},aW=async(e,t=Ks.compressionQuality,r=Ks.maxDimensions)=>new Promise((n,i)=>{const a=document.createElement("canvas"),l=a.getContext("2d"),c=new Image;if(!l){i(new Error("Canvas context not available"));return}c.onload=()=>{try{const{width:u,height:h}=iW(c.width,c.height,r);a.width=u,a.height=h,l.drawImage(c,0,0,u,h),a.toBlob(p=>{if(p){const m=new File([p],e.name,{type:e.type,lastModified:Date.now()});n(m)}else i(new Error("Image compression failed"))},e.type,t)}catch(u){i(u)}finally{URL.revokeObjectURL(c.src)}},c.onerror=()=>{i(new Error("Failed to load image for compression")),URL.revokeObjectURL(c.src)},c.src=URL.createObjectURL(e)}),oW=e=>{var i;const t=((i=e.split(".").pop())==null?void 0:i.toLowerCase())||"jpg",r=Date.now(),n=Math.random().toString(36).substring(2,8);return`${r}-${n}.${t}`},lW=(e,t)=>`${t}/${e}`,h_=async(e,t="products",r=Ks)=>{try{u_(e,r);const n=await aW(e,r.compressionQuality,r.maxDimensions),i=oW(e.name),a=lW(i,t),{data:l,error:c}=await ye.storage.from("images").upload(a,n,{cacheControl:"3600",upsert:!1});if(c)throw console.error("Supabase storage upload error:",c),new Error(`Upload failed: ${c.message}`);const{data:{publicUrl:u}}=ye.storage.from("images").getPublicUrl(a);return{path:l.path,url:a,publicUrl:u}}catch(n){throw console.error("Image upload error:",n),n}},cW=async(e,t="products",r=Ks)=>{if(e.length===0)return[];if(e.length>r.maxImages)throw new Error(`Too many files. Maximum ${r.maxImages} images allowed.`);const n=e.map(i=>h_(i,t,r));try{return(await Promise.all(n)).map(a=>a.publicUrl)}catch(i){throw console.error("Batch upload error:",i),i}},Qa=async e=>{try{const t=e||"",{data:r,error:n}=await ye.storage.from("images").list(t,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(n)throw console.error("Error fetching images:",n),n;return r?r.map(i=>{var c;const a=e?`${e}/${i.name}`:i.name,{data:{publicUrl:l}}=ye.storage.from("images").getPublicUrl(a);return{id:i.id||i.name,name:i.name,url:a,publicUrl:l,size:(c=i.metadata)==null?void 0:c.size,category:e||dW(a),created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}):[]}catch(t){throw console.error("Error getting images:",t),t}},dW=e=>e.startsWith("products/")?"products":e.startsWith("categories/")?"categories":e.startsWith("promotions/")?"promotions":"products",yR=async e=>{try{const{error:t}=await ye.storage.from("images").remove([e]);if(t)throw console.error("Error deleting image:",t),t}catch(t){throw console.error("Error deleting image:",t),t}},mm=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},f_=({selectedImageUrl:e,onImageSelect:t,context:r="all",buttonText:n="Choose Image"})=>{const[i,a]=v.useState(!1),[l,c]=v.useState(""),[u,h]=v.useState([]),[p,m]=v.useState(!1),[g,_]=v.useState(null),N=async()=>{m(!0);try{let j=[];if(r==="all"){const[k,T,I]=await Promise.all([Qa("products").catch(()=>[]),Qa("categories").catch(()=>[]),Qa("promotions").catch(()=>[])]);j=[...k,...T,...I]}else j=await Qa(r);h(j)}catch(j){console.error("Error loading images:",j),Ce({title:"Error",description:"Failed to load images from storage",variant:"destructive"})}finally{m(!1)}};v.useEffect(()=>{i&&N()},[i,r]);const x=v.useMemo(()=>{let j=u;return r==="products"?j=u.filter(k=>k.category==="products"):r==="categories"&&(j=u.filter(k=>k.category==="categories")),j.filter(k=>k.name.toLowerCase().includes(l.toLowerCase())||k.category.toLowerCase().includes(l.toLowerCase()))},[u,r,l]),S=j=>{t(j),a(!1)},w=async(j,k)=>{if(k.stopPropagation(),!!confirm(`Are you sure you want to delete ${j.name}?`)){_(j.id);try{await yR(j.url),Ce({title:"Success",description:"Image deleted successfully"}),N()}catch(T){console.error("Error deleting image:",T),Ce({title:"Error",description:"Failed to delete image",variant:"destructive"})}finally{_(null)}}},b=x.find(j=>j.publicUrl===e);return s.jsxs(ic,{open:i,onOpenChange:a,children:[s.jsx(Uu,{asChild:!0,children:s.jsxs(B,{type:"button",variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[s.jsx(Kn,{className:"w-4 h-4 mr-2"}),n]})}),s.jsxs(bo,{className:"max-w-4xl max-h-[80vh] bg-slate-800 border-slate-700",children:[s.jsx(jo,{children:s.jsxs(No,{className:"text-white flex items-center justify-between",children:[s.jsx("span",{children:"Choose an Image"}),s.jsxs("div",{className:"flex items-center gap-2",children:[p?s.jsxs("div",{className:"flex items-center gap-1 text-slate-400 text-sm",children:[s.jsx(ui,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Loading..."})]}):s.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[s.jsx(Hd,{className:"w-4 h-4"}),s.jsx("span",{children:"Storage Ready"})]}),s.jsx(B,{onClick:N,disabled:p,variant:"outline",size:"sm",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:p?s.jsx(ui,{className:"w-4 h-4 animate-spin"}):s.jsx(ui,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),s.jsx(Te,{placeholder:"Search images...",value:l,onChange:j=>c(j.target.value),className:"pl-9 bg-slate-700 border-slate-600 text-slate-300"})]}),r!=="all"&&s.jsxs("div",{className:"text-sm text-slate-400 bg-slate-700 p-2 rounded-md",children:[s.jsx("strong",{children:"Context:"})," Showing images for ",r]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-slate-300",children:[s.jsx("strong",{children:x.length})," images found"]}),s.jsxs("div",{className:"text-blue-400",children:[s.jsx("strong",{children:x.filter(j=>j.category==="products").length})," products"]}),s.jsxs("div",{className:"text-green-400",children:[s.jsx("strong",{children:x.filter(j=>j.category==="categories").length})," categories"]}),s.jsxs("div",{className:"text-purple-400",children:[s.jsx("strong",{children:x.filter(j=>j.category==="promotions").length})," promotions"]})]}),b&&s.jsxs(re,{className:"bg-slate-700 border-slate-600",children:[s.jsx(qe,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm text-slate-200",children:"Currently Selected"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded overflow-hidden bg-slate-600 flex items-center justify-center",children:s.jsx("img",{src:b.publicUrl,alt:b.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.parentElement.innerHTML='<div class="text-slate-400 w-full h-full flex items-center justify-center"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>'}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-200",children:b.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(We,{variant:"outline",className:"text-xs border-slate-500 text-blue-400 border-blue-500",children:b.category}),b.size&&s.jsx(We,{variant:"outline",className:"text-xs border-slate-500 text-slate-300",children:mm(b.size)})]})]}),s.jsx(B,{onClick:()=>window.open(b.publicUrl,"_blank"),variant:"outline",size:"sm",className:"border-slate-600 text-slate-300 hover:bg-slate-600",children:s.jsx(Xl,{className:"w-4 h-4"})})]})})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-400",children:[s.jsx(Kn,{className:"w-16 h-16 mx-auto mb-4 text-slate-600"}),s.jsx("p",{className:"text-lg font-medium",children:"No images found"}),s.jsx("p",{className:"text-sm",children:l?"Try adjusting your search term":p?"Loading images...":"No images available for this context"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3",children:x.map(j=>s.jsx(re,{className:`cursor-pointer transition-all duration-200 bg-slate-700 border-slate-600 hover:border-slate-500 ${e===j.publicUrl?"ring-2 ring-blue-500 border-blue-500":""}`,onClick:()=>S(j.publicUrl),children:s.jsx(ne,{className:"p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"aspect-square bg-slate-600 rounded overflow-hidden relative",children:[s.jsx("img",{src:j.publicUrl,alt:j.name,className:"w-full h-full object-cover",onError:k=>{k.target.style.display="none",k.target.parentElement.innerHTML='<div class="text-slate-400 w-full h-full flex items-center justify-center"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>'}}),e===j.publicUrl&&s.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:s.jsx("div",{className:"bg-blue-500 rounded-full p-1",children:s.jsx(Im,{className:"w-4 h-4 text-white"})})}),s.jsx(We,{variant:"secondary",className:"absolute top-1 left-1 text-xs bg-black/60 text-white border-none",children:j.category}),s.jsx(B,{onClick:k=>w(j,k),disabled:g===j.id,variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",children:g===j.id?s.jsx(ui,{className:"w-3 h-3 animate-spin"}):s.jsx(vs,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",title:j.name,children:j.name}),j.size&&s.jsx("p",{className:"text-xs text-slate-500",children:mm(j.size)})]})]})})},j.id))})}),s.jsxs("div",{className:"text-xs text-slate-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Supabase Storage:"})," Images are stored securely in Supabase Storage"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Organized:"})," Images are organized by category (products, categories, promotions)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tip:"})," Upload new images via the forms to have them appear here"]})]})]}),s.jsxs(tm,{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[s.jsxs(We,{variant:"outline",className:"border-slate-500 text-slate-300",children:[x.length," image",x.length!==1?"s":""]}),e&&s.jsx(We,{variant:"outline",className:"border-blue-500 text-blue-300",children:"Selected"})]}),s.jsx(B,{onClick:()=>a(!1),variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Close"})]})]})]})},uW=({product:e,categories:t,onSubmit:r,onCancel:n,loading:i=!1})=>{const[a,l]=v.useState(null),[c,u]=v.useState((e==null?void 0:e.image_url)||null),[h,p]=v.useState(!1),[m,g]=v.useState(0),[_,N]=v.useState(!1),x=Y0({resolver:X0(nW),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",price:(e==null?void 0:e.price)||0,category_id:(e==null?void 0:e.category_id)||"",type:(e==null?void 0:e.type)||"food",is_veg:(e==null?void 0:e.is_veg)??!0,is_available:(e==null?void 0:e.is_available)??!0,image_url:(e==null?void 0:e.image_url)||""}}),S=x.watch("type");v.useEffect(()=>{e&&(x.reset({name:e.name,description:e.description||"",price:e.price,category_id:e.category_id,type:e.type,is_veg:e.is_veg??!0,is_available:e.is_available,image_url:e.image_url||""}),u(e.image_url))},[e,x]);const w=I=>{x.setValue("image_url",I),u(I),l(null)},b=async I=>{var R;const M=(R=I.target.files)==null?void 0:R[0];if(M)try{N(!0),u_(M,Ks),l(M);const O=new FileReader;O.onloadend=()=>{u(O.result)},O.readAsDataURL(M),x.setValue("image_url",""),Ce({title:"Image Selected",description:"Image ready for upload. Submit form to save."})}catch(O){console.error("Error processing image:",O),Ce({title:"Error",description:O instanceof Error?O.message:"Failed to process image. Please try again.",variant:"destructive"})}finally{N(!1)}},j=()=>{l(null),u(null),x.setValue("image_url",""),g(0)},k=async I=>{p(!0),g(0);try{let M=I.image_url||"";if(a)try{g(25),M=(await h_(a,"products",Ks)).publicUrl,g(75),Ce({title:"Image Uploaded",description:"Product image uploaded successfully to Supabase Storage"})}catch(O){console.error("Image upload failed:",O),Ce({title:"Upload Failed",description:O instanceof Error?O.message:"Image upload failed, but product will be saved without image",variant:"destructive"})}g(90);const R={...I,image_url:M||null,description:I.description||null,is_veg:S==="food"?I.is_veg:null};await r(R),g(100),l(null),u(null)}catch(M){console.error("Error submitting form:",M),Ce({title:"Error",description:"Failed to save product. Please try again.",variant:"destructive"})}finally{p(!1),g(0)}},T=t.filter(I=>I.type===S);return s.jsxs(re,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[e?"Edit Product":"Add New Product",h&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})}),s.jsx(ne,{children:s.jsx(J0,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(k),className:"space-y-6",children:[h&&m>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Saving product..."}),s.jsxs("span",{children:[m,"%"]})]}),s.jsx(cc,{value:m,className:"w-full"})]}),s.jsx(Wr,{control:x.control,name:"image_url",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Product Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(f_,{selectedImageUrl:I.value||"",onImageSelect:w,context:"products",buttonText:"Choose Product Image"}),I.value&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[s.jsx("span",{children:"Selected:"}),s.jsx("a",{href:I.value,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline truncate max-w-xs",children:I.value}),s.jsx(B,{type:"button",onClick:()=>w(""),variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Clear"})]})]}),s.jsx(Fn,{children:"Select from available product images in Supabase Storage, or upload a new image below."}),s.jsx(bn,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Or upload a new image"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[c&&a?s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:c,alt:"Product preview",className:"w-20 h-20 object-cover rounded-lg border"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Image ready for upload"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Will be uploaded to Supabase Storage when you save the product"})]}),s.jsx(B,{type:"button",onClick:j,variant:"outline",size:"sm",children:s.jsx(Vn,{className:"w-4 h-4"})})]}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Te,{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:b,disabled:_||h,className:"w-full"})}),_&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-sm text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Processing image..."]})]}),s.jsxs(Ws,{children:[s.jsx(Mf,{className:"h-4 w-4"}),s.jsx(Hs,{children:"Supported formats: JPEG, PNG, WebP • Max size: 5MB • Images are uploaded to Supabase Storage"})]})]}),s.jsx(Wr,{control:x.control,name:"type",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Product Type *"}),s.jsxs(jr,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(an,{children:s.jsx(pr,{children:s.jsx(Nr,{placeholder:"Select product type"})})}),s.jsx(gr,{children:s.jsx(Ie,{value:"food",children:"Food"})})]}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"name",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Product Name *"}),s.jsx(an,{children:s.jsx(Te,{placeholder:"Enter product name",...I})}),s.jsx(Fn,{children:"A clear, descriptive name for your product (2-100 characters)"}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"description",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Description"}),s.jsx(an,{children:s.jsx(vp,{placeholder:"Enter product description...",className:"resize-none",rows:3,...I})}),s.jsx(Fn,{children:"Optional detailed description of the product (max 500 characters)"}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"price",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Price (₹) *"}),s.jsx(an,{children:s.jsx(Te,{type:"number",step:"0.01",min:"0.01",placeholder:"0.00",...I,onChange:M=>I.onChange(parseFloat(M.target.value)||0)})}),s.jsx(Fn,{children:"Product price in rupees (minimum ₹0.01)"}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"category_id",render:({field:I})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Category *"}),s.jsxs(jr,{onValueChange:I.onChange,defaultValue:I.value,children:[s.jsx(an,{children:s.jsx(pr,{children:s.jsx(Nr,{placeholder:"Select a category"})})}),s.jsx(gr,{children:T.map(M=>s.jsx(Ie,{value:M.id,children:M.name},M.id))})]}),T.length===0&&s.jsxs(Fn,{className:"text-amber-600",children:["No ",S," categories available. Please create a category first."]}),s.jsx(bn,{})]})}),S==="food"&&s.jsx(Wr,{control:x.control,name:"is_veg",render:({field:I})=>s.jsxs(Ar,{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Mr,{children:"Vegetarian"}),s.jsx(Fn,{children:"Mark this product as vegetarian"})]}),s.jsx(an,{children:s.jsx(yo,{checked:I.value,onCheckedChange:I.onChange})})]})}),s.jsx(Wr,{control:x.control,name:"is_available",render:({field:I})=>s.jsxs(Ar,{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Mr,{children:"Available"}),s.jsx(Fn,{children:"Product is available for ordering"})]}),s.jsx(an,{children:s.jsx(yo,{checked:I.value,onCheckedChange:I.onChange})})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:h,children:"Cancel"}),s.jsx(B,{type:"submit",disabled:h||i||T.length===0,children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):e?"Update Product":"Create Product"})]})]})})})]})},m_=()=>{const e=Qn(),t=bt({mutationFn:async l=>{const c={name:l.name,type:l.type,image_url:l.image_url,is_visible:l.is_visible,sort_order:l.sort_order},{data:u,error:h}=await ye.from("categories").insert(c).select().single();if(h)throw console.error("Error adding category:",h),h;return u},onSuccess:l=>{e.invalidateQueries({queryKey:["categories"]}),Ce({title:"Category Added",description:`${l.name} category has been successfully added.`})},onError:l=>{console.error("Failed to add category:",l),Ce({title:"Error",description:"Failed to add category. Please try again.",variant:"destructive"})}}),r=bt({mutationFn:async({id:l,updates:c})=>{console.log("Updating category:",{id:l,updates:c});const u={name:c.name,type:c.type,image_url:c.image_url,is_visible:c.is_visible,sort_order:c.sort_order},{data:h,error:p}=await ye.from("categories").update(u).eq("id",l).select().single();if(p)throw console.error("Error updating category:",p),console.error("Error details:",{message:p.message,code:p.code,details:p.details,hint:p.hint}),p;return console.log("Category updated successfully:",h),h},onMutate:async({id:l,updates:c})=>{await e.cancelQueries({queryKey:["categories"]});const u=e.getQueryData(["categories"]);return e.setQueryData(["categories"],h=>h&&h.map(p=>p.id===l?{...p,...c}:p)),{previousCategories:u}},onSuccess:l=>{e.invalidateQueries({queryKey:["categories"]}),Ce({title:"Category Updated",description:`${l.name} has been successfully updated.`})},onError:(l,c,u)=>{u!=null&&u.previousCategories&&e.setQueryData(["categories"],u.previousCategories),console.error("Failed to update category:",l),Ce({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["categories"]})}}),n=bt({mutationFn:async l=>{const{data:c,error:u}=await ye.from("products").select("id").eq("category_id",l).limit(1);if(u)throw console.error("Error checking category products:",u),u;if(c&&c.length>0)throw new Error("Cannot delete category that contains products");const{error:h}=await ye.from("categories").delete().eq("id",l);if(h)throw console.error("Error deleting category:",h),h},onMutate:async l=>{await e.cancelQueries({queryKey:["categories"]});const c=e.getQueryData(["categories"]);return e.setQueryData(["categories"],u=>u&&u.filter(h=>h.id!==l)),{previousCategories:c}},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Ce({title:"Category Deleted",description:"Category has been successfully deleted."})},onError:(l,c,u)=>{u!=null&&u.previousCategories&&e.setQueryData(["categories"],u.previousCategories),console.error("Failed to delete category:",l);const h=l.message==="Cannot delete category that contains products"?"Cannot delete category that contains products. Please move or delete products first.":"Failed to delete category. Please try again.";Ce({title:"Error",description:h,variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["categories"]})}}),i=bt({mutationFn:async({id:l,isVisible:c})=>{var m;console.log("Toggle visibility called:",{id:l,isVisible:c});const{data:{session:u}}=await ye.auth.getSession();if(console.log("Current session:",u?"authenticated":"not authenticated"),!u)throw new Error("You must be logged in to update category visibility");const{data:h,error:p}=await ye.from("categories").update({is_visible:c}).eq("id",l).select().single();if(p)throw console.error("Error toggling category visibility:",p),console.error("Error details:",{message:p.message,code:p.code,details:p.details,hint:p.hint}),p.code==="PGRST116"&&((m=p.details)!=null&&m.includes("0 rows"))?new Error("Permission denied: Unable to update category. Please check your access permissions."):p;return console.log("Category visibility updated successfully:",h),h},onMutate:async({id:l,isVisible:c})=>{await e.cancelQueries({queryKey:["categories"]});const u=e.getQueryData(["categories"]);return e.setQueryData(["categories"],h=>h&&h.map(p=>p.id===l?{...p,is_visible:c}:p)),{previousCategories:u}},onSuccess:l=>{e.invalidateQueries({queryKey:["categories"]}),Ce({title:"Visibility Updated",description:`${l.name} is now ${l.is_visible?"visible":"hidden"}.`})},onError:(l,c,u)=>{u!=null&&u.previousCategories&&e.setQueryData(["categories"],u.previousCategories),console.error("Failed to toggle category visibility:",l),Ce({title:"Error",description:"Failed to update category visibility. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["categories"]})}}),a=bt({mutationFn:async l=>{const c=l.map(({id:p,sort_order:m})=>ye.from("categories").update({sort_order:m}).eq("id",p)),h=(await Promise.allSettled(c)).filter(p=>p.status==="rejected");if(h.length>0)throw new Error(`${h.length} sort order updates failed`)},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Ce({title:"Order Updated",description:"Category order has been successfully updated."})},onError:l=>{console.error("Failed to update sort order:",l),Ce({title:"Error",description:"Failed to update category order. Please try again.",variant:"destructive"})}});return{addCategory:t,updateCategory:r,deleteCategory:n,toggleVisibility:i,updateSortOrder:a}},hW=({category:e,onSubmit:t,onCancel:r,submitLabel:n=e?"Update Category":"Create Category"})=>{const[i,a]=v.useState(null),[l,c]=v.useState((e==null?void 0:e.image_url)||""),[u,h]=v.useState(!1),[p,m]=v.useState(0),[g,_]=v.useState(!1),N=v.useRef(null);m_();const x=Y0({resolver:X0(sW),defaultValues:{name:(e==null?void 0:e.name)||"",type:(e==null?void 0:e.type)||"food",is_visible:(e==null?void 0:e.is_visible)??!0,sort_order:(e==null?void 0:e.sort_order)||0,image_url:(e==null?void 0:e.image_url)||null}}),{handleSubmit:S,formState:{errors:w,isSubmitting:b},setValue:j,watch:k}=x,T=Z=>{x.setValue("image_url",Z),c(Z),a(null)},I=async Z=>{if(Z)try{h(!0),m(0),u_(Z,Ks);const q=setInterval(()=>{m(K=>K>=90?(clearInterval(q),90):K+10)},100);a(Z);const ie=new FileReader;ie.onloadend=()=>{c(ie.result),clearInterval(q),m(100)},ie.readAsDataURL(Z),j("image_url",""),ht.success("Image processed successfully")}catch(q){console.error("Image processing error:",q),ht.error(q instanceof Error?q.message:"Failed to process image. Please try again.")}finally{h(!1),m(0)}},M=Z=>{var ie;const q=(ie=Z.target.files)==null?void 0:ie[0];q&&I(q)},R=Z=>{Z.preventDefault(),Z.stopPropagation(),Z.type==="dragenter"||Z.type==="dragover"?_(!0):Z.type==="dragleave"&&_(!1)},O=Z=>{var ie;Z.preventDefault(),Z.stopPropagation(),_(!1);const q=(ie=Z.dataTransfer.files)==null?void 0:ie[0];q&&I(q)},z=()=>{a(null),c(""),j("image_url",null),N.current&&(N.current.value="")},G=async Z=>{try{let q=Z.image_url;if(i)try{q=(await h_(i,"categories",Ks)).publicUrl,ht.success("Category image uploaded successfully to Supabase Storage")}catch(K){console.error("Image upload failed:",K),ht.error(K instanceof Error?K.message:"Image upload failed, but category will be saved without image"),q=null}const ie={...Z,image_url:q&&q.trim()!==""?q:null};await t(ie),a(null),c(""),ht.success(`Category ${e?"updated":"created"} successfully`)}catch(q){console.error("Form submission error:",q),ht.error(`Failed to ${e?"update":"create"} category`)}},U=k("is_visible");return k("type"),s.jsxs(re,{className:"w-full max-w-2xl mx-auto",children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5"}),e?"Edit Category":"Add New Category"]})}),s.jsx(ne,{children:s.jsx(J0,{...x,children:s.jsxs("form",{onSubmit:S(G),className:"space-y-6",children:[s.jsx(Wr,{control:x.control,name:"name",render:({field:Z})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Category Name *"}),s.jsx(an,{children:s.jsx(Te,{placeholder:"Enter category name",...Z})}),s.jsx(Fn,{children:"A clear, descriptive name for your category"}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"type",render:({field:Z})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Category Type *"}),s.jsxs(jr,{onValueChange:Z.onChange,defaultValue:Z.value,children:[s.jsx(an,{children:s.jsx(pr,{children:s.jsx(Nr,{placeholder:"Select category type"})})}),s.jsx(gr,{children:s.jsx(Ie,{value:"food",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{variant:"outline",className:"border-orange-200 text-orange-800",children:"Food"}),s.jsx("span",{children:"Food Items"})]})})})]}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"image_url",render:({field:Z})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(f_,{selectedImageUrl:Z.value||"",onImageSelect:T,context:"categories",buttonText:"Choose Category Image"}),Z.value&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[s.jsx("span",{children:"Selected:"}),s.jsx("a",{href:Z.value,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline truncate max-w-xs",children:Z.value}),s.jsx(B,{type:"button",onClick:()=>T(""),variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Clear"})]})]}),s.jsx(Fn,{children:"Select from available category images in Supabase Storage, or upload a new image below."}),s.jsx(bn,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(be,{className:"text-sm font-medium text-muted-foreground",children:"Or upload a new image"}),s.jsxs("div",{className:`
                  relative border-2 border-dashed rounded-lg p-6 text-center transition-all
                  ${g?"border-primary bg-primary/5":"border-gray-300"}
                  ${u?"pointer-events-none":"cursor-pointer hover:border-gray-400"}
                `,onDragEnter:R,onDragLeave:R,onDragOver:R,onDrop:O,onClick:()=>{var Z;return(Z=N.current)==null?void 0:Z.click()},children:[s.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:M,className:"hidden"}),u?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Processing image..."}),s.jsx(cc,{value:p,className:"mt-2"})]})]}):l&&i?s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:l,alt:"Category preview",className:"mx-auto h-32 w-32 object-cover rounded-lg"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Image ready for upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Will be uploaded to Supabase Storage when you save the category"}),s.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:Z=>{Z.stopPropagation(),z()},className:"mt-2",children:[s.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Hd,{className:"h-8 w-8 mx-auto text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WebP up to 5MB"})]})]})]})]}),s.jsx(Wr,{control:x.control,name:"sort_order",render:({field:Z})=>s.jsxs(Ar,{children:[s.jsx(Mr,{children:"Sort Order"}),s.jsx(an,{children:s.jsx(Te,{type:"number",min:"0",placeholder:"Display order (0 = first)",...Z,onChange:q=>Z.onChange(parseInt(q.target.value)||0)})}),s.jsx(Fn,{children:"Controls the display order of categories (lower numbers appear first)"}),s.jsx(bn,{})]})}),s.jsx(Wr,{control:x.control,name:"is_visible",render:({field:Z})=>s.jsxs(Ar,{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Mr,{children:"Category Visibility"}),s.jsx(Fn,{children:U?"Category is visible to customers":"Category is hidden from customers"})]}),s.jsx(an,{children:s.jsx(yo,{checked:Z.value,onCheckedChange:Z.onChange})})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[s.jsx(B,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),s.jsx(B,{type:"submit",disabled:b||u,className:"min-w-[120px]",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}),e?"Updating...":"Creating..."]}):n})]})]})})})]})},fW=({categories:e,loading:t,onEdit:r,onDelete:n,onToggleVisibility:i,onAddNew:a,onReorder:l})=>{const[c,u]=v.useState(null),{deleteCategory:h,updateCategory:p,toggleVisibility:m}=m_(),g=v.useMemo(()=>[...e].sort((w,b)=>w.sort_order!==b.sort_order?w.sort_order-b.sort_order:w.name.localeCompare(b.name)),[e]),_=async w=>{if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{u(w),await h.mutateAsync(w),n(w),ht.success("Category deleted successfully")}catch(b){console.error("Delete category error:",b),ht.error("Failed to delete category")}finally{u(null)}},N=async w=>{try{u(w.id);const b=!w.is_visible;await m.mutateAsync({id:w.id,isVisible:b}),i(w.id,b),ht.success(`Category ${b?"made visible":"hidden"}`)}catch(b){console.error("Toggle visibility error:",b),ht.error("Failed to update category visibility")}finally{u(null)}},x=async(w,b)=>{if(l)try{u(w.id);const j=g.findIndex(T=>T.id===w.id);let k=w.sort_order||0;b==="up"&&j>0?k=(g[j-1].sort_order||0)-1:b==="down"&&j<g.length-1&&(k=(g[j+1].sort_order||0)+1),await p.mutateAsync({id:w.id,updates:{sort_order:k}}),l(w.id,b),ht.success("Category order updated")}catch(j){console.error("Reorder error:",j),ht.error("Failed to update category order")}finally{u(null)}},S=({title:w,categories:b,type:j})=>s.jsxs(re,{className:"mb-6",children:[s.jsx(qe,{className:"flex flex-row items-center justify-between",children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[w,s.jsxs(We,{variant:"outline",className:j==="food"?"border-orange-200 text-orange-800":"border-blue-200 text-blue-800",children:[b.length," ",b.length===1?"category":"categories"]})]})}),s.jsx(ne,{children:b.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Kn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No ",j," categories yet"]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:a,className:"mt-2",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Add First Category"]})]}):s.jsxs(yp,{children:[s.jsx(_p,{children:s.jsxs(ko,{children:[s.jsx(Lt,{className:"w-16",children:"Image"}),s.jsx(Lt,{children:"Name"}),s.jsx(Lt,{className:"w-24",children:"Visible"}),s.jsx(Lt,{className:"w-32",children:"Sort Order"}),s.jsx(Lt,{className:"w-32",children:"Actions"})]})}),s.jsx(wp,{children:b.map((k,T)=>s.jsxs(ko,{children:[s.jsx(It,{children:k.image_url?s.jsx("img",{src:k.image_url,alt:k.name,className:"h-10 w-10 rounded-md object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center",children:s.jsx(Kn,{className:"h-4 w-4 text-gray-400"})})}),s.jsx(It,{children:s.jsx("div",{className:"font-medium",children:k.name})}),s.jsx(It,{children:s.jsx(yo,{checked:k.is_visible,onCheckedChange:()=>N(k),disabled:c===k.id})}),s.jsx(It,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:k.sort_order||0}),l&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx(B,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>x(k,"up"),disabled:T===0||c===k.id,children:s.jsx(cC,{className:"h-3 w-3"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>x(k,"down"),disabled:T===b.length-1||c===k.id,children:s.jsx(oC,{className:"h-3 w-3"})})]})]})}),s.jsx(It,{children:s.jsxs(up,{children:[s.jsx(hp,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",disabled:c===k.id,children:c===k.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(qy,{className:"h-4 w-4"})})}),s.jsxs(Du,{align:"end",children:[s.jsxs(hr,{onClick:()=>r(k),children:[s.jsx(SL,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(hr,{onClick:()=>N(k),children:k.is_visible?s.jsxs(s.Fragment,{children:[s.jsx(pc,{className:"h-4 w-4 mr-2"}),"Hide"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Show"]})}),s.jsx(ru,{}),s.jsxs(hr,{onClick:()=>_(k.id),className:"text-red-600",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},k.id))})]})})]});return t?s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center justify-center py-12",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin mr-2"}),s.jsx("span",{children:"Loading categories..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Category Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your food categories"})]}),s.jsxs(B,{onClick:a,className:"flex items-center gap-2",children:[s.jsx(br,{className:"h-4 w-4"}),"Add Category"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Categories"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(w=>w.is_visible).length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Visible Categories"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.filter(w=>!w.is_visible).length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Hidden Categories"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Food Categories"})]})})]}),s.jsx(S,{title:"Food Categories",categories:g,type:"food"})]})},_R=()=>{const e=Qn(),t=bt({mutationFn:async({id:a,status:l,estimatedDeliveryTime:c})=>{const u={status:l,updated_at:new Date().toISOString()};c&&(u.estimated_delivery_time=c);const{data:h,error:p}=await ye.from("orders").update(u).eq("id",a).select().single();if(p)throw console.error("Error updating order status:",p),p;return h},onMutate:async({id:a,status:l})=>{await e.cancelQueries({queryKey:["orders"]});const c=e.getQueryData(["orders"]);return e.setQueryData(["orders"],u=>u&&u.map(h=>h.id===a?{...h,status:l,updated_at:new Date().toISOString()}:h)),{previousOrders:c}},onSuccess:a=>{e.invalidateQueries({queryKey:["orders"]}),Ce({title:"Order Status Updated",description:{pending:"Order is now pending",confirmed:"Order has been confirmed",preparing:"Order is being prepared",out_for_delivery:"Order is out for delivery",delivered:"Order has been delivered",cancelled:"Order has been cancelled"}[a.status]||"Order status has been updated"})},onError:(a,l,c)=>{c!=null&&c.previousOrders&&e.setQueryData(["orders"],c.previousOrders),console.error("Failed to update order status:",a),Ce({title:"Error",description:"Failed to update order status. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["orders"]})}}),r=bt({mutationFn:async a=>{const l=a.map(({id:h,status:p})=>ye.from("orders").update({status:p,updated_at:new Date().toISOString()}).eq("id",h)),u=(await Promise.allSettled(l)).filter(h=>h.status==="rejected");if(u.length>0)throw new Error(`${u.length} order updates failed`)},onSuccess:(a,l)=>{e.invalidateQueries({queryKey:["orders"]}),Ce({title:"Orders Updated",description:`${l.length} orders have been successfully updated.`})},onError:a=>{console.error("Failed to bulk update orders:",a),Ce({title:"Error",description:"Some order updates failed. Please check and try again.",variant:"destructive"})}}),n=bt({mutationFn:async a=>{const{data:l,error:c}=await ye.from("orders").select("status").eq("id",a).single();if(c)throw console.error("Error fetching order:",c),c;if(l.status==="delivered"||l.status==="cancelled")throw new Error("Cannot cancel delivered or already cancelled orders");const{data:u,error:h}=await ye.from("orders").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",a).select().single();if(h)throw console.error("Error cancelling order:",h),h;return u},onMutate:async a=>{await e.cancelQueries({queryKey:["orders"]});const l=e.getQueryData(["orders"]);return e.setQueryData(["orders"],c=>c&&c.map(u=>u.id===a?{...u,status:"cancelled",updated_at:new Date().toISOString()}:u)),{previousOrders:l}},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),Ce({title:"Order Cancelled",description:"Order has been successfully cancelled."})},onError:(a,l,c)=>{c!=null&&c.previousOrders&&e.setQueryData(["orders"],c.previousOrders),console.error("Failed to cancel order:",a);const u=a.message==="Cannot cancel delivered or already cancelled orders"?"Cannot cancel delivered or already cancelled orders.":"Failed to cancel order. Please try again.";Ce({title:"Error",description:u,variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["orders"]})}}),i=bt({mutationFn:async({id:a,estimatedDeliveryTime:l})=>{const{data:c,error:u}=await ye.from("orders").update({estimated_delivery_time:l,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(u)throw console.error("Error updating estimated delivery time:",u),u;return c},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),Ce({title:"Delivery Time Updated",description:"Estimated delivery time has been updated."})},onError:a=>{console.error("Failed to update delivery time:",a),Ce({title:"Error",description:"Failed to update delivery time. Please try again.",variant:"destructive"})}});return{updateOrderStatus:t,bulkUpdateOrderStatus:r,cancelOrder:n,updateEstimatedDeliveryTime:i}},mW=({orders:e,loading:t,onRefresh:r,onViewDetails:n,onUpdateStatus:i})=>{const[a,l]=v.useState(""),[c,u]=v.useState("all"),[h,p]=v.useState("all"),[m,g]=v.useState([]),[_,N]=v.useState(null),{updateOrderStatus:x,bulkUpdateOrderStatus:S}=_R(),w=v.useMemo(()=>e.filter(R=>{var U,Z,q;const O=!a||R.id.toLowerCase().includes(a.toLowerCase())||((U=R.profiles)==null?void 0:U.email.toLowerCase().includes(a.toLowerCase()))||`${(Z=R.profiles)==null?void 0:Z.first_name} ${(q=R.profiles)==null?void 0:q.last_name}`.toLowerCase().includes(a.toLowerCase()),z=c==="all"||R.status===c;let G=!0;if(h!=="all"){const ie=new Date(R.created_at),K=new Date;switch(h){case"today":G=ie.toDateString()===K.toDateString();break;case"week":const Q=new Date(K.getTime()-7*24*60*60*1e3);G=ie>=Q;break;case"month":const E=new Date(K.getTime()-30*24*60*60*1e3);G=ie>=E;break}}return O&&z&&G}),[e,a,c,h]),b=v.useMemo(()=>{const R=w.length,O=w.filter(K=>K.status==="pending").length,z=w.filter(K=>K.status==="confirmed").length,G=w.filter(K=>K.status==="preparing").length,U=w.filter(K=>K.status==="out_for_delivery").length,Z=w.filter(K=>K.status==="delivered").length,q=w.filter(K=>K.status==="cancelled").length,ie=w.reduce((K,Q)=>K+Q.total_amount,0);return{total:R,pending:O,confirmed:z,preparing:G,outForDelivery:U,delivered:Z,cancelled:q,totalValue:ie}},[w]),j=async(R,O)=>{try{N(R),await x.mutateAsync({id:R,status:O,estimatedDeliveryTime:void 0}),i(R,O),ht.success("Order status updated successfully")}catch(z){console.error("Status update error:",z),ht.error("Failed to update order status")}finally{N(null)}},k=async R=>{if(m.length===0){ht.error("Please select orders to update");return}try{const O=m.map(z=>({id:z,status:R}));await S.mutateAsync(O),m.forEach(z=>i(z,R)),g([]),ht.success(`${m.length} orders updated successfully`)}catch(O){console.error("Bulk update error:",O),ht.error("Failed to update orders")}},T=R=>{const O={pending:{variant:"secondary",icon:fr,label:"Pending"},confirmed:{variant:"default",icon:Kt,label:"Confirmed"},preparing:{variant:"default",icon:er,label:"Preparing"},out_for_delivery:{variant:"default",icon:ec,label:"Out for Delivery"},delivered:{variant:"default",icon:Kt,label:"Delivered"},cancelled:{variant:"destructive",icon:$s,label:"Cancelled"}},z=O[R]||O.pending,G=z.icon;return s.jsxs(We,{variant:z.variant,className:"flex items-center gap-1",children:[s.jsx(G,{className:"h-3 w-3"}),z.label]})},I=R=>{g(O=>O.includes(R)?O.filter(z=>z!==R):[...O,R])},M=()=>{m.length===w.length?g([]):g(w.map(R=>R.id))};return t?s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center justify-center py-12",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin mr-2"}),s.jsx("span",{children:"Loading orders..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage customer orders"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:r,children:[s.jsx(ui,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{variant:"outline",children:[s.jsx(pC,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold",children:b.total}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b.pending}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.confirmed}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Confirmed"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:b.preparing}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Preparing"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.outForDelivery}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Out for Delivery"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.delivered}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Delivered"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.cancelled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Cancelled"})]})}),s.jsx(re,{children:s.jsxs(ne,{className:"p-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["₹",b.totalValue.toFixed(2)]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Value"})]})})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Dm,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"search",children:"Search Orders"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Te,{id:"search",placeholder:"Search by ID, customer...",value:a,onChange:R=>l(R.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"status",children:"Status Filter"}),s.jsxs(jr,{value:c,onValueChange:u,children:[s.jsx(pr,{children:s.jsx(Nr,{placeholder:"All statuses"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"all",children:"All Statuses"}),s.jsx(Ie,{value:"pending",children:"Pending"}),s.jsx(Ie,{value:"confirmed",children:"Confirmed"}),s.jsx(Ie,{value:"preparing",children:"Preparing"}),s.jsx(Ie,{value:"out_for_delivery",children:"Out for Delivery"}),s.jsx(Ie,{value:"delivered",children:"Delivered"}),s.jsx(Ie,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"date",children:"Date Filter"}),s.jsxs(jr,{value:h,onValueChange:p,children:[s.jsx(pr,{children:s.jsx(Nr,{placeholder:"All dates"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"all",children:"All Dates"}),s.jsx(Ie,{value:"today",children:"Today"}),s.jsx(Ie,{value:"week",children:"Last 7 Days"}),s.jsx(Ie,{value:"month",children:"Last 30 Days"})]})]})]}),m.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Bulk Actions"}),s.jsxs(jr,{onValueChange:k,children:[s.jsx(pr,{children:s.jsx(Nr,{placeholder:`Update ${m.length} orders`})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"confirmed",children:"Mark as Confirmed"}),s.jsx(Ie,{value:"preparing",children:"Mark as Preparing"}),s.jsx(Ie,{value:"out_for_delivery",children:"Mark as Out for Delivery"}),s.jsx(Ie,{value:"delivered",children:"Mark as Delivered"}),s.jsx(Ie,{value:"cancelled",children:"Mark as Cancelled"})]})]})]})]})})]}),s.jsx(re,{children:s.jsx(ne,{className:"p-0",children:w.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No orders found matching your criteria"})]}):s.jsxs(yp,{children:[s.jsx(_p,{children:s.jsxs(ko,{children:[s.jsx(Lt,{className:"w-12",children:s.jsx("input",{type:"checkbox",checked:m.length===w.length,onChange:M,className:"rounded"})}),s.jsx(Lt,{children:"Order ID"}),s.jsx(Lt,{children:"Customer"}),s.jsx(Lt,{children:"Items"}),s.jsx(Lt,{children:"Amount"}),s.jsx(Lt,{children:"Status"}),s.jsx(Lt,{children:"Date"}),s.jsx(Lt,{children:"Actions"})]})}),s.jsx(wp,{children:w.map(R=>{var O,z,G,U;return s.jsxs(ko,{children:[s.jsx(It,{children:s.jsx("input",{type:"checkbox",checked:m.includes(R.id),onChange:()=>I(R.id),className:"rounded"})}),s.jsx(It,{children:s.jsxs("div",{className:"font-mono text-sm",children:["#",R.id.slice(-8)]})}),s.jsx(It,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[(O=R.profiles)==null?void 0:O.first_name," ",(z=R.profiles)==null?void 0:z.last_name]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(G=R.profiles)==null?void 0:G.email})]})}),s.jsx(It,{children:s.jsxs("div",{className:"text-sm",children:[((U=R.order_items)==null?void 0:U.length)||0," items"]})}),s.jsx(It,{children:s.jsxs("div",{className:"font-medium",children:["₹",R.total_amount.toFixed(2)]})}),s.jsx(It,{children:T(R.status)}),s.jsxs(It,{children:[s.jsx("div",{className:"text-sm",children:new Date(R.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(R.created_at).toLocaleTimeString()})]}),s.jsx(It,{children:s.jsxs(up,{children:[s.jsx(hp,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",disabled:_===R.id,children:_===R.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(qy,{className:"h-4 w-4"})})}),s.jsxs(Du,{align:"end",children:[s.jsxs(hr,{onClick:()=>n(R),children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(ru,{}),s.jsxs(hr,{onClick:()=>j(R.id,"confirmed"),children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Mark as Confirmed"]}),s.jsxs(hr,{onClick:()=>j(R.id,"preparing"),children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),"Mark as Preparing"]}),s.jsxs(hr,{onClick:()=>j(R.id,"out_for_delivery"),children:[s.jsx(ec,{className:"h-4 w-4 mr-2"}),"Mark as Out for Delivery"]}),s.jsxs(hr,{onClick:()=>j(R.id,"delivered"),children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Mark as Delivered"]}),s.jsx(ru,{}),s.jsxs(hr,{onClick:()=>j(R.id,"cancelled"),className:"text-red-600",children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Cancel Order"]})]})]})})]},R.id)})})]})})})]})},pW=({order:e,onClose:t,onStatusUpdate:r})=>{var p,m,g,_,N,x,S;const n=((p=e.order_items)==null?void 0:p.reduce((w,b)=>w+b.price*b.quantity,0))||0,i=50,a=e.total_amount,l=[{key:"pending",label:"Order Placed",icon:fr},{key:"confirmed",label:"Confirmed",icon:Kt},{key:"preparing",label:"Preparing",icon:er},{key:"out_for_delivery",label:"Out for Delivery",icon:ec},{key:"delivered",label:"Delivered",icon:Kt}],u=e.status==="cancelled"?-1:l.findIndex(w=>w.key===e.status),h=()=>{const w=[];switch(e.status){case"pending":w.push({label:"Confirm Order",status:"confirmed",variant:"default"},{label:"Cancel Order",status:"cancelled",variant:"destructive"});break;case"confirmed":w.push({label:"Start Preparing",status:"preparing",variant:"default"},{label:"Cancel Order",status:"cancelled",variant:"destructive"});break;case"preparing":w.push({label:"Out for Delivery",status:"out_for_delivery",variant:"default"});break;case"out_for_delivery":w.push({label:"Mark as Delivered",status:"delivered",variant:"default"});break}return w};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order #",e.id.slice(-8)," • ",new Date(e.created_at).toLocaleString()]})]}),s.jsx(B,{variant:"outline",size:"sm",onClick:t,children:s.jsx(Vn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Order Status"}),s.jsx(We,{variant:e.status==="cancelled"?"destructive":"default",children:e.status==="cancelled"?"Cancelled":e.status.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase())})]})}),s.jsx(ne,{children:e.status!=="cancelled"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:l.map((w,b)=>{const j=w.icon,k=b<=u,T=b===u;return s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx("div",{className:`
                            rounded-full p-2 border-2 transition-colors
                            ${k?"bg-primary border-primary text-white":T?"border-primary text-primary":"border-gray-300 text-gray-400"}
                          `,children:s.jsx(j,{className:"h-4 w-4"})}),s.jsx("div",{className:`text-xs text-center ${k||T?"text-foreground":"text-muted-foreground"}`,children:w.label})]},w.key)})}),s.jsx("div",{className:"flex gap-2 justify-center",children:h().map(w=>s.jsx(B,{variant:w.variant,size:"sm",onClick:()=>r(e.id,w.status),children:w.label},w.status))})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx($s,{className:"h-12 w-12 mx-auto text-red-500 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"This order has been cancelled"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-5 w-5"}),"Customer Information"]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"font-medium",children:[(m=e.profiles)==null?void 0:m.first_name," ",(g=e.profiles)==null?void 0:g.last_name]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:(_=e.profiles)==null?void 0:_.email})]}),((N=e.profiles)==null?void 0:N.phone)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xC,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.profiles.phone})]}),e.addresses&&s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fs,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Delivery Address"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.addresses.street,s.jsx("br",{}),e.addresses.city,", ",e.addresses.state,s.jsx("br",{}),e.addresses.pincode]}),s.jsx(We,{variant:"outline",className:"mt-1",children:e.addresses.type})]})]})})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Hy,{className:"h-5 w-5"}),"Order Summary"]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["₹",n.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsxs("span",{children:["₹",i.toFixed(2)]})]}),s.jsx(Gf,{}),s.jsxs("div",{className:"flex justify-between font-medium text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["₹",a.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lm,{className:"h-4 w-4"}),s.jsxs("span",{children:["Ordered: ",new Date(e.created_at).toLocaleString()]})]}),e.estimated_delivery_time&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4"}),s.jsxs("span",{children:["Est. Delivery: ",new Date(e.estimated_delivery_time).toLocaleString()]})]})]})]})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"}),"Order Items (",((x=e.order_items)==null?void 0:x.length)||0,")"]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:(S=e.order_items)==null?void 0:S.map(w=>{var b,j,k,T,I;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[((b=w.products)==null?void 0:b.image_url)&&s.jsx("img",{src:w.products.image_url,alt:w.products.name,className:"h-16 w-16 rounded-md object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:(j=w.products)==null?void 0:j.name}),((k=w.products)==null?void 0:k.is_veg)!==null&&s.jsx(We,{variant:w.products.is_veg?"secondary":"destructive",children:w.products.is_veg?"Veg":"Non-Veg"}),s.jsx(We,{variant:"outline",children:(T=w.products)==null?void 0:T.type})]}),((I=w.products)==null?void 0:I.description)&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.products.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:["₹",w.price.toFixed(2)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Qty: ",w.quantity]}),s.jsxs("div",{className:"text-sm font-medium",children:["₹",(w.price*w.quantity).toFixed(2)]})]})]},w.id)})})})]})]})]})})},gW=({products:e,categories:t,loading:r=!1})=>{const[n,i]=v.useState("7d"),[a,l]=v.useState("revenue"),{data:c=[],isLoading:u}=MP(),h=v.useMemo(()=>{const x=new Date,S=new Date(x.getFullYear(),x.getMonth(),x.getDate()),w=new Date(S.getTime()-24*60*60*1e3),b=new Date(S.getTime()-S.getDay()*24*60*60*1e3),j=new Date(b.getTime()-7*24*60*60*1e3),k=new Date(x.getFullYear(),x.getMonth(),1),T=new Date(x.getFullYear(),x.getMonth()-1,1),I=new Date(x.getFullYear(),x.getMonth(),0),M=(O,z)=>c.filter(G=>{const U=new Date(G.created_at);return U>=O&&(!z||U<=z)}),R=O=>{const z=O.reduce((Z,q)=>Z+(q.final_amount||q.total_amount||0),0),G=O.length,U=G>0?z/G:0;return{revenue:z,orders:G,averageOrderValue:Math.round(U)}};return[{period:"Today",...R(M(S))},{period:"Yesterday",...R(M(w,S))},{period:"This Week",...R(M(b))},{period:"Last Week",...R(M(j,b))},{period:"This Month",...R(M(k))},{period:"Last Month",...R(M(T,I))}]},[c]),p=v.useMemo(()=>{const x=new Map;e.forEach(j=>{x.set(j.id,{id:j.id,name:j.name,category:j.type,revenue:0,orders:0,stock:j.is_available?25:0,rating:4,trend:"stable"})}),c.forEach(j=>{j.order_items&&j.order_items.forEach(k=>{const T=k.product_id;if(x.has(T)){const I=x.get(T);I.revenue+=k.total_price||k.unit_price*k.quantity,I.orders+=k.quantity}})});const S=new Date(Date.now()-7*24*60*60*1e3),w=c.filter(j=>new Date(j.created_at)>=S),b=c.filter(j=>new Date(j.created_at)<S);return x.forEach((j,k)=>{const T=w.reduce((M,R)=>{var O;return M+(((O=R.order_items)==null?void 0:O.reduce((z,G)=>G.product_id===k?z+(G.total_price||G.unit_price*G.quantity):z,0))||0)},0),I=b.reduce((M,R)=>{var O;return M+(((O=R.order_items)==null?void 0:O.reduce((z,G)=>G.product_id===k?z+(G.total_price||G.unit_price*G.quantity):z,0))||0)},0);if(I>0){const M=(T-I)/I;M>.1?j.trend="up":M<-.1?j.trend="down":j.trend="stable"}}),Array.from(x.values()).sort((j,k)=>k.revenue-j.revenue).slice(0,10)},[e,c]),m=v.useMemo(()=>{const S=new Set(c.map(R=>R.user_id)).size,w=new Date(Date.now()-7*24*60*60*1e3),b=new Set(c.filter(R=>new Date(R.created_at)>=w).map(R=>R.user_id)),j=new Map;c.forEach(R=>{const O=j.get(R.user_id)||0;j.set(R.user_id,O+1)});const k=Array.from(j.values()).filter(R=>R>1).length,T=S>0?c.length/S:0,I=c.reduce((R,O)=>R+(O.final_amount||O.total_amount||0),0),M=S>0?I/S:0;return{totalCustomers:S,newCustomers:b.size,returningCustomers:k,averageOrdersPerCustomer:Number(T.toFixed(1)),customerLifetimeValue:Math.round(M)}},[c]),g=v.useMemo(()=>{const x=h.find(j=>j.period==="This Week")||h[0],S=h.find(j=>j.period==="Last Week")||h[1],w=S&&S.revenue>0?(x.revenue-S.revenue)/S.revenue*100:0,b=S&&S.orders>0?(x.orders-S.orders)/S.orders*100:0;return{totalRevenue:x.revenue,revenueGrowth:w,totalOrders:x.orders,orderGrowth:b,averageOrderValue:x.averageOrderValue,totalProducts:e.length,activeProducts:e.filter(j=>j.is_available).length,lowStockProducts:e.filter(j=>!j.is_available).length,totalCategories:t.length}},[h,e,t]),_=x=>x>0?s.jsx(sd,{className:"h-4 w-4 text-green-600"}):x<0?s.jsx(Tb,{className:"h-4 w-4 text-red-600"}):s.jsx(sd,{className:"h-4 w-4 text-gray-400"}),N=x=>x>0?"text-green-600":x<0?"text-red-600":"text-gray-600";return r||u?s.jsx(re,{children:s.jsxs(ne,{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Business insights and performance metrics"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(jr,{value:n,onValueChange:i,children:[s.jsx(pr,{className:"w-32",children:s.jsx(Nr,{placeholder:"Time Range"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"1d",children:"Today"}),s.jsx(Ie,{value:"7d",children:"7 Days"}),s.jsx(Ie,{value:"30d",children:"30 Days"}),s.jsx(Ie,{value:"90d",children:"90 Days"})]})]}),s.jsxs(B,{variant:"outline",children:[s.jsx(ui,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{variant:"outline",children:[s.jsx(pC,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(re,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Hy,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ne,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["₹",g.totalRevenue.toLocaleString()]}),s.jsxs("div",{className:`text-xs flex items-center gap-1 ${N(g.revenueGrowth)}`,children:[_(g.revenueGrowth),Math.abs(g.revenueGrowth).toFixed(1),"% from last period"]})]})]}),s.jsxs(re,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:"Total Orders"}),s.jsx(Jl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.totalOrders}),s.jsxs("div",{className:`text-xs flex items-center gap-1 ${N(g.orderGrowth)}`,children:[_(g.orderGrowth),Math.abs(g.orderGrowth).toFixed(1),"% from last period"]})]})]}),s.jsxs(re,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:"Avg Order Value"}),s.jsx(yC,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ne,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["₹",g.averageOrderValue]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Consistent performance"})]})]}),s.jsxs(re,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.activeProducts}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.totalProducts," total products"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(uC,{className:"h-5 w-5"}),"Sales Trends"]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:h.slice(0,4).map((x,S)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.period}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.orders," orders"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:["₹",x.revenue.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["₹",x.averageOrderValue," avg"]})]}),s.jsx(cc,{value:x.revenue/Math.max(...h.map(w=>w.revenue))*100,className:"w-20"})]},x.period))})})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(_C,{className:"h-5 w-5"}),"Customer Insights"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.totalCustomers}),s.jsx("div",{className:"text-sm text-blue-800",children:"Total Customers"})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.newCustomers}),s.jsx("div",{className:"text-sm text-green-800",children:"New This Week"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Returning Customers"}),s.jsx("span",{className:"font-medium",children:m.returningCustomers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Avg Orders/Customer"}),s.jsx("span",{className:"font-medium",children:m.averageOrdersPerCustomer})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Customer LTV"}),s.jsxs("span",{className:"font-medium",children:["₹",m.customerLifetimeValue]})]})]})]})})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"}),"Product Performance"]}),s.jsxs(jr,{value:a,onValueChange:l,children:[s.jsx(pr,{className:"w-32",children:s.jsx(Nr,{})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"revenue",children:"Revenue"}),s.jsx(Ie,{value:"orders",children:"Orders"}),s.jsx(Ie,{value:"rating",children:"Rating"})]})]})]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:p.slice(0,8).map((x,S)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-sm font-medium",children:S+1}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.category," • ",x.orders," orders"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:["₹",x.revenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx($t,{className:"h-3 w-3 text-yellow-500"}),x.rating]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x.trend==="up"&&s.jsx(sd,{className:"h-4 w-4 text-green-600"}),x.trend==="down"&&s.jsx(Tb,{className:"h-4 w-4 text-red-600"}),x.trend==="stable"&&s.jsx(sd,{className:"h-4 w-4 text-gray-400"}),x.stock<10&&s.jsx(We,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})]})]},x.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Wd,{className:"h-5 w-5"}),"Inventory Alerts"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-red-800",children:"Low Stock Items"}),s.jsxs("div",{className:"text-sm text-red-600",children:[g.lowStockProducts," products"]})]}),s.jsxs(B,{size:"sm",variant:"outline",children:[s.jsx(Zn,{className:"h-4 w-4 mr-1"}),"View"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-800",children:"Out of Stock"}),s.jsxs("div",{className:"text-sm text-yellow-600",children:[e.filter(x=>!x.is_available).length," products"]})]}),s.jsxs(B,{size:"sm",variant:"outline",children:[s.jsx(Zn,{className:"h-4 w-4 mr-1"}),"View"]})]})]})})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(CL,{className:"h-5 w-5"}),"Category Performance"]})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:t.slice(0,4).map(x=>{const S=e.filter(b=>b.category_id===x.id),w=S.length>0?S.length/e.length*100:0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{variant:x.type==="food"?"default":"secondary",children:x.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.length," products"]})]}),s.jsxs("span",{className:"text-sm font-medium",children:[w.toFixed(1),"%"]})]}),s.jsx(cc,{value:w,className:"h-2"})]},x.id)})})})]})]})]})};function vW({reviews:e,className:t=""}){const r=v.useMemo(()=>{const n=e.length,i=e.filter(p=>p.is_approved===null||p.is_approved===!1).length,a=e.filter(p=>p.is_approved===!0).length,l=e.length>0?e.reduce((p,m)=>p+(m.rating||0),0)/e.length:0,c=[5,4,3,2,1].map(p=>{const m=e.filter(_=>_.rating===p).length,g=n>0?m/n*100:0;return{rating:p,count:m,percentage:g}}),u=new Date(Date.now()-7*24*60*60*1e3),h=e.filter(p=>p.created_at&&new Date(p.created_at)>=u).length;return{total:n,pending:i,approved:a,avgRating:Math.round(l*100)/100,ratingDistribution:c,recentReviews:h,approvalRate:n>0?Math.round(a/n*100):0}},[e]);return s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 ${t}`,children:[s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xa,{className:"h-4 w-4 text-blue-600"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reviews"}),s.jsx("p",{className:"text-2xl font-bold",children:r.total})]})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fr,{className:"h-4 w-4 text-yellow-600"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold",children:r.pending}),r.pending>0&&s.jsx(We,{variant:"destructive",className:"text-xs",children:"Needs Attention"})]})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold",children:r.avgRating}),s.jsx(Vs,{value:r.avgRating,size:"sm"})]})]})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kt,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-2xl font-bold",children:[r.approvalRate,"%"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[r.approved," of ",r.total," approved"]})]})]})})})]})}function xW({selectedReviews:e,onBulkModerate:t,onClearSelection:r,isLoading:n=!1}){return e.length===0?null:s.jsx(re,{className:"border-blue-200 bg-blue-50",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm font-medium",children:[e.length," review",e.length===1?"":"s"," selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",onClick:()=>t(e,!0),disabled:n,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Kt,{className:"h-4 w-4 mr-1"}),"Approve All"]}),s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>t(e,!1),disabled:n,children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"Reject All"]})]})]}),s.jsx(B,{size:"sm",variant:"outline",onClick:r,disabled:n,children:"Clear Selection"})]})})})}function yW({review:e,onModerate:t,isLoading:r=!1}){const[n,i]=v.useState(!1),a=c=>c===null?s.jsxs(We,{variant:"secondary",className:"gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),"Pending"]}):c?s.jsxs(We,{variant:"default",className:"gap-1 bg-green-600",children:[s.jsx(Kt,{className:"h-3 w-3"}),"Approved"]}):s.jsxs(We,{variant:"destructive",className:"gap-1",children:[s.jsx($s,{className:"h-3 w-3"}),"Rejected"]}),l=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown";return s.jsx(re,{className:"hover:shadow-md transition-shadow",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vs,{value:e.rating||0,size:"sm"}),s.jsxs("span",{className:"font-medium",children:[e.rating,"/5"]}),a(e.is_approved)]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(wi,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.first_name," ",e.last_name]}),s.jsx("span",{children:"•"}),s.jsx(Lm,{className:"h-4 w-4"}),s.jsx("span",{children:l(e.created_at)})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ic,{open:n,onOpenChange:i,children:[s.jsx(Uu,{asChild:!0,children:s.jsxs(B,{size:"sm",variant:"outline",children:[s.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Details"]})}),s.jsxs(bo,{className:"max-w-2xl",children:[s.jsx(jo,{children:s.jsx(No,{children:"Review Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Product"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.product_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Customer"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:e.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{value:e.rating||0,size:"sm"}),s.jsxs("span",{className:"text-sm",children:[e.rating,"/5"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Helpful Votes"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.helpful_count||0})]})]}),e.comment&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Comment"}),s.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-md",children:s.jsx("p",{className:"text-sm",children:e.comment})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsxs(B,{onClick:()=>{t(e.id,!1),i(!1)},variant:"destructive",disabled:r,children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(B,{onClick:()=>{t(e.id,!0),i(!1)},disabled:r,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Kt,{className:"h-4 w-4 mr-1"}),"Approve"]})]})]})]})]})})]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:s.jsx("p",{className:"text-sm font-medium text-gray-700",children:e.product_name})}),e.comment&&s.jsx("div",{className:"border-l-4 border-gray-200 pl-4",children:s.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',e.comment,'"']})}),(e.is_approved===null||e.is_approved===!1)&&s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>t(e.id,!1),disabled:r,children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(B,{size:"sm",onClick:()=>t(e.id,!0),disabled:r,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Kt,{className:"h-4 w-4 mr-1"}),"Approve"]})]})]})})})}function _W({className:e=""}){const[t,r]=v.useState({status:"all",search:""}),[n,i]=v.useState([]),{data:a,isLoading:l,refetch:c}=t_({is_approved:t.status==="pending"?!1:t.status==="approved"?!0:t.status==="rejected"?!1:void 0,limit:50}),u=RT(),h=pV();WT();const p=v.useMemo(()=>{if(!(a!=null&&a.data))return[];let S=[...a.data];if(t.search.trim()){const w=t.search.toLowerCase();S=S.filter(b=>{var j,k,T,I,M;return((j=b.product_name)==null?void 0:j.toLowerCase().includes(w))||((k=b.comment)==null?void 0:k.toLowerCase().includes(w))||((T=b.first_name)==null?void 0:T.toLowerCase().includes(w))||((I=b.last_name)==null?void 0:I.toLowerCase().includes(w))||((M=b.email)==null?void 0:M.toLowerCase().includes(w))})}return S},[a==null?void 0:a.data,t.search]),m=async(S,w)=>{try{await u.mutateAsync({id:S,is_approved:w}),ht.success(`Review ${w?"approved":"rejected"} successfully`),i(b=>b.filter(j=>j!==S))}catch{ht.error(`Failed to ${w?"approve":"reject"} review`)}},g=async(S,w)=>{try{await h.mutateAsync({review_ids:S,action:w?"approve":"reject"}),ht.success(`${S.length} reviews ${w?"approved":"rejected"} successfully`),i([])}catch{ht.error(`Failed to ${w?"approve":"reject"} reviews`)}},_=S=>{i(w=>w.includes(S)?w.filter(b=>b!==S):[...w,S])},N=()=>{const S=p.filter(w=>w.is_approved===null||w.is_approved===!1).map(w=>w.id).filter(Boolean);i(S)},x=()=>{i([])};return s.jsxs("div",{className:`space-y-6 ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Moderation"}),s.jsx("p",{className:"text-gray-600",children:"Manage and moderate customer reviews"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(B,{variant:"outline",onClick:()=>c(),children:[s.jsx(ui,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),s.jsx(vW,{reviews:p}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Te,{placeholder:"Search reviews, products, or customers...",value:t.search,onChange:S=>r(w=>({...w,search:S.target.value})),className:"pl-10"})]})}),s.jsxs(jr,{value:t.status,onValueChange:S=>r(w=>({...w,status:S})),children:[s.jsx(pr,{className:"w-[200px]",children:s.jsx(Nr,{placeholder:"Filter by status"})}),s.jsxs(gr,{children:[s.jsx(Ie,{value:"all",children:"All Reviews"}),s.jsx(Ie,{value:"pending",children:"Pending"}),s.jsx(Ie,{value:"approved",children:"Approved"}),s.jsx(Ie,{value:"rejected",children:"Rejected"})]})]}),p.some(S=>S.is_approved===null||S.is_approved===!1)&&s.jsx(B,{variant:"outline",onClick:N,children:"Select All Pending"})]})})}),s.jsx(xW,{selectedReviews:n,onBulkModerate:g,onClearSelection:x,isLoading:h.isPending}),l?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((S,w)=>s.jsx(re,{className:"animate-pulse",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})},w))}):p.length===0?s.jsx(re,{children:s.jsxs(ne,{className:"p-12 text-center",children:[s.jsx(xa,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),s.jsx("p",{className:"text-gray-600",children:t.search.trim()?"Try adjusting your search or filter criteria":"No reviews match the current filters"})]})}):s.jsx("div",{className:"space-y-4",children:p.map(S=>s.jsxs("div",{className:"relative",children:[(S.is_approved===null||S.is_approved===!1)&&s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsx("input",{type:"checkbox",checked:n.includes(S.id),onChange:()=>_(S.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsx("div",{className:n.includes(S.id)?"ml-8":"",children:s.jsx(yW,{review:S,onModerate:m,isLoading:u.isPending})})]},S.id))})]})}function wW(e){const t=new Date,r=new Date(t.getTime()-24*60*60*1e3),n=new Date(t.getTime()-7*24*60*60*1e3),i=new Date(t.getTime()-30*24*60*60*1e3),a=e.length,l=e.filter(w=>w.is_approved===null||w.is_approved===!1).length,c=e.filter(w=>w.is_approved===!0).length,u=e.filter(w=>w.is_approved===!1).length,h=e.length>0?e.reduce((w,b)=>w+(b.rating||0),0)/e.length:0,p=[5,4,3,2,1].map(w=>{const b=e.filter(k=>k.rating===w).length,j=a>0?b/a*100:0;return{rating:w,count:b,percentage:j}}),m={last24h:e.filter(w=>w.created_at&&new Date(w.created_at)>=r).length,last7d:e.filter(w=>w.created_at&&new Date(w.created_at)>=n).length,last30d:e.filter(w=>w.created_at&&new Date(w.created_at)>=i).length},g=a>0?Math.round(c/a*100):0,_=e.filter(w=>(w.rating||0)<=2&&w.comment&&w.comment.length>100).length,N=new Map;e.forEach(w=>{if(w.product_name&&w.rating){const b=N.get(w.product_name)||{total:0,count:0};N.set(w.product_name,{total:b.total+w.rating,count:b.count+1})}});const x=Array.from(N.entries()).map(([w,b])=>({product:w,rating:Math.round(b.total/b.count*100)/100,count:b.count})).filter(w=>w.count>=3).sort((w,b)=>b.rating-w.rating).slice(0,5),S={positive:e.filter(w=>(w.rating||0)>=4).length,neutral:e.filter(w=>(w.rating||0)===3).length,negative:e.filter(w=>(w.rating||0)<=2).length};return{totalReviews:a,pendingReviews:l,approvedReviews:c,rejectedReviews:u,averageRating:Math.round(h*100)/100,ratingDistribution:p,recentActivity:m,moderationStats:{approvalRate:g,avgProcessingTime:"2.3 hours",flaggedReviews:_},topRatedProducts:x,sentimentBreakdown:S}}function o1({metrics:e}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalReviews}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.recentActivity.last7d," this week"]})]}),s.jsx(xa,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.pendingReviews}),e.pendingReviews>0&&s.jsx(We,{variant:"destructive",className:"text-xs mt-1",children:"Needs Attention"})]}),s.jsx(fr,{className:"h-8 w-8 text-yellow-600"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.averageRating}),s.jsx(Vs,{value:e.averageRating,size:"sm"})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.sentimentBreakdown.positive,"% positive"]})]}),s.jsx($t,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.moderationStats.approvalRate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.approvedReviews," approved"]})]}),s.jsx(Kt,{className:"h-8 w-8 text-green-600"})]})})})]})}function bW({distribution:e}){return s.jsxs(re,{children:[s.jsx(qe,{children:s.jsx(Ze,{className:"text-lg",children:"Rating Distribution"})}),s.jsx(ne,{children:s.jsx("div",{className:"space-y-4",children:e.map(({rating:t,count:r,percentage:n})=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 w-20",children:[s.jsx("span",{className:"text-sm font-medium",children:t}),s.jsx($t,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(cc,{value:n,className:"h-2"})}),s.jsxs("div",{className:"text-right w-16",children:[s.jsx("span",{className:"text-sm font-medium",children:r}),s.jsxs("div",{className:"text-xs text-gray-500",children:[n.toFixed(1),"%"]})]})]},t))})})]})}function jW({products:e}){return s.jsxs(re,{children:[s.jsx(qe,{children:s.jsx(Ze,{className:"text-lg",children:"Top Rated Products"})}),s.jsx(ne,{children:e.length===0?s.jsx("p",{className:"text-gray-500 text-center py-4",children:"Not enough reviews yet"}):s.jsx("div",{className:"space-y-3",children:e.map((t,r)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.product}),s.jsxs("p",{className:"text-xs text-gray-500",children:[t.count," review",t.count===1?"":"s"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{value:t.rating,size:"sm"}),s.jsx("span",{className:"text-sm font-medium",children:t.rating})]})]},t.product))})})]})}function NW({metrics:e}){return s.jsxs(re,{children:[s.jsx(qe,{children:s.jsx(Ze,{className:"text-lg",children:"Moderation Insights"})}),s.jsx(ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Approval Rate"}),s.jsxs("span",{className:"text-sm font-medium",children:[e.moderationStats.approvalRate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Avg Processing Time"}),s.jsx("span",{className:"text-sm font-medium",children:e.moderationStats.avgProcessingTime})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Flagged Reviews"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:e.moderationStats.flaggedReviews}),e.moderationStats.flaggedReviews>0&&s.jsx(Wd,{className:"h-4 w-4 text-yellow-600"})]})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Positive"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[Math.round(e.sentimentBreakdown.positive/e.totalReviews*100)||0,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Neutral"}),s.jsxs("p",{className:"text-lg font-bold text-gray-600",children:[Math.round(e.sentimentBreakdown.neutral/e.totalReviews*100)||0,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Negative"}),s.jsxs("p",{className:"text-lg font-bold text-red-600",children:[Math.round(e.sentimentBreakdown.negative/e.totalReviews*100)||0,"%"]})]})]})})]})})]})}function SW({className:e="",showDetailedView:t=!1}){const{data:r,isLoading:n}=t_({limit:1e3}),i=v.useMemo(()=>r!=null&&r.data?wW(r.data):null,[r]);return n?s.jsx("div",{className:`space-y-6 ${e}`,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((a,l)=>s.jsx(re,{className:"animate-pulse",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})},l))})}):i?t?s.jsxs("div",{className:`space-y-6 ${e}`,children:[s.jsx(o1,{metrics:i}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(bW,{distribution:i.ratingDistribution}),s.jsx(NW,{metrics:i})]}),s.jsx(jW,{products:i.topRatedProducts})]}):s.jsx("div",{className:e,children:s.jsx(o1,{metrics:i})}):s.jsx(re,{className:e,children:s.jsxs(ne,{className:"p-6 text-center",children:[s.jsx(xa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No review data available"}),s.jsx("p",{className:"text-gray-600",children:"Review analytics will appear once customers start leaving reviews."})]})})}const l1=V0,c1=W0,CW=H0,wR=v.forwardRef(({className:e,...t},r)=>s.jsx(Fu,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));wR.displayName=Fu.displayName;const kW=mc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vx=v.forwardRef(({side:e="right",className:t,children:r,...n},i)=>s.jsxs(CW,{children:[s.jsx(wR,{}),s.jsxs($u,{ref:i,className:ce(kW({side:e}),t),...n,children:[r,s.jsxs(fp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vx.displayName=$u.displayName;const Wx=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Wx.displayName="SheetHeader";const Hx=v.forwardRef(({className:e,...t},r)=>s.jsx(zu,{ref:r,className:ce("text-lg font-semibold text-foreground",e),...t}));Hx.displayName=zu.displayName;const bR=v.forwardRef(({className:e,...t},r)=>s.jsx(Bu,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));bR.displayName=Bu.displayName;function PW({notification:e,onMarkAsRead:t,onQuickAction:r}){const n=l=>{switch(l){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},i=l=>{switch(l){case"new_review":return s.jsx(xa,{className:"h-4 w-4"});case"flagged_review":return s.jsx(Wd,{className:"h-4 w-4"});case"low_rating":return s.jsx($t,{className:"h-4 w-4"});case"high_volume":return s.jsx(Vd,{className:"h-4 w-4"});default:return s.jsx(Vd,{className:"h-4 w-4"})}},a=l=>{const u=new Date().getTime()-l.getTime(),h=Math.floor(u/6e4),p=Math.floor(u/36e5),m=Math.floor(u/864e5);return h<1?"Just now":h<60?`${h}m ago`:p<24?`${p}h ago`:`${m}d ago`};return s.jsx("div",{className:`
        p-4 border rounded-lg transition-all duration-200 hover:shadow-md
        ${e.read?"bg-white border-gray-200":n(e.priority)}
      `,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`
            flex-shrink-0 p-2 rounded-full
            ${e.priority==="high"?"bg-red-100 text-red-600":e.priority==="medium"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}
          `,children:i(e.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),!e.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:a(e.timestamp)}),e.productName&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"truncate max-w-32",children:e.productName})]}),e.rating&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vs,{value:e.rating,size:"sm"}),s.jsx("span",{children:e.rating})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.reviewId&&s.jsxs(up,{children:[s.jsx(hp,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(xL,{className:"h-4 w-4"})})}),s.jsxs(Du,{align:"end",children:[s.jsx(ZE,{children:"Quick Actions"}),s.jsx(ru,{}),s.jsxs(hr,{onClick:()=>r(e.reviewId,"view"),children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(hr,{onClick:()=>r(e.reviewId,"approve"),children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(hr,{onClick:()=>r(e.reviewId,"reject"),className:"text-red-600",children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]}),!e.read&&s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs",children:"Mark Read"})]})]})})}function EW(){const[e,t]=v.useState({newReviews:!0,lowRatings:!0,highVolume:!0,flaggedContent:!0,emailNotifications:!1,pushNotifications:!0});return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Notification Preferences"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure when you want to receive review notifications"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"New Reviews"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Get notified when new reviews are submitted"})]}),s.jsx("input",{type:"checkbox",checked:e.newReviews,onChange:r=>t(n=>({...n,newReviews:r.target.checked})),className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Low Ratings"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Alert when products receive 1-2 star reviews"})]}),s.jsx("input",{type:"checkbox",checked:e.lowRatings,onChange:r=>t(n=>({...n,lowRatings:r.target.checked})),className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"High Volume"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Notify when review volume spikes"})]}),s.jsx("input",{type:"checkbox",checked:e.highVolume,onChange:r=>t(n=>({...n,highVolume:r.target.checked})),className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Flagged Content"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Alert for potentially problematic reviews"})]}),s.jsx("input",{type:"checkbox",checked:e.flaggedContent,onChange:r=>t(n=>({...n,flaggedContent:r.target.checked})),className:"h-4 w-4"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Delivery Methods"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Push Notifications"}),s.jsx("input",{type:"checkbox",checked:e.pushNotifications,onChange:r=>t(n=>({...n,pushNotifications:r.target.checked})),className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Email Notifications"}),s.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:r=>t(n=>({...n,emailNotifications:r.target.checked})),className:"h-4 w-4"})]})]})]})]})}function TW({className:e=""}){const[t,r]=v.useState([]),[n,i]=v.useState(!1),{data:a}=t_({is_approved:!1,limit:20}),l=RT();WT(),v.useEffect(()=>{if(!(a!=null&&a.data))return;const m=a.data.map(g=>({id:`review-${g.id}`,type:(g.rating||0)<=2?"low_rating":"new_review",title:(g.rating||0)<=2?"Low Rating Alert":"New Review Pending",message:(g.rating||0)<=2?`${g.product_name} received a ${g.rating}-star review`:`New review for ${g.product_name} needs moderation`,timestamp:new Date(g.created_at||Date.now()),priority:(g.rating||0)<=2?"high":"medium",reviewId:g.id||void 0,productName:g.product_name||void 0,rating:g.rating||void 0,customerName:`${g.first_name} ${g.last_name}`,read:!1})).sort((g,_)=>_.timestamp.getTime()-g.timestamp.getTime());r(m)},[a]);const c=t.filter(m=>!m.read).length,u=m=>{r(g=>g.map(_=>_.id===m?{..._,read:!0}:_))},h=()=>{r(m=>m.map(g=>({...g,read:!0})))},p=async(m,g)=>{if(g==="view"){ht.info("Opening review details...");return}try{await l.mutateAsync({id:m,is_approved:g==="approve"}),ht.success(`Review ${g}d successfully`),r(_=>_.filter(N=>N.reviewId!==m))}catch{ht.error(`Failed to ${g} review`)}};return s.jsxs(l1,{open:n,onOpenChange:i,children:[s.jsx(c1,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"sm",className:`relative ${e}`,children:[s.jsx(Vd,{className:"h-4 w-4"}),c>0&&s.jsx(We,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:c>99?"99+":c})]})}),s.jsxs(Vx,{className:"w-[400px] sm:w-[540px]",children:[s.jsxs(Wx,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Hx,{children:"Review Notifications"}),s.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&s.jsx(B,{variant:"ghost",size:"sm",onClick:h,className:"text-xs",children:"Mark all read"}),s.jsxs(l1,{children:[s.jsx(c1,{asChild:!0,children:s.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(If,{className:"h-4 w-4"})})}),s.jsxs(Vx,{side:"right",children:[s.jsx(Wx,{children:s.jsx(Hx,{children:"Notification Settings"})}),s.jsx(EW,{})]})]})]})]}),s.jsx(bR,{children:"Stay updated on review activity that needs your attention"})]}),s.jsx("div",{className:"mt-6 space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:t.length===0?s.jsx(re,{children:s.jsxs(ne,{className:"p-8 text-center",children:[s.jsx(Vd,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All caught up!"}),s.jsx("p",{className:"text-gray-600",children:"No pending review notifications at the moment."})]})}):t.map(m=>s.jsx(PW,{notification:m,onMarkAsRead:u,onQuickAction:p},m.id))}),t.length>0&&s.jsx("div",{className:"mt-6 pt-4 border-t",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:t.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:c}),s.jsx("p",{className:"text-xs text-gray-500",children:"Unread"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:t.filter(m=>m.priority==="high").length}),s.jsx("p",{className:"text-xs text-gray-500",children:"High Priority"})]})]})})]})]})}const RW=({promotions:e,loading:t,onEdit:r,onDelete:n,onToggleStatus:i,onAddNew:a,onReorder:l})=>{const[c,u]=v.useState(""),[h,p]=v.useState("all"),m=e.filter(_=>{var S;const N=_.title.toLowerCase().includes(c.toLowerCase())||(((S=_.description)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))??!1),x=h==="all"||h==="active"&&_.is_active||h==="inactive"&&!_.is_active;return N&&x}),g=_=>{const N=new Date,x=_.start_date?new Date(_.start_date):null,S=_.end_date?new Date(_.end_date):null;return _.is_active?x&&N<x?{status:"scheduled",label:"Scheduled",color:"outline"}:S&&N>S?{status:"expired",label:"Expired",color:"destructive"}:{status:"active",label:"Active",color:"default"}:{status:"inactive",label:"Inactive",color:"secondary"}};return t?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Zt,{className:"w-8 h-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading promotions..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Promotions"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage promotional banners and campaigns"})]}),s.jsxs(B,{onClick:a,className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Add Promotion"]})]}),s.jsx(re,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"search",children:"Search Promotions"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Te,{id:"search",placeholder:"Search by title or description...",value:c,onChange:_=>u(_.target.value),className:"pl-9"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"status-filter",children:"Status Filter"}),s.jsxs("select",{id:"status-filter",value:h,onChange:_=>p(_.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(re,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),s.jsx($t,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(_=>_.is_active).length})]}),s.jsx(Kt,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:e.filter(_=>!_.is_active).length})]}),s.jsx($s,{className:"w-8 h-8 text-gray-500"})]})})}),s.jsx(re,{children:s.jsx(ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(_=>{const N=new Date,x=_.end_date?new Date(_.end_date):null;return x&&N>x}).length})]}),s.jsx(fr,{className:"w-8 h-8 text-red-500"})]})})})]}),m.length===0?s.jsx(re,{children:s.jsx(ne,{className:"py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx($t,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No promotions found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:c||h!=="all"?"Try adjusting your search or filter criteria":"Get started by creating your first promotion"}),!c&&h==="all"&&s.jsxs(B,{onClick:a,className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Add Your First Promotion"]})]})})}):s.jsx("div",{className:"space-y-4",children:m.map((_,N)=>{const x=g(_),S=N>0,w=N<m.length-1;return s.jsx(re,{className:"overflow-hidden",children:s.jsx(ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:_.image_url?s.jsx("img",{src:_.image_url,alt:_.title,className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none",b.target.parentElement.innerHTML='<div class="w-full h-full flex items-center justify-center text-gray-400"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>'}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(Kn,{className:"w-8 h-8"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold truncate",children:_.title}),_.description&&s.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:_.description})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(We,{variant:x.color,children:x.label}),s.jsxs(We,{variant:"outline",children:["Order: ",_.sort_order||0]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[_.start_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Lm,{className:"w-4 h-4"}),s.jsxs("span",{children:["Starts: ",new Date(_.start_date).toLocaleDateString()]})]}),_.end_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Ends: ",new Date(_.end_date).toLocaleDateString()]})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{children:["Updated: ",BP(new Date(_.updated_at),new Date,{addSuffix:!0})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>r(_),className:"flex items-center gap-1",children:[s.jsx(mo,{className:"w-3 h-3"}),"Edit"]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>i(_.id,!_.is_active),className:"flex items-center gap-1",children:_.is_active?s.jsxs(s.Fragment,{children:[s.jsx(pc,{className:"w-3 h-3"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zn,{className:"w-3 h-3"}),"Activate"]})}),_.image_url&&s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>window.open(_.image_url,"_blank"),className:"flex items-center gap-1",children:[s.jsx(Xl,{className:"w-3 h-3"}),"View Image"]}),s.jsxs("div",{className:"flex items-center gap-1 border rounded",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>l(_.id,"up"),disabled:!S,className:"px-2",children:s.jsx(cC,{className:"w-3 h-3"})}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>l(_.id,"down"),disabled:!w,className:"px-2",children:s.jsx(oC,{className:"w-3 h-3"})})]}),s.jsxs(B,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Are you sure you want to delete "${_.title}"? This action cannot be undone.`)&&n(_.id)},className:"flex items-center gap-1",children:[s.jsx(vs,{className:"w-3 h-3"}),"Delete"]})]})]})]})})},_.id)})})]})};var p_="Checkbox",[AW,wH]=ws(p_),[MW,OW]=AW(p_),jR=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:l,disabled:c,value:u="on",onCheckedChange:h,form:p,...m}=e,[g,_]=v.useState(null),N=ot(t,k=>_(k)),x=v.useRef(!1),S=g?p||!!g.closest("form"):!0,[w=!1,b]=_i({prop:i,defaultProp:a,onChange:h}),j=v.useRef(w);return v.useEffect(()=>{const k=g==null?void 0:g.form;if(k){const T=()=>b(j.current);return k.addEventListener("reset",T),()=>k.removeEventListener("reset",T)}},[g,b]),s.jsxs(MW,{scope:r,state:w,disabled:c,children:[s.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":pa(w)?"mixed":w,"aria-required":l,"data-state":CR(w),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:N,onKeyDown:me(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:me(e.onClick,k=>{b(T=>pa(T)?!0:!T),S&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})}),S&&s.jsx(LW,{control:g,bubbles:!x.current,name:n,value:u,checked:w,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"},defaultChecked:pa(a)?!1:a})]})});jR.displayName=p_;var NR="CheckboxIndicator",SR=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=OW(NR,r);return s.jsx(Gn,{present:n||pa(a.state)||a.state===!0,children:s.jsx(Oe.span,{"data-state":CR(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});SR.displayName=NR;var LW=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,l=v.useRef(null),c=j0(r),u=t0(t);v.useEffect(()=>{const p=l.current,m=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&_){const N=new Event("click",{bubbles:n});p.indeterminate=pa(r),_.call(p,pa(r)?!1:r),p.dispatchEvent(N)}},[c,r,n]);const h=v.useRef(pa(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...a,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pa(e){return e==="indeterminate"}function CR(e){return pa(e)?"indeterminate":e?"checked":"unchecked"}var kR=jR,IW=SR;const PR=v.forwardRef(({className:e,...t},r)=>s.jsx(kR,{ref:r,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(IW,{className:ce("flex items-center justify-center text-current"),children:s.jsx(Im,{className:"h-4 w-4"})})}));PR.displayName=kR.displayName;const DW=[{value:"percentage_discount",label:"Percentage Discount",description:"e.g., 25% off"},{value:"fixed_discount",label:"Fixed Amount Off",description:"e.g., ₹100 off"},{value:"buy_one_get_one",label:"Buy X Get Y",description:"e.g., Buy 2 Get 1 Free"},{value:"seasonal_offer",label:"Seasonal Offer",description:"Holiday/seasonal promotions"},{value:"flash_sale",label:"Flash Sale",description:"Limited time urgent offers"},{value:"welcome_offer",label:"Welcome Offer",description:"New customer promotions"},{value:"loyalty_reward",label:"Loyalty Reward",description:"Returning customer rewards"},{value:"free_delivery",label:"Free Delivery",description:"Free shipping promotions"}],FW=[{value:"percentage",label:"Percentage (%)"},{value:"fixed_amount",label:"Fixed Amount (₹)"},{value:"buy_x_get_y",label:"Buy X Get Y"},{value:"free_shipping",label:"Free Shipping"}],$W=[{name:"Orange",bg:"#FF6B35",text:"#FFFFFF"},{name:"Red",bg:"#FF3B30",text:"#FFFFFF"},{name:"Green",bg:"#34C759",text:"#FFFFFF"},{name:"Blue",bg:"#007AFF",text:"#FFFFFF"},{name:"Purple",bg:"#AF52DE",text:"#FFFFFF"},{name:"Pink",bg:"#FF2D92",text:"#FFFFFF"},{name:"Teal",bg:"#5AC8FA",text:"#000000"},{name:"Gold",bg:"#FFD700",text:"#000000"}],zW=({promotion:e,products:t,onSubmit:r,onCancel:n})=>{const{toast:i}=fn();v.useState(!1);const[a,l]=v.useState(!1),[c,u]=v.useState(!1),[h,p]=v.useState(""),[m,g]=v.useState(!1),[_,N]=v.useState(!1),[x,S]=v.useState(null),[w,b]=v.useState(null),[j,k]=v.useState({title:"",subtitle:"",description:"",promotion_type:"percentage_discount",discount_type:"percentage",discount_value:0,minimum_order_amount:0,maximum_discount_amount:0,buy_quantity:1,get_quantity:1,button_text:"Order Now",background_color:"#FF6B35",text_color:"#FFFFFF",terms_conditions:"",usage_limit:null,start_date:"",end_date:"",is_active:!0,sort_order:0,image_url:"",applicable_products:[]}),[T,I]=v.useState([]);v.useEffect(()=>{e&&(k({title:e.title||"",subtitle:e.subtitle||"",description:e.description||"",promotion_type:e.promotion_type||"percentage_discount",discount_type:e.discount_type||"percentage",discount_value:e.discount_value||0,minimum_order_amount:e.minimum_order_amount||0,maximum_discount_amount:e.maximum_discount_amount||0,buy_quantity:e.buy_quantity||1,get_quantity:e.get_quantity||1,button_text:e.button_text||"Order Now",background_color:e.background_color||"#FF6B35",text_color:e.text_color||"#FFFFFF",terms_conditions:e.terms_conditions||"",usage_limit:e.usage_limit,start_date:e.start_date?e.start_date.split("T")[0]:"",end_date:e.end_date?e.end_date.split("T")[0]:"",is_active:e.is_active,sort_order:e.sort_order||0,image_url:e.image_url||"",applicable_products:e.applicable_products||[]}),b(e.image_url||null))},[e]);const M=(E,A)=>{k(W=>({...W,[E]:A}))},R=async E=>{var A;try{if(E.size>5*1024*1024)throw new Error("File size must be less than 5MB");if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(E.type))throw new Error("Only JPEG, PNG, WebP, and GIF images are allowed");const J=(A=E.name.split(".").pop())==null?void 0:A.toLowerCase(),de=`promotion_${Date.now()}.${J}`,{data:Ne,error:ke}=await ye.storage.from("promotions").upload(de,E,{cacheControl:"3600",upsert:!1});if(ke)throw console.error("Storage upload error:",ke),new Error(`Upload failed: ${ke.message}`);const{data:Pe}=ye.storage.from("promotions").getPublicUrl(de);if(!(Pe!=null&&Pe.publicUrl))throw new Error("Failed to get public URL for uploaded image");return Pe.publicUrl}catch(W){throw console.error("Image upload error:",W),i({title:"Image Upload Failed",description:W instanceof Error?W.message:"Failed to upload image. Please try again.",variant:"destructive"}),W}},O=E=>{var W;const A=(W=E.target.files)==null?void 0:W[0];if(A){S(A);const J=new FileReader;J.onload=de=>{var Ne;return b((Ne=de.target)==null?void 0:Ne.result)},J.readAsDataURL(A)}},z=E=>{k(A=>({...A,image_url:E})),u(!1),i({title:"Success",description:"Image selected successfully"})},G=E=>{if(T.some(J=>J.id===E.id)){i({title:"Already Added",description:"This product is already linked to this promotion",variant:"destructive"});return}const W={id:E.id,name:E.name,price:E.price,image_url:E.image_url};I(J=>[...J,W]),g(!1),p(""),i({title:"Product Added",description:`${E.name} has been linked to this promotion`})},U=E=>{const A=T.find(W=>W.id===E);I(W=>W.filter(J=>J.id!==E)),A&&i({title:"Product Removed",description:`${A.name} has been unlinked from this promotion`})},Z=t.filter(E=>E.name.toLowerCase().includes(h.toLowerCase())&&!T.some(A=>A.id===E.id)),q=()=>{if(!j.title.trim())return i({title:"Validation Error",description:"Title is required",variant:"destructive"}),!1;if(!j.image_url.trim()&&!x)return i({title:"Validation Error",description:"Please select an image or upload a new one",variant:"destructive"}),!1;if(j.start_date&&j.end_date){const E=new Date(j.start_date),A=new Date(j.end_date);if(E>=A)return i({title:"Validation Error",description:"End date must be after start date",variant:"destructive"}),!1}return!0},ie=async E=>{if(E.preventDefault(),!!q()){N(!0);try{let A=j.image_url;if(x){l(!0);try{A=await R(x)}catch{return}finally{l(!1)}}const W={...j,image_url:A,start_date:j.start_date?new Date(j.start_date).toISOString():null,end_date:j.end_date?new Date(j.end_date).toISOString():null,usage_limit:j.usage_limit||null};await r(W),T.length>0&&console.log("Linked products (for future implementation):",T)}catch(A){console.error("Form submission error:",A),i({title:"Error",description:A instanceof Error?A.message:"Failed to save promotion. Please try again.",variant:"destructive"})}finally{N(!1)}}},K=E=>{k(A=>({...A,background_color:E.bg,text_color:E.text}))},Q=!!e;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(gC,{className:"h-5 w-5"}),Q?"Edit Promotion":"Create New Promotion"]})}),s.jsx(ne,{children:s.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"title",children:"Title *"}),s.jsx(Te,{id:"title",value:j.title,onChange:E=>M("title",E.target.value),placeholder:"e.g., Weekend Special",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"subtitle",children:"Subtitle"}),s.jsx(Te,{id:"subtitle",value:j.subtitle,onChange:E=>M("subtitle",E.target.value),placeholder:"e.g., Delicious Savings"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(vp,{id:"description",value:j.description,onChange:E=>M("description",E.target.value),placeholder:"Describe your promotion...",rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"sort-order",children:"Display Order"}),s.jsx(Te,{id:"sort-order",type:"number",value:j.sort_order||0,onChange:E=>M("sort_order",parseInt(E.target.value)||0),placeholder:"0",min:"0"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lower numbers appear first"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(PR,{id:"is-active",checked:j.is_active,onCheckedChange:E=>M("is_active",E)}),s.jsx(be,{htmlFor:"is-active",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"start-date",children:"Start Date"}),s.jsx(Te,{id:"start-date",type:"date",value:j.start_date,onChange:E=>M("start_date",E.target.value)})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"end-date",children:"End Date"}),s.jsx(Te,{id:"end-date",type:"date",value:j.end_date,onChange:E=>M("end_date",E.target.value)})]}),j.start_date&&j.end_date&&s.jsxs(Ws,{children:[s.jsx(Lm,{className:"h-4 w-4"}),s.jsxs(Hs,{children:["This promotion will run from ",new Date(j.start_date).toLocaleDateString(),"to ",new Date(j.end_date).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(be,{children:"Promotion Image *"}),w?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("img",{src:w,alt:"Promotion preview",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx(B,{type:"button",variant:"destructive",size:"sm",onClick:()=>{b(null),S(null),M("image_url","")},className:"absolute top-2 right-2",disabled:a,children:s.jsx(Vn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{type:"button",variant:"outline",onClick:()=>{var E;return(E=document.getElementById("image-upload"))==null?void 0:E.click()},className:"flex items-center gap-2",disabled:a,children:[a?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(Hd,{className:"w-4 h-4"}),a?"Uploading...":"Change Image"]}),s.jsxs(B,{type:"button",variant:"outline",onClick:()=>u(!0),className:"flex items-center gap-2",disabled:a,children:[s.jsx(Xl,{className:"w-4 h-4"}),"Select Existing"]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(Kn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a new image or select from existing images"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[s.jsxs(B,{type:"button",variant:"outline",onClick:()=>{var E;return(E=document.getElementById("image-upload"))==null?void 0:E.click()},className:"flex items-center gap-2",disabled:a,children:[a?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(Hd,{className:"w-4 h-4"}),a?"Uploading...":"Upload New Image"]}),s.jsxs(B,{type:"button",variant:"outline",onClick:()=>u(!0),className:"flex items-center gap-2",disabled:a,children:[s.jsx(Xl,{className:"w-4 h-4"}),"Select Existing"]})]})]}),s.jsx("input",{id:"image-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:O,className:"hidden",disabled:a}),s.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[s.jsx("p",{children:"Supported formats: JPEG, PNG, WebP, GIF"}),s.jsx("p",{children:"Maximum file size: 5MB"})]})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(yC,{className:"h-4 w-4"}),"Promotion Configuration"]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"promotion_type",children:"Promotion Type"}),s.jsxs(jr,{value:j.promotion_type,onValueChange:E=>M("promotion_type",E),children:[s.jsx(pr,{children:s.jsx(Nr,{})}),s.jsx(gr,{children:DW.map(E=>s.jsx(Ie,{value:E.value,children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:E.label}),s.jsx("div",{className:"text-sm text-gray-500",children:E.description})]})},E.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"discount_type",children:"Discount Type"}),s.jsxs(jr,{value:j.discount_type,onValueChange:E=>M("discount_type",E),children:[s.jsx(pr,{children:s.jsx(Nr,{})}),s.jsx(gr,{children:FW.map(E=>s.jsx(Ie,{value:E.value,children:E.label},E.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[j.discount_type!=="buy_x_get_y"?s.jsxs("div",{children:[s.jsxs(be,{htmlFor:"discount_value",children:["Discount Value ",j.discount_type==="percentage"?"(%)":"(₹)"]}),s.jsx(Te,{id:"discount_value",type:"number",value:j.discount_value,onChange:E=>M("discount_value",Number(E.target.value)),min:"0",max:j.discount_type==="percentage"?"100":void 0})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"buy_quantity",children:"Buy Quantity"}),s.jsx(Te,{id:"buy_quantity",type:"number",value:j.buy_quantity,onChange:E=>M("buy_quantity",Number(E.target.value)),min:"1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"get_quantity",children:"Get Quantity"}),s.jsx(Te,{id:"get_quantity",type:"number",value:j.get_quantity,onChange:E=>M("get_quantity",Number(E.target.value)),min:"1"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"minimum_order",children:"Minimum Order (₹)"}),s.jsx(Te,{id:"minimum_order",type:"number",value:j.minimum_order_amount,onChange:E=>M("minimum_order_amount",Number(E.target.value)),min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"button_text",children:"Button Text"}),s.jsx(Te,{id:"button_text",value:j.button_text,onChange:E=>M("button_text",E.target.value),placeholder:"Order Now"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"usage_limit",children:"Usage Limit (optional)"}),s.jsx(Te,{id:"usage_limit",type:"number",value:j.usage_limit||"",onChange:E=>M("usage_limit",E.target.value?Number(E.target.value):null),min:"1",placeholder:"Unlimited"})]})]})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(NL,{className:"h-4 w-4"}),"Visual Customization"]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Color Presets"}),s.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2 mt-2",children:$W.map(E=>s.jsx("button",{type:"button",onClick:()=>K(E),className:"w-12 h-12 rounded-lg border-2 border-gray-200 hover:border-gray-400 transition-colors",style:{backgroundColor:E.bg},title:E.name},E.name))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"background_color",children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{id:"background_color",type:"color",value:j.background_color,onChange:E=>M("background_color",E.target.value),className:"w-16 h-10 p-1"}),s.jsx(Te,{value:j.background_color,onChange:E=>M("background_color",E.target.value),placeholder:"#FF6B35",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"text_color",children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{id:"text_color",type:"color",value:j.text_color,onChange:E=>M("text_color",E.target.value),className:"w-16 h-10 p-1"}),s.jsx(Te,{value:j.text_color,onChange:E=>M("text_color",E.target.value),placeholder:"#FFFFFF",className:"flex-1"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Linked Products (Future Feature)"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Products that this promotion applies to or highlights"})]}),s.jsxs(B,{type:"button",variant:"outline",onClick:()=>g(!0),className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Link Product"]})]}),T.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(E=>s.jsx(re,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[E.image_url&&s.jsx("img",{src:E.image_url,alt:E.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:E.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["₹",E.price]})]}),s.jsx(B,{type:"button",variant:"destructive",size:"sm",onClick:()=>U(E.id),children:s.jsx(vs,{className:"w-4 h-4"})})]})},E.id))}),T.length===0&&s.jsxs(Ws,{children:[s.jsx(Of,{className:"h-4 w-4"}),s.jsxs(Hs,{children:["No products linked yet. You can link products to specify which items this promotion applies to.",s.jsx("br",{}),s.jsx("em",{children:"Note: Product linking functionality will be fully implemented in a future update."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t",children:[s.jsxs(B,{type:"submit",disabled:_||a,className:"flex items-center gap-2",children:[_||a?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(PL,{className:"w-4 h-4"}),a?"Uploading Image...":_?Q?"Updating...":"Creating...":Q?"Update Promotion":"Create Promotion"]}),s.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:_||a,children:"Cancel"}),(a||_)&&s.jsxs("div",{className:"text-sm text-gray-500",children:[a&&"Please wait while the image is being uploaded...",_&&!a&&"Saving promotion data..."]})]})]})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Choose Promotion Image"}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:s.jsx(Vn,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:s.jsx(f_,{selectedImageUrl:j.image_url,onImageSelect:z,context:"all",buttonText:"Select Image"})})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Link Products to Promotion"}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{g(!1),p("")},children:s.jsx(Vn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Te,{placeholder:"Search products...",value:h,onChange:E=>p(E.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Z.map(E=>s.jsx(re,{className:"p-4 cursor-pointer hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",onClick:()=>G(E),children:[E.image_url&&s.jsx("img",{src:E.image_url,alt:E.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:E.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["₹",E.price]}),s.jsx(We,{variant:E.is_available?"default":"secondary",children:E.is_available?"Available":"Unavailable"})]}),s.jsx(B,{type:"button",variant:"outline",size:"sm",children:s.jsx(br,{className:"w-4 h-4"})})]})},E.id))}),Z.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(er,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No products found"}),h&&s.jsx("p",{className:"text-sm",children:"Try adjusting your search terms"})]})]})]})})]})},BW="/lovable-uploads/473c14c0-5942-46bc-bb0a-293ae4719543.png",UW="/images/categories/sample-category.png",g_=e=>new Promise(t=>{if(!e||e.trim()===""){t(!1);return}const r=new Image;r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e,setTimeout(()=>t(!1),5e3)}),ER=async()=>{try{const{data:e,error:t}=await ye.from("products").select("id, name, image_url").not("image_url","is",null);if(t)return console.error("Error fetching products:",t),[];const r=[];for(const n of e||[]){const i=await g_(n.image_url);r.push({id:n.id,name:n.name,currentImageUrl:n.image_url,imageExists:i,tableType:"products"})}return r}catch(e){return console.error("Error checking product images:",e),[]}},TR=async()=>{try{const{data:e,error:t}=await ye.from("categories").select("id, name, image_url").not("image_url","is",null);if(t)return console.error("Error fetching categories:",t),[];const r=[];for(const n of e||[]){const i=await g_(n.image_url);r.push({id:n.id,name:n.name,currentImageUrl:n.image_url,imageExists:i,tableType:"categories"})}return r}catch(e){return console.error("Error checking category images:",e),[]}},VW=async e=>{try{for(const t of e){const r=t.currentImageUrl.match(/(\d+)-([a-zA-Z0-9]+)\.(png|jpg|jpeg)/);if(r){const i=`/lovable-uploads/${r[0]}`;if(await g_(i)){t.tableType==="products"?await ye.from("products").update({image_url:i}).eq("id",t.id):await ye.from("categories").update({image_url:i}).eq("id",t.id),console.log(`Fixed path for ${t.name}: ${t.currentImageUrl} → ${i}`);continue}}const n=t.tableType==="products"?BW:UW;t.tableType==="products"?await ye.from("products").update({image_url:n}).eq("id",t.id):await ye.from("categories").update({image_url:n}).eq("id",t.id),console.log(`Set default image for ${t.name}: ${t.currentImageUrl} → ${n}`)}return!0}catch(t){return console.error("Error fixing image paths:",t),!1}},WW=async()=>{console.log("Starting image cleanup process...");const[e,t]=await Promise.all([ER(),TR()]),r=[...e,...t],n=r.filter(i=>!i.imageExists);return console.log(`Found ${n.length} broken images out of ${r.length} total`),n.length>0&&(console.log("Broken images:",n.map(a=>`${a.name}: ${a.currentImageUrl}`)),await VW(n))?(console.log(`Image cleanup complete. Attempted to fix ${n.length} broken images.`),{productResults:e,categoryResults:t,brokenCount:n.length,fixedCount:n.length}):(console.log("No broken images found. All images are working correctly."),{productResults:e,categoryResults:t,brokenCount:0,fixedCount:0})},HW=async()=>{const[e,t]=await Promise.all([ER(),TR()]);return{totalProducts:e.length,totalCategories:t.length,productsWithImages:e.length,categoriesWithImages:t.length,workingProductImages:e.filter(r=>r.imageExists).length,workingCategoryImages:t.filter(r=>r.imageExists).length,brokenProductImages:e.filter(r=>!r.imageExists).length,brokenCategoryImages:t.filter(r=>!r.imageExists).length}},qW=()=>{const[e,t]=v.useState("gallery"),[r,n]=v.useState(null),[i,a]=v.useState(!1),[l,c]=v.useState(!1),[u,h]=v.useState(!1),[p,m]=v.useState([]),[g,_]=v.useState("grid"),[N,x]=v.useState(""),[S,w]=v.useState("all"),[b,j]=v.useState("products"),[k,T]=v.useState(0),[I,M]=v.useState(null),R=[{value:"products",label:"Products",icon:er,description:"Food items and menu products",color:"bg-blue-50 text-blue-600 border-blue-200"},{value:"categories",label:"Categories",icon:wL,description:"Menu categories and sections",color:"bg-green-50 text-green-600 border-green-200"},{value:"promotions",label:"Promotions",icon:$t,description:"Banners and promotional content",color:"bg-purple-50 text-purple-600 border-purple-200"}],O=async()=>{a(!0);try{const Q=await HW();n(Q)}catch(Q){console.error("Error loading image stats:",Q)}finally{a(!1)}},z=v.useCallback(async()=>{try{a(!0);const[Q,E,A]=await Promise.all([Qa("products").catch(()=>[]),Qa("categories").catch(()=>[]),Qa("promotions").catch(()=>[])]),W=[...Q,...E,...A];m(W)}catch(Q){console.error("Error loading storage images:",Q),Ce({title:"Error",description:"Failed to load images from storage",variant:"destructive"})}finally{a(!1)}},[]),G=async Q=>{if(Q.length){h(!0),T(0);try{const E=Array.from(Q),A=await cW(E,b);T(100);const W=R.find(J=>J.value===b);Ce({title:"Upload Successful",description:`Successfully uploaded ${A.length} file(s) to ${W==null?void 0:W.label} in Supabase Storage`}),await z()}catch(E){console.error("Upload error:",E),Ce({title:"Upload Failed",description:E instanceof Error?E.message:"Upload failed. Please try again.",variant:"destructive"})}finally{h(!1),T(0)}}},U=async Q=>{if(confirm(`Are you sure you want to delete ${Q.name}?`))try{await yR(Q.url),Ce({title:"Image Deleted",description:`Successfully deleted ${Q.name}`}),await z()}catch(E){console.error("Delete error:",E),Ce({title:"Delete Failed",description:E instanceof Error?E.message:"Delete failed. Please try again.",variant:"destructive"})}},Z=Q=>{navigator.clipboard.writeText(Q),Ce({title:"URL Copied",description:"Image URL copied to clipboard"})},q=async()=>{c(!0);try{const Q=await WW();M(Q),await O()}catch(Q){console.error("Error fixing images:",Q),Ce({title:"Error",description:"Failed to fix images. Please try again.",variant:"destructive"})}finally{c(!1)}},ie=p.filter(Q=>{const E=Q.name.toLowerCase().includes(N.toLowerCase()),A=S==="all"||Q.category===S;return E&&A}),K=R.find(Q=>Q.value===b);return v.useEffect(()=>{O(),z()},[z]),s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Image Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your Supabase Storage images and check system health"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(We,{variant:"outline",className:"border-green-500 text-green-600",children:[s.jsx(TL,{className:"w-3 h-3 mr-1"}),"Supabase Storage"]})})]}),s.jsxs(_o,{value:e,onValueChange:Q=>t(Q),children:[s.jsxs(Oo,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ht,{value:"gallery",className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"w-4 h-4"}),"Storage Gallery"]}),s.jsxs(Ht,{value:"health",className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"w-4 h-4"}),"System Health"]})]}),s.jsxs(ur,{value:"gallery",className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"w-5 h-5"}),"Upload Images to Supabase Storage"]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"upload-category",children:"Upload Category *"}),s.jsxs(jr,{value:b,onValueChange:Q=>j(Q),children:[s.jsx(pr,{id:"upload-category",children:s.jsx(Nr,{placeholder:"Select category for upload"})}),s.jsx(gr,{children:R.map(Q=>{const E=Q.icon;return s.jsx(Ie,{value:Q.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Q.label}),s.jsx("div",{className:"text-xs text-muted-foreground",children:Q.description})]})]})},Q.value)})})]}),K&&s.jsx("div",{className:`p-3 rounded-lg border ${K.color}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K.icon,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-sm",children:["Uploading to ",K.label]}),s.jsx("div",{className:"text-xs opacity-75",children:K.description})]})]})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(Te,{type:"file",multiple:!0,accept:"image/*",onChange:Q=>Q.target.files&&G(Q.target.files),disabled:u,className:"mb-4"}),u&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4 animate-spin"}),s.jsxs("span",{children:["Uploading to ",K==null?void 0:K.label,"..."]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${k}%`}})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to select files or drag and drop images here"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Images will be uploaded to: ",s.jsx("strong",{children:K==null?void 0:K.label})]})]}),s.jsxs(Ws,{children:[s.jsx(Of,{className:"h-4 w-4"}),s.jsxs(Hs,{children:["Images will be uploaded to ",s.jsx("strong",{children:K==null?void 0:K.label})," in Supabase Storage with automatic compression and optimization. Supported formats: JPEG, PNG, WebP (max 5MB each)."]})]})]})]}),s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_L,{className:"w-5 h-5"}),"Supabase Storage Gallery (",ie.length," images)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(g==="grid"?"list":"grid"),children:g==="grid"?s.jsx(bL,{className:"w-4 h-4"}):s.jsx(Zy,{className:"w-4 h-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:z,disabled:i,children:i?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(ui,{className:"w-4 h-4"})})]})]})}),s.jsxs(ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{htmlFor:"search",children:"Search Images"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Te,{id:"search",placeholder:"Search by filename...",value:N,onChange:Q=>x(Q.target.value),className:"pl-9"})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"category",children:"Filter by Category"}),s.jsxs("select",{id:"category",value:S,onChange:Q=>w(Q.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"products",children:"Products"}),s.jsx("option",{value:"categories",children:"Categories"}),s.jsx("option",{value:"promotions",children:"Promotions"})]})]})]}),i?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Zt,{className:"w-8 h-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading images..."})]}):ie.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Kn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium",children:"No images found"}),s.jsx("p",{className:"text-sm",children:N||S!=="all"?"Try adjusting your search or filter criteria":"Upload some images to get started"})]}):g==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:ie.map(Q=>s.jsxs(re,{className:"overflow-hidden",children:[s.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[s.jsx("img",{src:Q.publicUrl,alt:Q.name,className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none",E.target.parentElement.innerHTML='<div class="text-gray-400 w-full h-full flex items-center justify-center"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>'}}),s.jsx(We,{variant:"secondary",className:"absolute top-2 left-2 text-xs",children:Q.category})]}),s.jsx(ne,{className:"p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:Q.name,children:Q.name}),Q.size&&s.jsx("p",{className:"text-xs text-gray-500",children:mm(Q.size)}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Z(Q.publicUrl),className:"flex-1 h-7 text-xs",children:[s.jsx(Pb,{className:"w-3 h-3 mr-1"}),"Copy URL"]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.open(Q.publicUrl,"_blank"),className:"h-7 px-2",children:s.jsx(Xl,{className:"w-3 h-3"})}),s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>U(Q),className:"h-7 px-2",children:s.jsx(vs,{className:"w-3 h-3"})})]})]})})]},Q.id))}):s.jsx("div",{className:"space-y-2",children:ie.map(Q=>s.jsx(re,{children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded overflow-hidden flex-shrink-0",children:s.jsx("img",{src:Q.publicUrl,alt:Q.name,className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none",E.target.parentElement.innerHTML='<div class="text-gray-400 w-full h-full flex items-center justify-center"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div>'}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:Q.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(We,{variant:"outline",className:"text-xs",children:Q.category}),Q.size&&s.jsx("span",{className:"text-xs text-gray-500",children:mm(Q.size)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Z(Q.publicUrl),children:[s.jsx(Pb,{className:"w-4 h-4 mr-1"}),"Copy URL"]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.open(Q.publicUrl,"_blank"),children:s.jsx(Xl,{className:"w-4 h-4"})}),s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>U(Q),children:s.jsx(vs,{className:"w-4 h-4"})})]})]})})},Q.id))})]})]})]}),s.jsx(ur,{value:"health",className:"space-y-6",children:s.jsxs(re,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"w-5 h-5"}),"System Health Check"]})}),s.jsxs(ne,{className:"space-y-4",children:[r?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalProducts}),s.jsx("div",{className:"text-sm text-blue-600",children:"Total Products"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.productsWithImages}),s.jsx("div",{className:"text-sm text-green-600",children:"Products with Images"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.totalCategories}),s.jsx("div",{className:"text-sm text-purple-600",children:"Total Categories"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.categoriesWithImages}),s.jsx("div",{className:"text-sm text-orange-600",children:"Categories with Images"})]})]}):s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),"Loading stats..."]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(B,{onClick:O,disabled:i,variant:"outline",children:[i?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(ui,{className:"w-4 h-4 mr-2"}),"Refresh Stats"]}),s.jsxs(B,{onClick:q,disabled:l,variant:"secondary",children:[l?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Fix Broken Images"]})]}),I&&s.jsxs(Ws,{children:[s.jsx(Of,{className:"h-4 w-4"}),s.jsxs(Hs,{children:["Last cleanup: Found ",I.brokenCount," broken images, fixed ",I.fixedCount," automatically."]})]})]})]})})]})]})},ZW=()=>{const e=Qn(),t=bt({mutationFn:async l=>{var c,u,h;console.log("Attempting to add product:",l);try{const{data:p,error:m}=await ye.from("products").insert({name:l.name,description:l.description,price:l.price,category_id:l.category_id,image_url:l.image_url,is_available:l.is_available,is_veg:l.is_veg,type:l.type}).select().single();if(m)throw console.error("Database error details:",m),m.code==="42501"||(c=m.message)!=null&&c.includes("policy")?new Error("Access denied: Admin permissions required to add products. Please ensure you have proper admin access or check with your administrator."):m.code==="23505"?new Error("A product with this name already exists."):m;return p}catch(p){throw console.error("Error adding product:",p),(u=p.message)!=null&&u.includes("Failed to fetch")?new Error("Network error: Unable to connect to database. Please check your internet connection."):(h=p.message)!=null&&h.includes("403")?new Error("Permission denied: You need admin privileges to add products. Please contact an administrator."):p}},onSuccess:l=>{e.invalidateQueries({queryKey:["products"]}),Ce({title:"Product Added",description:`${l.name} has been successfully added.`})},onError:l=>{var u,h,p;console.error("Failed to add product:",l);let c="Failed to add product. Please try again.";(u=l.message)!=null&&u.includes("Admin permissions required")?c="Admin access required. Please sign in with an admin account.":(h=l.message)!=null&&h.includes("Network error")?c="Connection issue. Please check your internet and try again.":(p=l.message)!=null&&p.includes("already exists")&&(c="A product with this name already exists. Please use a different name."),Ce({title:"Error Adding Product",description:c,variant:"destructive"})}}),r=bt({mutationFn:async({id:l,updates:c})=>{const{data:u,error:h}=await ye.from("products").update(c).eq("id",l).select().single();if(h)throw console.error("Error updating product:",h),h;return u},onMutate:async({id:l,updates:c})=>{await e.cancelQueries({queryKey:["products"]});const u=e.getQueryData(["products"]);return e.setQueryData(["products"],h=>h&&h.map(p=>p.id===l?{...p,...c}:p)),{previousProducts:u}},onSuccess:l=>{e.invalidateQueries({queryKey:["products"]}),Ce({title:"Product Updated",description:`${l.name} has been successfully updated.`})},onError:(l,c,u)=>{u!=null&&u.previousProducts&&e.setQueryData(["products"],u.previousProducts),console.error("Failed to update product:",l),Ce({title:"Error",description:"Failed to update product. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["products"]})}}),n=bt({mutationFn:async l=>{const{error:c}=await ye.from("products").delete().eq("id",l);if(c)throw console.error("Error deleting product:",c),c},onMutate:async l=>{await e.cancelQueries({queryKey:["products"]});const c=e.getQueryData(["products"]);return e.setQueryData(["products"],u=>u&&u.filter(h=>h.id!==l)),{previousProducts:c}},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),Ce({title:"Product Deleted",description:"Product has been successfully deleted."})},onError:(l,c,u)=>{u!=null&&u.previousProducts&&e.setQueryData(["products"],u.previousProducts),console.error("Failed to delete product:",l),Ce({title:"Error",description:"Failed to delete product. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["products"]})}}),i=bt({mutationFn:async({id:l,isAvailable:c})=>{const{data:u,error:h}=await ye.from("products").update({is_available:c}).eq("id",l).select().single();if(h)throw console.error("Error toggling product availability:",h),h;return u},onMutate:async({id:l,isAvailable:c})=>{await e.cancelQueries({queryKey:["products"]});const u=e.getQueryData(["products"]);return e.setQueryData(["products"],h=>h&&h.map(p=>p.id===l?{...p,is_available:c}:p)),{previousProducts:u}},onSuccess:l=>{e.invalidateQueries({queryKey:["products"]}),Ce({title:"Availability Updated",description:`${l.name} is now ${l.is_available?"available":"unavailable"}.`})},onError:(l,c,u)=>{u!=null&&u.previousProducts&&e.setQueryData(["products"],u.previousProducts),console.error("Failed to toggle product availability:",l),Ce({title:"Error",description:"Failed to update product availability. Please try again.",variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:["products"]})}}),a=bt({mutationFn:async l=>{const c=l.map(({id:p,price:m})=>ye.from("products").update({price:m}).eq("id",p)),h=(await Promise.allSettled(c)).filter(p=>p.status==="rejected");if(h.length>0)throw new Error(`${h.length} price updates failed`)},onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),Ce({title:"Prices Updated",description:"Bulk price update completed successfully."})},onError:l=>{console.error("Failed to update prices:",l),Ce({title:"Error",description:"Some price updates failed. Please check and try again.",variant:"destructive"})}});return{addProduct:t,updateProduct:r,deleteProduct:n,toggleAvailability:i,bulkUpdatePrices:a}},KW=()=>{const{user:e,signOut:t}=kr(),[r,n]=v.useState("dashboard"),[i,a]=v.useState("list"),[l,c]=v.useState("list"),[u,h]=v.useState("list"),[p,m]=v.useState("list"),[g,_]=v.useState(null),[N,x]=v.useState(null),[S,w]=v.useState(null),[b,j]=v.useState(null),{data:k=[],isLoading:T,error:I}=Yz(),{data:M=[],isLoading:R,error:O}=Qz(),{data:z=[],isLoading:G,error:U}=Jz(),{data:Z=[],isLoading:q,error:ie}=MP(),K=Z,Q=k.map(Ee=>{const Pt=M.find(Fr=>Fr.id===Ee.category_id);return{...Ee,categories:Pt?{name:Pt.name}:null}}),{addProduct:E,updateProduct:A,deleteProduct:W,toggleAvailability:J}=ZW(),{addCategory:de,updateCategory:Ne,deleteCategory:ke}=m_();_R();const{addPromotion:Pe,updatePromotion:he,deletePromotion:ve,togglePromotionStatus:Fe,reorderPromotions:Xe}=eB(),He=()=>{var Ee;return s.jsx("div",{className:"bg-slate-800 shadow-lg border-b border-slate-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Df,{className:"h-8 w-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Seabites Admin Portal"}),s.jsxs("p",{className:"text-slate-400",children:["Welcome back, ",((Ee=e==null?void 0:e.user_metadata)==null?void 0:Ee.first_name)||"Administrator"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(TW,{}),s.jsxs(B,{variant:"outline",onClick:()=>t(),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[s.jsx(vC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})})},rt=()=>s.jsx("div",{className:"bg-slate-900 border-b border-slate-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(_o,{value:r,onValueChange:Ee=>n(Ee),children:s.jsxs(Oo,{className:"grid w-full grid-cols-8 bg-slate-800 rounded-none h-auto p-0",children:[s.jsxs(Ht,{value:"dashboard",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(Fm,{className:"h-4 w-4"}),"Dashboard"]}),s.jsxs(Ht,{value:"products",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(er,{className:"h-4 w-4"}),"Products"]}),s.jsxs(Ht,{value:"categories",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(If,{className:"h-4 w-4"}),"Categories"]}),s.jsxs(Ht,{value:"orders",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(Jl,{className:"h-4 w-4"}),"Orders"]}),s.jsxs(Ht,{value:"reviews",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(xa,{className:"h-4 w-4"}),"Reviews"]}),s.jsxs(Ht,{value:"images",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(Kn,{className:"h-4 w-4"}),"Images"]}),s.jsxs(Ht,{value:"promotions",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx($t,{className:"h-4 w-4"}),"Promotions"]}),s.jsxs(Ht,{value:"analytics",className:"flex items-center gap-2 py-4 data-[state=active]:bg-slate-700 data-[state=active]:text-white",children:[s.jsx(uC,{className:"h-4 w-4"}),"Analytics"]})]})})})}),Le={totalProducts:k.length,availableProducts:k.filter(Ee=>Ee.is_available).length,unavailableProducts:k.filter(Ee=>!Ee.is_available).length,foodItems:k.filter(Ee=>Ee.type==="food").length,totalCategories:M.length,visibleCategories:M.filter(Ee=>Ee.is_visible).length,totalOrders:K.length,pendingOrders:K.filter(Ee=>Ee.status==="pending").length,confirmedOrders:K.filter(Ee=>Ee.status==="confirmed").length,totalRevenue:K.reduce((Ee,Pt)=>Ee+(Pt.total_amount||0),0),totalPromotions:(z==null?void 0:z.length)||0,activePromotions:(z==null?void 0:z.filter(Ee=>Ee.is_active).length)||0},kt=()=>{_(null),a("add")},Yt=Ee=>{_(Ee),a("edit")},Qr=async Ee=>{await W.mutateAsync(Ee)},ar=async(Ee,Pt)=>{await J.mutateAsync({id:Ee,isAvailable:Pt})},Yr=async Ee=>{i==="add"?await E.mutateAsync(Ee):i==="edit"&&g&&await A.mutateAsync({id:g.id,updates:Ee}),a("list"),_(null)},F=()=>{a("list"),_(null)},V=()=>{x(null),c("add")},X=Ee=>{x(Ee),c("edit")},pe=async Ee=>{try{N?await Ne.mutateAsync({id:N.id,updates:Ee}):await de.mutateAsync(Ee),c("list"),x(null)}catch(Pt){throw console.error("Category form submission error:",Pt),Pt}},ue=()=>{c("list"),x(null)},ae=Ee=>{w(Ee),h("details")},Re=()=>{h("list"),w(null)},Ve=()=>{j(null),m("add")},wt=Ee=>{j(Ee),m("edit")},mt=async Ee=>{await ve.mutateAsync(Ee)},Dr=async(Ee,Pt)=>{await Fe.mutateAsync({id:Ee,isActive:Pt})},Rn=(Ee,Pt)=>{const Fr=z.findIndex(Ue=>Ue.id===Ee);if(Fr===-1)return;const Xr=Pt==="up"?Fr-1:Fr+1;if(Xr<0||Xr>=z.length)return;const Pr=[...z];[Pr[Fr],Pr[Xr]]=[Pr[Xr],Pr[Fr]];const Qs=Pr.map((Ue,vt)=>({id:Ue.id,sort_order:vt}));Xe.mutateAsync(Qs)},Yn=async Ee=>{try{b?await he.mutateAsync({id:b.id,updates:Ee}):await Pe.mutateAsync(Ee),m("list"),j(null)}catch(Pt){throw console.error("Promotion form submission error:",Pt),Pt}},Xn=()=>{m("list"),j(null)};return s.jsx(W7,{children:s.jsxs("div",{className:"min-h-screen bg-slate-900",children:[s.jsx(He,{}),s.jsx(rt,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(_o,{value:r,onValueChange:Ee=>n(Ee),children:[s.jsxs(ur,{value:"dashboard",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium text-slate-200",children:"Total Products"}),s.jsx(er,{className:"h-4 w-4 text-blue-400"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:Le.totalProducts}),s.jsxs("p",{className:"text-xs text-slate-400",children:[Le.availableProducts," available, ",Le.unavailableProducts," unavailable"]})]})]}),s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium text-slate-200",children:"Orders"}),s.jsx(Jl,{className:"h-4 w-4 text-green-400"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:Le.totalOrders}),s.jsxs("p",{className:"text-xs text-slate-400",children:[Le.pendingOrders," pending, ",Le.confirmedOrders," confirmed"]})]})]}),s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium text-slate-200",children:"Categories"}),s.jsx(If,{className:"h-4 w-4 text-purple-400"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:Le.totalCategories}),s.jsxs("p",{className:"text-xs text-slate-400",children:[Le.visibleCategories," visible"]})]})]}),s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium text-slate-200",children:"Promotions"}),s.jsx($t,{className:"h-4 w-4 text-yellow-400"})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:Le.totalPromotions}),s.jsxs("p",{className:"text-xs text-slate-400",children:[Le.activePromotions," active"]})]})]}),s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium text-slate-200",children:"Revenue"}),s.jsx(Hy,{className:"h-4 w-4 text-orange-400"})]}),s.jsxs(ne,{children:[s.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Le.totalRevenue.toFixed(2)]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Total earnings"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(SW,{}),s.jsxs(re,{className:"bg-slate-800 border-slate-700",children:[s.jsx(qe,{children:s.jsx(Ze,{className:"text-white",children:"Recent Activity"})}),s.jsx(ne,{children:s.jsx("p",{className:"text-slate-400",children:"Activity feed would go here..."})})]})]})]}),s.jsx(ur,{value:"reviews",className:"space-y-6",children:s.jsx(_W,{})}),s.jsx(ur,{value:"products",className:"space-y-6",children:i==="list"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Products Management"}),s.jsxs(B,{onClick:kt,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),s.jsx(Z7,{products:Q,onEdit:Yt,onDelete:Qr,onToggleAvailability:ar,onAddNew:kt,loading:T})]}):s.jsx("div",{children:R?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),s.jsx("span",{className:"ml-2 text-white",children:"Loading categories..."})]}):s.jsx(uW,{product:g,onSubmit:Yr,onCancel:F,categories:M,loading:T})})}),s.jsx(ur,{value:"categories",className:"space-y-6",children:l==="list"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Categories Management"}),s.jsxs(B,{onClick:V,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),s.jsx(fW,{categories:M,onEdit:X,onDelete:()=>{},onToggleVisibility:()=>{},onAddNew:V,loading:R})]}):s.jsx(hW,{category:N,onSubmit:pe,onCancel:ue})}),s.jsx(ur,{value:"orders",className:"space-y-6",children:u==="list"?s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Orders Management"}),s.jsx(mW,{orders:K,onViewDetails:ae,onUpdateStatus:()=>{},onRefresh:()=>{},loading:q})]}):s.jsx(pW,{order:S,onClose:Re,onStatusUpdate:()=>{}})}),s.jsx(ur,{value:"images",className:"space-y-6",children:s.jsx(qW,{})}),s.jsx(ur,{value:"promotions",className:"space-y-6",children:p==="list"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Promotions Management"}),s.jsxs(B,{onClick:Ve,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Add Promotion"]})]}),s.jsx(RW,{promotions:z,loading:G,onEdit:wt,onDelete:mt,onToggleStatus:Dr,onReorder:Rn,onAddNew:Ve})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{variant:"outline",onClick:Xn,className:"flex items-center gap-2 text-slate-300 border-slate-600 hover:bg-slate-700",children:[s.jsx(wr,{className:"h-4 w-4"}),"Back to Promotions"]}),s.jsx(zW,{promotion:b,products:k,onSubmit:Yn,onCancel:Xn})]})}),s.jsxs(ur,{value:"analytics",className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Analytics Dashboard"}),s.jsx(gW,{products:k,categories:M,loading:T||R})]})]})})]})})},GW=new RF,QW=()=>s.jsx(IF,{client:GW,children:s.jsx(c$,{children:s.jsx(h$,{children:s.jsx(f$,{children:s.jsxs(pF,{children:[s.jsx(mI,{}),s.jsx(VI,{}),s.jsx(U5,{children:s.jsxs(k2,{children:[s.jsx(lr,{path:"/admin/login",element:s.jsx(V7,{})}),s.jsx(lr,{path:"/admin/dashboard",element:s.jsx(KW,{})}),s.jsx(lr,{path:"/*",element:s.jsx(U7,{})}),s.jsx(lr,{path:"*",element:s.jsx(fR,{})})]})})]})})})})});LS(document.getElementById("root")).render(s.jsx(QW,{}));export{_1 as g};
